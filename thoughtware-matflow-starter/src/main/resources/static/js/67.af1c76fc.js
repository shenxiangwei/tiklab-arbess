(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{585:function(e,n,t){"use strict";var r=t(0),i=t.n(r);n.a=function(e){var n=e.text,t=e.colors;return i.a.createElement("span",{className:"mf-listname-icon ".concat(t?"mf-icon-".concat(t):"mf-icon-1"),__source:{fileName:"/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/list/ListIcon.js",lineNumber:10,columnNumber:9}},n&&n.substring(0,1).toUpperCase())}},966:function(e,n,t){"use strict";t.r(n);t(309);var r=t(144),i=t(0),a=t.n(i),l=t(62),o=t(38),c=t(548),m=t(549),u=t(197),s=t(550),N=t(551),p=(t(311),t(146)),f=t(295),b=t(529),d=t(111),_=t(585),y="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/aside/Aside.js",v=function(e){var n=e.recentlyPipeline,t=e.pipeline,r=e.route,i=e.location,l=e.firstRouters,o=i.pathname;return a.a.createElement("div",{className:"mf-layout",__source:{fileName:y,lineNumber:28,columnNumber:9}},a.a.createElement("div",{className:"mf-normal-aside",__source:{fileName:y,lineNumber:29,columnNumber:13}},a.a.createElement(p.default,{getPopupContainer:function(e){return e.parentElement},overlayStyle:{width:200,top:48,left:80},trigger:["click"],overlay:a.a.createElement("div",{className:"pipeline-opt",__source:{fileName:y,lineNumber:35,columnNumber:25}},a.a.createElement("div",{className:"pipeline-opt-title",__source:{fileName:y,lineNumber:36,columnNumber:29}},"切换流水线"),a.a.createElement("div",{className:"pipeline-opt-group",__source:{fileName:y,lineNumber:37,columnNumber:29}},n&&n.map((function(n){return n?a.a.createElement("div",{onClick:function(){return function(n){t.id!==n.id&&e.history.push("/pipeline/".concat(n.id,"/history"))}(n)},key:n.id,className:"pipeline-opt-item ".concat(n.id===(null==t?void 0:t.id)?"pipeline-opt-active":""),__source:{fileName:y,lineNumber:42,columnNumber:49}},a.a.createElement("span",{className:"pipeline-opt-icon mf-icon-".concat(n.color),__source:{fileName:y,lineNumber:46,columnNumber:53}},n.name.substring(0,1).toUpperCase()),a.a.createElement("span",{className:"pipeline-opt-name",__source:{fileName:y,lineNumber:49,columnNumber:53}},n.name)):null})),a.a.createElement("div",{className:"pipeline-opt-more",onClick:function(){return e.history.push("/pipeline")},__source:{fileName:y,lineNumber:58,columnNumber:33}},"更多"))),overlayClassName:"normal-aside-dropdown",__source:{fileName:y,lineNumber:30,columnNumber:17}},a.a.createElement("div",{className:"normal-aside-opt","data-title-right":null==t?void 0:t.name,__source:{fileName:y,lineNumber:66,columnNumber:21}},a.a.createElement("div",{className:"normal-aside-opt-icon",__source:{fileName:y,lineNumber:67,columnNumber:25}},a.a.createElement(_.a,{text:null==t?void 0:t.name,colors:t&&(null==t?void 0:t.color),__source:{fileName:y,lineNumber:68,columnNumber:29}}),a.a.createElement("span",{__source:{fileName:y,lineNumber:72,columnNumber:29}},a.a.createElement(f.a,{__source:{fileName:y,lineNumber:72,columnNumber:35}}))))),a.a.createElement("div",{className:"normal-aside-up",__source:{fileName:y,lineNumber:76,columnNumber:17}},l.map((function(n){return a.a.createElement("div",{key:n.key,className:"normal-aside-item ".concat(0===o.indexOf(n.id)?"normal-aside-select":""),onClick:function(){return e.history.push(n.id)},__source:{fileName:y,lineNumber:79,columnNumber:29}},a.a.createElement("div",{className:"normal-aside-item-icon",__source:{fileName:y,lineNumber:83,columnNumber:33}},n.icon),a.a.createElement("div",{className:"normal-aside-item-title",__source:{fileName:y,lineNumber:84,columnNumber:33}},n.title))}))),a.a.createElement("div",{className:"normal-aside-item",onClick:function(){return e.history.push("/pipeline/".concat(t.id,"/set"))},__source:{fileName:y,lineNumber:90,columnNumber:17}},a.a.createElement("div",{className:"normal-aside-item-icon",__source:{fileName:y,lineNumber:91,columnNumber:21}},a.a.createElement(b.a,{__source:{fileName:y,lineNumber:91,columnNumber:61}})),a.a.createElement("div",{__source:{fileName:y,lineNumber:92,columnNumber:21}},"设置"))),Object(d.a)(r.routes))},h=t(633),E="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/pipeline/navigator/PipelineAside.js";function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,l,o=[],c=!0,m=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(m)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}n.default=Object(l.inject)("systemRoleStore")(Object(l.observer)((function(e){var n={pipelineStore:h.a},t=e.match,p=e.systemRoleStore,f=h.a.findOnePipeline,b=h.a.updateOpen,d=h.a.findRecentlyPipeline,_=h.a.pipeline,y=p.getInitProjectPermissions,j=t.params.id,O=Object(o.getUser)().userId,k=w(Object(i.useState)([]),2),P=k[0],S=k[1];Object(i.useEffect)((function(){j&&f(j).then((function(n){var t;if(null===n.data||!n.data)return r.default.info("当前流水线不存在或没有权限！"),void e.history.push("/pipeline");y(O,j,1===(null===(t=n.data)||void 0===t?void 0:t.power)),b(j).then(),d(j).then((function(e){0===e.code&&S(e.data)}))}))}),[j]);var C=[{id:"/pipeline/".concat(j,"/survey"),title:"概况",icon:a.a.createElement(c.a,{__source:{fileName:E,lineNumber:66,columnNumber:18}}),key:"survey"},{id:"/pipeline/".concat(j,"/config"),title:"设计",icon:a.a.createElement(m.a,{__source:{fileName:E,lineNumber:72,columnNumber:19}}),key:"config"},{id:"/pipeline/".concat(j,"/history"),title:"历史",icon:a.a.createElement(u.a,{__source:{fileName:E,lineNumber:78,columnNumber:19}}),key:"history"},{id:"/pipeline/".concat(j,"/scan"),title:"代码扫描",icon:a.a.createElement(s.a,{__source:{fileName:E,lineNumber:84,columnNumber:19}}),key:"scan"},{id:"/pipeline/".concat(j,"/test"),title:"测试报告",icon:a.a.createElement(N.a,{__source:{fileName:E,lineNumber:90,columnNumber:19}}),key:"test"}];return a.a.createElement(l.Provider,g({},n,{__source:{fileName:E,lineNumber:96,columnNumber:9}}),a.a.createElement(v,g({},e,{pipeline:_,firstRouters:C,recentlyPipeline:P,__source:{fileName:E,lineNumber:97,columnNumber:13}})))})))}}]);