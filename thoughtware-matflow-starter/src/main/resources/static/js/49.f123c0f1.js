(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{597:function(e,n,r){"use strict";var t=r(0),a=r.n(t);n.a=function(e){var n=e.text,r=e.colors;return a.a.createElement("span",{className:"mf-listname-icon ".concat(r?"mf-icon-".concat(r):"mf-icon-1"),__source:{fileName:"/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/list/ListIcon.js",lineNumber:10,columnNumber:9}},n&&n.substring(0,1).toUpperCase())}},598:function(e,n,r){"use strict";r.d(n,"a",(function(){return o})),r.d(n,"b",(function(){return u}));r(317);var t=r(228),a=r(0),i=r.n(a),l="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/loading/Loading.js",o=function(e){return i.a.createElement("div",{className:"mf-loading",__source:{fileName:l,lineNumber:13,columnNumber:9}},i.a.createElement("div",{className:"mf-shape",__source:{fileName:l,lineNumber:14,columnNumber:13}}),i.a.createElement("div",{className:"mf-shape",__source:{fileName:l,lineNumber:15,columnNumber:13}}),i.a.createElement("div",{className:"mf-shape",__source:{fileName:l,lineNumber:16,columnNumber:13}}))},u=function(e){var n=e.size,r=e.type,a=e.title;return"table"===r?i.a.createElement("div",{style:{textAlign:"center",padding:"25px 0"},__source:{fileName:l,lineNumber:32,columnNumber:17}},i.a.createElement(t.a,{size:n||"default ",__source:{fileName:l,lineNumber:33,columnNumber:21}})):i.a.createElement("div",{className:"mf-spin-loading",__source:{fileName:l,lineNumber:37,columnNumber:13}},i.a.createElement(t.a,{size:n||"default ",__source:{fileName:l,lineNumber:38,columnNumber:17}}),a&&i.a.createElement("div",{className:"spin-loading-title",__source:{fileName:l,lineNumber:40,columnNumber:30}},a))}},962:function(e,n,r){"use strict";r.r(n);r(313);var t=r(145),a=r(0),i=r.n(a),l=r(63),o=r(35),u=r(547),m=r(548),c=r(197),s=r(549),N=r(550),f=r(598),b=(r(315),r(147)),p=r(299),d=r(529),_=r(113),y=r(597),v="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/aside/Aside.js";function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,i,l,o=[],u=!0,m=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;u=!1}else for(;!(u=(t=i.call(r)).done)&&(o.push(t.value),o.length!==n);u=!0);}catch(e){m=!0,a=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var E=function(e){var n=e.recentlyPipeline,r=e.pipeline,t=e.route,l=e.location,o=e.firstRouters,u=l.pathname,m=h(Object(a.useState)(!1),2),c=m[0],s=m[1];return i.a.createElement("div",{className:"mf-layout",__source:{fileName:v,lineNumber:34,columnNumber:9}},i.a.createElement("div",{className:"mf-normal-aside",__source:{fileName:v,lineNumber:35,columnNumber:13}},i.a.createElement(b.default,{getPopupContainer:function(e){return e.parentElement},overlayStyle:{width:200,top:48,left:80},trigger:["click"],overlay:i.a.createElement("div",{className:"pipeline-opt",__source:{fileName:v,lineNumber:41,columnNumber:25}},i.a.createElement("div",{className:"pipeline-opt-title",__source:{fileName:v,lineNumber:42,columnNumber:29}},"切换流水线"),i.a.createElement("div",{className:"pipeline-opt-group",__source:{fileName:v,lineNumber:43,columnNumber:29}},n&&n.map((function(n){return n?i.a.createElement("div",{onClick:function(){return function(n){r.id!==n.id&&(s(!0),e.history.push("/pipeline/".concat(n.id,"/history")),setTimeout((function(){return s(!1)}),150))}(n)},key:n.id,className:"pipeline-opt-item ".concat(n.id===(null==r?void 0:r.id)?"pipeline-opt-active":""),__source:{fileName:v,lineNumber:48,columnNumber:49}},i.a.createElement("span",{className:"pipeline-opt-icon mf-icon-".concat(n.color),__source:{fileName:v,lineNumber:52,columnNumber:53}},n.name.substring(0,1).toUpperCase()),i.a.createElement("span",{className:"pipeline-opt-name",__source:{fileName:v,lineNumber:55,columnNumber:53}},n.name)):null})),i.a.createElement("div",{className:"pipeline-opt-more",onClick:function(){return e.history.push("/pipeline")},__source:{fileName:v,lineNumber:64,columnNumber:33}},"更多"))),overlayClassName:"normal-aside-dropdown",__source:{fileName:v,lineNumber:36,columnNumber:17}},i.a.createElement("div",{className:"normal-aside-opt","data-title-right":null==r?void 0:r.name,__source:{fileName:v,lineNumber:72,columnNumber:21}},i.a.createElement("div",{className:"normal-aside-opt-icon",__source:{fileName:v,lineNumber:73,columnNumber:25}},i.a.createElement(y.a,{text:null==r?void 0:r.name,colors:r&&(null==r?void 0:r.color),__source:{fileName:v,lineNumber:74,columnNumber:29}}),i.a.createElement("span",{__source:{fileName:v,lineNumber:78,columnNumber:29}},i.a.createElement(p.a,{__source:{fileName:v,lineNumber:78,columnNumber:35}}))))),i.a.createElement("div",{className:"normal-aside-up",__source:{fileName:v,lineNumber:82,columnNumber:17}},o.map((function(n){return i.a.createElement("div",{key:n.key,className:"normal-aside-item ".concat(0===u.indexOf(n.id)?"normal-aside-select":""),onClick:function(){return e.history.push(n.id)},__source:{fileName:v,lineNumber:85,columnNumber:29}},i.a.createElement("div",{className:"normal-aside-item-icon",__source:{fileName:v,lineNumber:89,columnNumber:33}},n.icon),i.a.createElement("div",{className:"normal-aside-item-title",__source:{fileName:v,lineNumber:90,columnNumber:33}},n.title))}))),i.a.createElement("div",{className:"normal-aside-item",onClick:function(){return e.history.push("/pipeline/".concat(r.id,"/set"))},__source:{fileName:v,lineNumber:96,columnNumber:17}},i.a.createElement("div",{className:"normal-aside-item-icon",__source:{fileName:v,lineNumber:97,columnNumber:21}},i.a.createElement(d.a,{__source:{fileName:v,lineNumber:97,columnNumber:61}})),i.a.createElement("div",{__source:{fileName:v,lineNumber:98,columnNumber:21}},"设置"))),c?i.a.createElement(f.a,{__source:{fileName:v,lineNumber:102,columnNumber:29}}):Object(_.a)(t.routes))},w=r(637),j="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/pipeline/navigator/PipelineAside.js";function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,i,l,o=[],u=!0,m=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;u=!1}else for(;!(u=(t=i.call(r)).done)&&(o.push(t.value),o.length!==n);u=!0);}catch(e){m=!0,a=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(m)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return k(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}n.default=Object(l.inject)("systemRoleStore")(Object(l.observer)((function(e){var n={pipelineStore:w.a},r=e.match,b=e.systemRoleStore,p=w.a.findOnePipeline,d=w.a.updateOpen,_=w.a.findRecentlyPipeline,y=w.a.pipeline,v=b.getInitProjectPermissions,h=r.params.id,g=Object(o.getUser)().userId,k=S(Object(a.useState)(!0),2),A=k[0],C=k[1],P=S(Object(a.useState)([]),2),I=P[0],U=P[1];Object(a.useEffect)((function(){h&&p(h).then((function(n){var r;if(null===n.data||!n.data)return t.default.info("当前流水线不存在或没有权限！"),void e.history.push("/pipeline");C(!1),v(g,h,1===(null===(r=n.data)||void 0===r?void 0:r.power)),d(h).then(),_(h).then((function(e){0===e.code&&U(e.data)}))}))}),[h]);var x=[{id:"/pipeline/".concat(h,"/survey"),title:"概况",icon:i.a.createElement(u.a,{__source:{fileName:j,lineNumber:72,columnNumber:18}}),key:"survey"},{id:"/pipeline/".concat(h,"/config"),title:"设计",icon:i.a.createElement(m.a,{__source:{fileName:j,lineNumber:78,columnNumber:19}}),key:"config"},{id:"/pipeline/".concat(h,"/history"),title:"历史",icon:i.a.createElement(c.a,{__source:{fileName:j,lineNumber:84,columnNumber:19}}),key:"history"},{id:"/pipeline/".concat(h,"/scan"),title:"代码扫描",icon:i.a.createElement(s.a,{__source:{fileName:j,lineNumber:90,columnNumber:19}}),key:"scan"},{id:"/pipeline/".concat(h,"/test"),title:"测试报告",icon:i.a.createElement(N.a,{__source:{fileName:j,lineNumber:96,columnNumber:19}}),key:"test"}];return A?i.a.createElement(f.a,{__source:{fileName:j,lineNumber:101,columnNumber:24}}):i.a.createElement(l.Provider,O({},n,{__source:{fileName:j,lineNumber:104,columnNumber:9}}),i.a.createElement(E,O({},e,{pipeline:y,firstRouters:x,recentlyPipeline:I,__source:{fileName:j,lineNumber:105,columnNumber:13}})))})))}}]);