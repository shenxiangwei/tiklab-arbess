(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1009:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return A}));t(337);var r=t(165),a=t(0),i=t.n(a),o=t(39),l=t(33),m=t(532),c=t(533),u=t(209),s=t(534),f=t(535),d=t(598),p=(t(242),t(150)),b=t(323),h=t(514),g=t(135),N=t(581),y=t(81);Object(y.a)('.mf-layout {\n  display: flex;\n  width: 100%;\n  height: var(--mf-content-height);\n}\n.mf-layout .mf-normal-aside {\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  flex-basis: 80px;\n  height: 100%;\n  background: var(--mf-sider-color);\n}\n.mf-layout .mf-normal-aside .normal-aside-up {\n  flex: 1;\n}\n.mf-layout .mf-normal-aside .normal-aside-item {\n  cursor: pointer;\n  display: flex;\n  height: 50px;\n  align-items: center;\n  padding: 5px 0;\n  flex-direction: column;\n  justify-content: center;\n}\n.mf-layout .mf-normal-aside .normal-aside-item:hover {\n  background: var(--thoughtware-gray-300);\n}\n.mf-layout .mf-normal-aside .normal-aside-item:not(:last-child) {\n  margin-bottom: 5px;\n}\n.mf-layout .mf-normal-aside .normal-aside-select {\n  background: var(--thoughtware-gray-400);\n  border-left: 3px solid var(--thoughtware-blue);\n}\n.mf-layout .normal-aside-item-icon {\n  font-size: var(--thoughtware-icon-size-16);\n}\n.mf-layout .normal-aside-item-ban {\n  color: #94979a;\n}\n.mf-layout .normal-aside-opt {\n  cursor: pointer;\n  display: flex;\n  height: 50px;\n  align-items: center;\n  padding: 5px 0;\n  justify-content: center;\n}\n.mf-layout .normal-aside-opt .normal-aside-opt-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 20px;\n}\n\n.normal-aside-dropdown {\n  left: 80px !important;\n  top: var(--mf-head-height) !important;\n  box-shadow: 0 4px 8px -2px rgba(9, 30, 66, 0.2509803922), 0 0 1px rgba(9, 30, 66, 0.3098039216);\n  border-radius: 4px;\n  background: #ffffff;\n}\n.normal-aside-dropdown .pipeline-opt-title {\n  font-weight: var(--thoughtware-font-weight-bold);\n  padding: 0 var(--thoughtware-padding-item);\n  height: 40px;\n  line-height: 40px;\n  border-bottom: 1px solid var(--thoughtware-gray-200);\n}\n.normal-aside-dropdown .pipeline-opt-group {\n  max-height: calc(100vh - 120px);\n  min-height: 45px;\n  overflow: auto;\n}\n.normal-aside-dropdown .pipeline-opt-item {\n  padding: 0 var(--thoughtware-padding-item);\n  height: 40px;\n  line-height: 40px;\n  cursor: pointer;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 200px;\n}\n.normal-aside-dropdown .pipeline-opt-item:hover {\n  background: #edf0f5;\n}\n.normal-aside-dropdown .pipeline-opt-icon {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n  line-height: 25px;\n  text-align: center;\n  margin-right: 15px;\n  border-radius: 4px;\n}\n.normal-aside-dropdown .pipeline-opt-active {\n  background: #edf0f5;\n}\n.normal-aside-dropdown .pipeline-opt-more {\n  cursor: pointer;\n  text-align: center;\n  padding: 8px 0;\n  background: #f8f8f8;\n  color: var(--thoughtware-blue);\n}\n\n[data-title-right] {\n  position: relative;\n}\n[data-title-right]::before, [data-title-right]::after {\n  position: absolute;\n  z-index: 10;\n  top: 50%;\n  left: 100%;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.3s, transform 0.3s;\n}\n[data-title-right]::before {\n  border: 5px solid transparent;\n  transform: translateX(-50%) translateY(-5px);\n  content: "";\n  margin-top: 3px;\n  border-right-color: #21242a;\n}\n[data-title-right]::after {\n  padding: 5px;\n  background-color: #21242a;\n  border-radius: 2px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n  color: #fff;\n  font-size: 12px;\n  line-height: 16px;\n  white-space: nowrap;\n  margin-left: 5px;\n  transform: translateX(0) translateY(-10px);\n  content: attr(data-title-right);\n}\n[data-title-right]:hover::before, [data-title-right]:hover::after {\n  opacity: 1;\n}');var v="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/aside/Aside.js";function _(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i,o,l=[],m=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;m=!1}else for(;!(m=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);m=!0);}catch(e){c=!0,a=e}finally{try{if(!m&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var w=function(e){var n=e.recentlyPipeline,t=e.pipeline,r=e.route,o=e.location,l=e.firstRouters,m=o.pathname,c=_(Object(a.useState)(!1),2),u=c[0],s=c[1];return i.a.createElement("div",{className:"mf-layout",__source:{fileName:v,lineNumber:34,columnNumber:9}},i.a.createElement("div",{className:"mf-normal-aside",__source:{fileName:v,lineNumber:35,columnNumber:13}},i.a.createElement(p.default,{getPopupContainer:function(e){return e.parentElement},overlayStyle:{width:200,top:48,left:80},trigger:["click"],overlay:i.a.createElement("div",{className:"pipeline-opt",__source:{fileName:v,lineNumber:41,columnNumber:25}},i.a.createElement("div",{className:"pipeline-opt-title",__source:{fileName:v,lineNumber:42,columnNumber:29}},"切换流水线"),i.a.createElement("div",{className:"pipeline-opt-group",__source:{fileName:v,lineNumber:43,columnNumber:29}},n&&n.map((function(n){return n?i.a.createElement("div",{onClick:function(){return function(n){t.id!==n.id&&(s(!0),e.history.push("/pipeline/".concat(n.id,"/history")),setTimeout((function(){return s(!1)}),150))}(n)},key:n.id,className:"pipeline-opt-item ".concat(n.id===(null==t?void 0:t.id)?"pipeline-opt-active":""),__source:{fileName:v,lineNumber:48,columnNumber:49}},i.a.createElement("span",{className:"pipeline-opt-icon mf-icon-".concat(n.color),__source:{fileName:v,lineNumber:52,columnNumber:53}},n.name.substring(0,1).toUpperCase()),i.a.createElement("span",{className:"pipeline-opt-name",__source:{fileName:v,lineNumber:55,columnNumber:53}},n.name)):null})),i.a.createElement("div",{className:"pipeline-opt-more",onClick:function(){return e.history.push("/pipeline")},__source:{fileName:v,lineNumber:64,columnNumber:33}},"更多"))),overlayClassName:"normal-aside-dropdown",__source:{fileName:v,lineNumber:36,columnNumber:17}},i.a.createElement("div",{className:"normal-aside-opt","data-title-right":null==t?void 0:t.name,__source:{fileName:v,lineNumber:72,columnNumber:21}},i.a.createElement("div",{className:"normal-aside-opt-icon",__source:{fileName:v,lineNumber:73,columnNumber:25}},i.a.createElement(N.a,{text:null==t?void 0:t.name,colors:t&&(null==t?void 0:t.color),__source:{fileName:v,lineNumber:74,columnNumber:29}}),i.a.createElement("span",{__source:{fileName:v,lineNumber:78,columnNumber:29}},i.a.createElement(b.a,{__source:{fileName:v,lineNumber:78,columnNumber:35}}))))),i.a.createElement("div",{className:"normal-aside-up",__source:{fileName:v,lineNumber:82,columnNumber:17}},l.map((function(n){return i.a.createElement("div",{key:n.key,className:"normal-aside-item ".concat(0===m.indexOf(n.id)?"normal-aside-select":""),onClick:function(){return e.history.push(n.id)},__source:{fileName:v,lineNumber:85,columnNumber:29}},i.a.createElement("div",{className:"normal-aside-item-icon",__source:{fileName:v,lineNumber:89,columnNumber:33}},n.icon),i.a.createElement("div",{className:"normal-aside-item-title",__source:{fileName:v,lineNumber:90,columnNumber:33}},n.title))}))),i.a.createElement("div",{className:"normal-aside-item",onClick:function(){return e.history.push("/pipeline/".concat(t.id,"/set"))},__source:{fileName:v,lineNumber:96,columnNumber:17}},i.a.createElement("div",{className:"normal-aside-item-icon",__source:{fileName:v,lineNumber:97,columnNumber:21}},i.a.createElement(h.a,{__source:{fileName:v,lineNumber:97,columnNumber:61}})),i.a.createElement("div",{__source:{fileName:v,lineNumber:98,columnNumber:21}},"设置"))),u?i.a.createElement(d.a,{__source:{fileName:v,lineNumber:102,columnNumber:29}}):Object(g.a)(r.routes))},E=t(695),k="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/pipeline/navigator/PipelineAside.js";function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i,o,l=[],m=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;m=!1}else for(;!(m=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);m=!0);}catch(e){c=!0,a=e}finally{try{if(!m&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var A=Object(o.inject)("systemRoleStore")(Object(o.observer)((function(e){var n={pipelineStore:E.a},t=e.match,p=e.systemRoleStore,b=E.a.findOnePipeline,h=E.a.updateOpen,g=E.a.findRecentlyPipeline,N=E.a.pipeline,y=p.getInitProjectPermissions,v=t.params.id,_=Object(l.getUser)().userId,x=O(Object(a.useState)(!0),2),S=x[0],A=x[1],z=O(Object(a.useState)([]),2),C=z[0],P=z[1];Object(a.useEffect)((function(){v&&b(v).then((function(n){var t;if(null===n.data||!n.data)return r.default.info("当前流水线不存在或没有权限！"),void e.history.push("/pipeline");A(!1),y(_,v,1===(null===(t=n.data)||void 0===t?void 0:t.power)),h(v).then(),g(v).then((function(e){0===e.code&&P(e.data)}))}))}),[v]);var I=[{id:"/pipeline/".concat(v,"/survey"),title:"概况",icon:i.a.createElement(m.a,{__source:{fileName:k,lineNumber:72,columnNumber:18}}),key:"survey"},{id:"/pipeline/".concat(v,"/config"),title:"设计",icon:i.a.createElement(c.a,{__source:{fileName:k,lineNumber:78,columnNumber:19}}),key:"config"},{id:"/pipeline/".concat(v,"/history"),title:"历史",icon:i.a.createElement(u.a,{__source:{fileName:k,lineNumber:84,columnNumber:19}}),key:"history"},{id:"/pipeline/".concat(v,"/scan"),title:"代码扫描",icon:i.a.createElement(s.a,{__source:{fileName:k,lineNumber:90,columnNumber:19}}),key:"scan"},{id:"/pipeline/".concat(v,"/test"),title:"测试报告",icon:i.a.createElement(f.a,{__source:{fileName:k,lineNumber:96,columnNumber:19}}),key:"test"}];return S?i.a.createElement(d.a,{__source:{fileName:k,lineNumber:101,columnNumber:24}}):i.a.createElement(o.Provider,j({},n,{__source:{fileName:k,lineNumber:104,columnNumber:9}}),i.a.createElement(w,j({},e,{pipeline:N,firstRouters:I,recentlyPipeline:C,__source:{fileName:k,lineNumber:105,columnNumber:13}})))})))},581:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(0),a=t.n(r),i=t(81);Object(i.a)(".mf-listname-href {\n  cursor: pointer;\n}\n\n.mf-listname-icon {\n  display: inline-block;\n  width: var(--thoughtware-icon-size-32);\n  height: var(--thoughtware-icon-size-32);\n  line-height: var(--thoughtware-icon-size-32);\n  margin-right: 10px;\n  border-radius: 4px;\n  text-align: center;\n  color: black;\n}\n\n.mf-listname-name {\n  color: var(--thoughtware-blue);\n}\n\n.mf-icon-0 {\n  background: #f3caca;\n}\n.mf-icon-1 {\n  background: #cadbf3;\n}\n.mf-icon-2 {\n  background: #e8eaf6;\n}\n.mf-icon-3 {\n  background: #ffebee;\n}\n.mf-icon-4 {\n  background: #deedd7;\n}\n.mf-icon-5 {\n  background: #caf3ef;\n}");var o=function(e){var n=e.text,t=e.colors;return a.a.createElement("span",{className:"mf-listname-icon ".concat(t?"mf-icon-".concat(t):"mf-icon-1"),__source:{fileName:"/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/list/ListIcon.js",lineNumber:10,columnNumber:9}},n&&n.substring(0,1).toUpperCase())}},598:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return c}));t(244);var r=t(166),a=t(0),i=t.n(a),o=t(81);Object(o.a)(".mf-loading {\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.mf-loading .mf-shape {\n  width: 16px;\n  height: 16px;\n  background-color: var(--thoughtware-blue);\n  border-radius: 100%;\n  display: inline-block;\n  margin-left: 10px;\n  animation: anim 1.4s infinite ease-in-out;\n  animation-fill-mode: both;\n}\n.mf-loading .mf-shape:nth-child(1) {\n  animation-delay: -0.32s;\n}\n.mf-loading .mf-shape:nth-child(2) {\n  animation-delay: -0.16s;\n}\n@keyframes anim {\n  0%, 80%, 100% {\n    transform: scale(0.2);\n    opacity: 0.2;\n  }\n  40% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.mf-spin-loading {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.mf-spin-loading .spin-loading-title {\n  padding-top: 10px;\n  font-size: 13px;\n  color: var(--thoughtware-gray-500);\n}");var l="/Users/gaomengyuan/thoughtware/thoughtware-matflow-ui/src/common/component/loading/Loading.js",m=function(e){return i.a.createElement("div",{className:"mf-loading",__source:{fileName:l,lineNumber:13,columnNumber:9}},i.a.createElement("div",{className:"mf-shape",__source:{fileName:l,lineNumber:14,columnNumber:13}}),i.a.createElement("div",{className:"mf-shape",__source:{fileName:l,lineNumber:15,columnNumber:13}}),i.a.createElement("div",{className:"mf-shape",__source:{fileName:l,lineNumber:16,columnNumber:13}}))},c=function(e){var n=e.size,t=e.type,a=e.title;return"table"===t?i.a.createElement("div",{style:{textAlign:"center",padding:"25px 0"},__source:{fileName:l,lineNumber:32,columnNumber:17}},i.a.createElement(r.a,{size:n||"default ",__source:{fileName:l,lineNumber:33,columnNumber:21}})):i.a.createElement("div",{className:"mf-spin-loading",__source:{fileName:l,lineNumber:37,columnNumber:13}},i.a.createElement(r.a,{size:n||"default ",__source:{fileName:l,lineNumber:38,columnNumber:17}}),a&&i.a.createElement("div",{className:"spin-loading-title",__source:{fileName:l,lineNumber:40,columnNumber:30}},a))}}}]);