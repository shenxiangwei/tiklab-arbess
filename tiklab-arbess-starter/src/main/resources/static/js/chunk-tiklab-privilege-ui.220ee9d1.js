(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1002:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1152));t.default=a.default},1053:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1163));t.default=a.default},1054:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(261);var a=n(r(171)),i=n(r(0));r(1165);t.default=function(e){var t=e.icon,r=e.type,n=e.title,u=e.onClick,l=e.isMar,o=e.children;return i.default.createElement("div",{className:"privilege-btn ".concat(r?"privilege-btn-".concat(r):""," ").concat(l?"privilege-btn-mar":""),onClick:u},i.default.createElement(a.default,null,t&&i.default.createElement("span",{className:"privilege-btn-icon"},t),o||n))}},1055:function(e,t,r){"use strict";r.r(t)},1056:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(520);var i=n(r(519)),u=n(r(73)),l=n(r(244)),o=n(r(384));r(274);var c=n(r(114)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),d=r(9),s=r(647);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(956);var b=c.default.Group;t.default=function(e){var t=e.roleDetail,r=e.isBase,n=e.type,a=(0,f.useState)(!1),u=(0,o.default)(a,2),p=u[0],m=u[1],g=(0,f.useState)([]),y=(0,o.default)(g,2),h=y[0],O=y[1],P=(0,f.useState)({}),E=(0,o.default)(P,2),w=E[0],R=E[1],j=(0,f.useState)([]),_=(0,o.default)(j,2),k=_[0],S=_[1],x=[{title:"模块",key:"label",width:"30%",render:function(e){return f.default.createElement(c.default,{disabled:!p,indeterminate:e.indeterminate,onChange:function(t){return C(t,e)},checked:e.checkAll},e.label)}},{title:"功能点",key:"name",render:function(e){return f.default.createElement("div",{className:"privilege-role-promise"},f.default.createElement(b,{disabled:!p,options:w[e.value],value:e.checkedList,onChange:function(t){return M(t,e)}}))}}];(0,f.useEffect)((function(){null!=t&&t.id&&D()}),[null==t?void 0:t.id]);var D=function(){var e;e="system"===n?{group:null==t?void 0:t.group}:{type:"2"},d.Axios.post("/function/findFunctionList",e).then((function(e){if(!e.code){var t=I(e.data);O(t.result),R(t.resultChild),A(!0,t.result,t.resultChild)}}))},I=function(e){var t=e.map((function(e){return!e.parentFunction&&{value:e.id,label:e.name}})).filter(Boolean),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&{value:e.id,label:e.name,parent:e.parentFunction.id}})).filter(Boolean),n=[],a={};return t.forEach((function(e){var t=e.value,i=r.filter((function(e){return e.parent===t}));n.push({value:e.value,label:e.label,indeterminate:!1,checkedList:[],checkAll:!1}),a[e.value]=i})),{result:n,resultChild:a}},L=function(e){var t=e.filter((function(e){return e.function&&e.function.parentFunction})).map((function(e){return{parentID:e.function.parentFunction.id,id:e.function.id}})),r=e.filter((function(e){return!e.function.parentFunction})).map((function(e){return e.function.id})),n={};return r.forEach((function(e){var r=t.map((function(t){if(t.parentID===e)return t.id})).filter(Boolean);n[e]=[].concat((0,l.default)(r),[e])})),n},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={roleId:"domain"===n?t.role.id:t.id};d.Axios.post("roleFunction/findRoleFunctionList",i).then((function(t){if(!t.code){var n=L(t.data),i=e?a:w,u=(e?r:h).map((function(e){var t=n[e.value]?n[e.value]:[],r=0===i[e.value].length,a=t.length===i[e.value].length+1&&0!==t.length,u=a?!a:!!t.length&&t.length<i[e.value].length+1;return r&&1===t.length&&(a=!0,u=!1),v(v({},e),{},{checkedList:t,indeterminate:u,checkAll:a})}));O(u),S(t.data.map((function(e){return e.function.id})))}}))},M=function(e,t){T(e,t)},T=function(e,t){var r=h.map((function(r){if(r.value===t.value){if(0===e.length)return F(t,"delete"),v(v({},r),{},{checkedList:[],checkAll:!1,indeterminate:!1});if(e.length===w[t.value].length)return F(t,"add"),v(v({},r),{},{checkedList:e,checkAll:!0,indeterminate:!1});if(e.length<w[t.value].length)return F(t,"filterAdd",e),v(v({},r),{},{checkedList:e,checkAll:!1,indeterminate:!0})}return r}));O(r)},F=function(e,t,r){var n,a=w[e.value].map((function(e){return e.value})).filter(Boolean),i=[].concat((0,l.default)(a),[e.value]);if("add"===t)n=Array.from(new Set([].concat((0,l.default)(k),(0,l.default)(i))));else if("delete"===t)n=k.filter((function(e){return!i.includes(e)}));else{var u=k.filter((function(e){return!a.includes(e)}));n=Array.from(new Set([].concat((0,l.default)(u),(0,l.default)(r),[e.value])))}S(n)},C=function(e,t){var r=k.includes(t.value),n=h.map((function(e){if(e.value===t.value){if(F(t,r?"delete":"add"),r)return v(v({},e),{},{checkedList:[],checkAll:!1,indeterminate:!1});var n=w[t.value].map((function(e){return e.value})).filter(Boolean);return v(v({},e),{},{checkedList:n,checkAll:!0,indeterminate:!1})}return e}));O(n)},N=function(){A(),m(!1)},U=function(){var e={role:{id:"domain"===n?t.role.id:t.id},functionList:k};d.Axios.post("roleFunction/updateRoleAllFunction",e).then((function(e){0===e.code&&A(),m(!1)}))};return f.default.createElement("div",{className:"tiklab_role_promisse"},p?f.default.createElement("div",{className:"tiklab_role_promisse_up"},f.default.createElement(s.Btn,{onClick:N,isMar:!0},"取消"),f.default.createElement(s.Btn,{type:"primary",onClick:U},"保存")):(r||2!==t.businessType)&&f.default.createElement("div",{className:"tiklab_role_promisse_up"},f.default.createElement(s.Btn,{onClick:function(){return m(!0)}},"编辑")),f.default.createElement("div",{className:"tiklab_role_promisse_table"},f.default.createElement(i.default,{bordered:!0,pagination:!1,columns:x,dataSource:h,rowKey:function(e){return e.value},locale:{emptyText:f.default.createElement(s.ListEmpty,null)}})),p&&f.default.createElement("div",{className:"tiklab_role_promisse_bottom"},f.default.createElement(s.Btn,{onClick:N,isMar:!0},"取消"),f.default.createElement(s.Btn,{type:"primary",onClick:U},"保存")))}},1057:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(41));r(520);var u=n(r(519));r(261);var l=n(r(171));r(170);var o=n(r(56)),c=n(r(178)),f=n(r(73)),d=n(r(384)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),p=r(44),m=r(647),v=r(277),b=r(279),g=n(r(1183)),y=n(r(1184)),h=n(r(1185));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(956);t.default=(0,p.inject)(b.SYSTEM_ROLE_STORE,b.PRIVILEGE_DOMAIN_ROLE_STORE)((0,p.observer)((function(e){var t=e.domainId,r=e.roleType,n=e.roleDetail,a=e.systemRoleStore,f=e.findRole,p=e.privilegeDomainRoleStore,b=a.findRoleUserPage,O=a.findRoleOrgaPage,P=a.findRoleUserGroupPage,w=a.findRoleUserList,R=a.findRoleOrgaList,j=a.findRoleUserGroupList,_=a.createBatchRoleUser,k=a.createBatchRoleUserGroup,S=a.createBatchRoleOrga,x=a.deleteRoleOrga,D=a.deleteRoleUserGroup,I=a.deleteRoleUser,L=a.findRoleUserCount,A=p.findDmRoleUserListAction,M=p.createBatchDmRoleUserAction,T=p.deleteDmRoleUserAction,F={pageSize:10,currentPage:1},C=(0,s.useState)(!1),N=(0,d.default)(C,2),U=N[0],z=N[1],V=(0,s.useState)("user"),B=(0,d.default)(V,2),G=B[0],W=B[1],K=(0,s.useState)({pageParam:F}),J=(0,d.default)(K,2),Y=J[0],q=J[1],H=(0,s.useState)({}),Q=(0,d.default)(H,2),X=Q[0],Z=Q[1],$=(0,s.useState)({}),ee=(0,d.default)($,2),te=ee[0],re=ee[1],ne=(0,s.useState)(null),ae=(0,d.default)(ne,2),ie=ae[0],ue=ae[1],le=(0,s.useState)([]),oe=(0,d.default)(le,2),ce=oe[0],fe=oe[1],de=(0,s.useState)([]),se=(0,d.default)(de,2),pe=se[0],me=se[1],ve=(0,s.useState)([]),be=(0,d.default)(ve,2),ge=be[0],ye=be[1],he=(0,s.useState)({}),Oe=(0,d.default)(he,2),Pe=Oe[0],Ee=Oe[1];(0,s.useEffect)((function(){if("user"===ie){if("domain"===r){var e=te.dataList;return fe(e.map((function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.id}))),void me(e.map((function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.id})))}w(n.id).then((function(e){0===e.code&&(fe(e.data.map((function(e){return null==e?void 0:e.id}))),me(e.data.map((function(e){return null==e?void 0:e.id}))))}))}"group"===ie&&j({roleId:n.id}).then((function(e){0===e.code&&(fe(e.data.map((function(e){var t;return null==e||null===(t=e.userGroup)||void 0===t?void 0:t.id}))),me(e.data.map((function(e){var t;return null==e||null===(t=e.userGroup)||void 0===t?void 0:t.id}))))})),"orga"===ie&&R({roleId:n.id}).then((function(e){0===e.code&&(fe(e.data.map((function(e){var t;return null==e||null===(t=e.orga)||void 0===t?void 0:t.orgaId}))),me(e.data.map((function(e){var t;return null==e||null===(t=e.orga)||void 0===t?void 0:t.orgaId}))))}))}),[ie]),(0,s.useEffect)((function(){we()}),[]);var we=function(){"system"===r&&L(n.id).then((function(e){0===e.code&&Ee(e.data)}))};(0,s.useEffect)((function(){Re()}),[G,Y]);var Re=function(){if(z(!0),"domain"===r)return je();switch(G){case"all":return _e();case"user":return ke();case"orga":return Se();default:return xe()}},je=function(){A({dmRoleId:n.id}).then((function(e){if(0===e.code){var t=e.data;Z(t),re({dataList:t.slice(0,10),totalPage:Math.ceil(t.length/10),totalRecord:t.length||0,currentPage:1})}z(!1)}))},_e=function(){w(n.id).then((function(e){if(0===e.code){var t=e.data;Z(t),re({dataList:t.slice(0,10),totalPage:Math.ceil(t.length/10),totalRecord:t.length||0,currentPage:1})}z(!1)}))},ke=function(){b(E(E({},Y),{},{roleId:n.id})).then((function(e){0===e.code&&re(e.data),z(!1)}))},Se=function(){O(E(E({},Y),{},{roleId:n.id})).then((function(e){0===e.code&&re(e.data),z(!1)}))},xe=function(){P(E(E({},Y),{},{roleId:n.id})).then((function(e){0===e.code&&re(e.data),z(!1)}))},De=function(e){W(e),q({pageParam:F}),re({})},Ie=function(){var e=(0,c.default)(i.default.mark((function e(t){var n,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("domain"!==r){e.next=3;break}return T(t).then((function(e){0===e.code?(je(),f(),o.default.info("删除成功")):o.default.error(a.msg)})),e.abrupt("return");case 3:if((n=new FormData).append("id",t),"user"!==G){e.next=11;break}return e.next=8,I(n);case 8:a=e.sent,e.next=20;break;case 11:if("orga"!==G){e.next=17;break}return e.next=14,x(n);case 14:a=e.sent,e.next=20;break;case 17:return e.next=19,D(n);case 19:a=e.sent;case 20:0===a.code?(u=(0,v.deleteSuccessReturnCurrenPage)(te.totalRecord,10,Y.pageParam.currentPage),Le(u),f(),we(),o.default.info("删除成功")):o.default.error(a.msg);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){if("domain"===r||"all"===G)return a=(n=10*((t=e)-1))+10,void re(E(E({},te),{},{currentPage:t,dataList:null==X?void 0:X.slice(n,a)}));var t,n,a;q({pageParam:{pageSize:10,currentPage:e}})},Ae=function(){var e=(0,c.default)(i.default.mark((function e(){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("user"!==ie){e.next=12;break}if("domain"!==r){e.next=7;break}return e.next=4,M({dmRole:{id:n.id},domainId:t,userIds:ce});case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,_({role:{id:n.id},userList:ce});case 9:a=e.sent;case 10:e.next=21;break;case 12:if("orga"!==ie){e.next=18;break}return e.next=15,S({role:{id:n.id},orgaIdList:ce});case 15:a=e.sent,e.next=21;break;case 18:return e.next=20,k({role:{id:n.id},userGroupIdList:ce});case 20:a=e.sent;case 21:0===a.code?(Re(),f(),we(),o.default.info("添加成功")):o.default.error(a.msg),Me();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){fe([]),me([]),ue(null)},Te=[{title:"姓名",dataIndex:["user","nickname"],key:["user","nickname"],width:"18%",ellipsis:!0,render:function(e,t){return s.default.createElement(l.default,null,s.default.createElement(m.Profile,{userInfo:null==t?void 0:t.user}),e||"--")}},{title:"用户名",dataIndex:["user","name"],key:["user","name"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"手机号",dataIndex:["user","phone"],key:["user","phone"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:["user","email"],key:["user","email"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:["user","dirId"],key:["user","dirId"],width:"18%",ellipsis:!0,render:function(e){var t=ge.find((function(t){return t.id===e}));return t?t.name:"--"}},{title:"操作",dataIndex:"action",key:"action",width:"10%",render:function(e,t){return 2!==(null==n?void 0:n.businessType)&&s.default.createElement(m.ListAction,{del:function(){return Ie(t.id)}})}}],Fe={all:[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return s.default.createElement(l.default,null,s.default.createElement(m.Profile,{userInfo:t}),e||"--")}},{title:"用户名",dataIndex:"name",key:"name",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"手机号",dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:"email",key:"email",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:"dirId",key:"dirId",width:"20%",ellipsis:!0,render:function(e){var t=ge.find((function(t){return t.id===e}));return t?t.name:"--"}}],user:Te,orga:[{title:"名称",dataIndex:["orga","orgaName"],key:["orga","orgaName"],width:"80%",ellipsis:!0},{title:"操作",dataIndex:"action",key:"action",width:"20%",render:function(e,t){return s.default.createElement(m.ListAction,{del:function(){return Ie(t.id)}})}}],group:[{title:"名称",dataIndex:["userGroup","name"],key:["userGroup","name"],width:"60%",ellipsis:!0},{title:"创建方式",dataIndex:["userGroup","group"],key:["userGroup","group"],width:"30%",ellipsis:!0,render:function(e){return"system"===e?"内置":"自定义"}},{title:"操作",dataIndex:"action",key:"action",width:"20%",render:function(e,t){return s.default.createElement(m.ListAction,{del:function(){return Ie(t.id)}})}}]};return s.default.createElement("div",{className:"tiklab_promisse"},"system"===r?s.default.createElement("div",{className:"tiklab_promisse_up"},s.default.createElement("div",{className:"tiklab_promisse_tab"},s.default.createElement("div",{className:"".concat("user"===G?"tiklab_promisse_tab_active":""),onClick:function(){return De("user")}},"用户(",(null==Pe?void 0:Pe.userNumber)||0,")"),s.default.createElement("div",{className:"".concat("group"===G?"tiklab_promisse_tab_active":""),onClick:function(){return De("group")}},"用户组(",(null==Pe?void 0:Pe.userGroupNumber)||0,")")),s.default.createElement(m.Btn,{onClick:function(){return ue(G)}},"user"===G?"添加用户":"添加用户组")):s.default.createElement("div",{className:"tiklab_promisse_up"},s.default.createElement("div",null,"用户(",(null==te?void 0:te.totalRecord)||0,")"),s.default.createElement(m.Btn,{onClick:function(){return ue("user")}},"添加成员")),s.default.createElement("div",{className:"tiklab_promisse_person"},s.default.createElement(u.default,{loading:U,columns:"domain"===r?Te:Fe[G],dataSource:(null==te?void 0:te.dataList)||[],rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:s.default.createElement(m.ListEmpty,null)}}),s.default.createElement(m.Page,{currentPage:null==te?void 0:te.currentPage,changPage:Le,page:te})),s.default.createElement(g.default,{setDirs:ye,domainId:t,visible:"user"===ie,roleType:r,allSelectIds:pe,selectedRowKeys:ce,setSelectedRowKeys:fe,handleOk:Ae,handleCancel:Me}),s.default.createElement(y.default,{visible:"orga"===ie,allSelectIds:pe,selectedRowKeys:ce,setSelectedRowKeys:fe,handleOk:Ae,handleCancel:Me}),s.default.createElement(h.default,{visible:"group"===ie,allSelectIds:pe,selectedRowKeys:ce,setSelectedRowKeys:fe,handleOk:Ae,handleCancel:Me}))})))},1058:function(e,t,r){"use strict";r.r(t)},1059:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1188));t.default=a.default},1060:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(542);var i=n(r(539));r(172);var u=n(r(71));r(262);var l=n(r(72)),o=n(r(384)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),f=r(385),d=r(9),s=r(647);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}t.default=function(e){var t=e.visible,r=e.cancelAdd,n=e.editData,a=void 0===n?{}:n,p=e.parentId,m=void 0===p?"":p,v=e.urlType,b=void 0===v?"system":v,g=e.data,y=void 0===g?[]:g,h=l.default.useForm(),O=(0,o.default)(h,1)[0],P=(0,f.useTranslation)().t,E=(0,c.useState)([]),w=(0,o.default)(E,2),R=(w[0],w[1]);(0,c.useEffect)((function(){t&&k()}),[t]),(0,c.useEffect)((function(){"{}"!==JSON.stringify(a)&&(O.setFieldsValue({code:a.code}),O.setFieldsValue({name:a.name}),O.setFieldsValue({parent:a.parentFunction?a.parentFunction.id:a.parentFunction})),m&&O.setFieldsValue({parent:m})}),[a,m]);var j,_,k=function(){var e=new FormData;e.append("type","system"===b?"1":"2"),d.Axios.post("/function/findFunctionListByParentId",e).then((function(e){e.code||R(e.data)}))},S=function(){O.resetFields(),r()};return c.default.createElement(s.BaseModal,{title:"{}"!==JSON.stringify(a)?P("privilege-edit-feature"):P("privilege-add-feature"),visible:t,onOk:function(){O.submit()},onCancel:S,forceRender:!0},c.default.createElement(l.default,{form:O,onFinish:function(e){if("{}"===JSON.stringify(a)){var t={name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===b?"1":"2"};d.Axios.post("/function/createFunction",t).then((function(e){e.code||S()}))}else{var r={id:a.id,name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===b?"1":"2"};d.Axios.post("/function/updateFunction",r).then((function(e){e.code||S()}))}},preserve:!1,layout:"vertical"},c.default.createElement(l.default.Item,{label:P("privilege-feature-name"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(u.default,{placeholder:P("privilege-feature-name")})),c.default.createElement(l.default.Item,{label:P("privilege-feature-code"),name:"code",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(u.default,{placeholder:P("privilege-feature-code")})),c.default.createElement(l.default.Item,{label:P("privilege-point-node"),name:"parent"},c.default.createElement(i.default,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(j=[],_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var n={title:e.name,value:e.id,disabled:r};if(e.id===a.id&&(n.disabled=!0),t.push(n),e.children&&e.children.length>0)return _(e.children,n.children=[],n.disabled)}))},_(y,j),j),placeholder:P("privilege-point-node-placeholder"),disabled:m||a.children&&a.children.length>0}))))}},1061:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(630)),u=n(r(384)),l=n(r(73)),o=n(r(266)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),f=r(750),d=["record","data","index","moveRow","className","style"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="DraggableFeatureBodyRow";t.default=function(e){var t=e.record,r=(e.data,e.index),n=e.moveRow,a=e.className,l=e.style,s=(0,o.default)(e,d);if(!t)return null;var p=m(m({},t),{},{index:r}),b=(0,c.useRef)(null),g=(0,f.useDrop)({accept:v,collect:function(e){var t=e.getItem()||{},n=t.index;t.sort;return n===r?{}:{isOver:e.isOver(),dropClassName:n<r?" drop-over-downward":" drop-over-upward"}},drop:function(e){var r={dragId:e.id,drag:e,dropId:t.id,drop:m({},t)};n(r)}}),y=(0,u.default)(g,2),h=y[0],O=h.isOver,P=h.dropClassName,E=y[1],w=(0,f.useDrag)({type:v,item:p,collect:function(e){return{isDragging:e.isDragging()}}});return E((0,(0,u.default)(w,2)[1])(b)),c.default.createElement("tr",(0,i.default)({ref:b,className:"".concat(a).concat(O?P:""),style:m({cursor:"move"},l)},s))}},1062:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.sortNum=t.sort=t.handelPeerFunction=void 0;var a=n(r(73));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.handelPeerFunction=function(e,t,r,n,a){var i=e.map((function(e){return e.id===t?u(u({},e),{},{sort:a}):e.id===r?u(u({},e),{},{sort:n}):e}));return l(i)};var l=t.sort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.sort-t.sort}))};t.sortNum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e-t}))}},1063:function(e,t,r){"use strict";r.r(t)},1064:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1189));t.default=a.default},1065:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(630));r(537);var i=n(r(535)),u=n(r(0)),l=r(647),o=n(r(1056)),c=n(r(1057));r(956);var f=i.default.TabPane;t.default=function(e){var t=e.roleType,r=e.isBase,n=e.roleDetailParams,d=e.setDetail,s=e.findRole;return u.default.createElement("div",{className:"tiklab_system_role_detail"},u.default.createElement(l.BreadCrumb,{firstItem:"权限",secondItem:null==n?void 0:n.name,onClick:function(){return d(null)}}),u.default.createElement("div",{className:"tiklab_system_role_box_content_details"},u.default.createElement(i.default,{defaultActiveKey:"people"},u.default.createElement(f,{tab:"成员",key:"people"},u.default.createElement(c.default,(0,a.default)({},e,{roleType:t,roleDetail:n,findRole:s}))),u.default.createElement(f,{tab:"权限",key:"promise"},u.default.createElement(o.default,{type:t,isBase:r,roleDetail:n})))))}},1066:function(e,t,r){"use strict";r.r(t)},1067:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1190));t.default=a.default},1068:function(e,t,r){"use strict";r.r(t)},1069:function(e,t,r){"use strict";r.r(t)},1070:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1193));t.default=a.default},1071:function(e,t,r){"use strict";r.r(t)},1081:function(e,t,r){"use strict";r(1069)},1151:function(e,t,r){},1152:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(181);var a=n(r(102)),i=n(r(0));t.default=function(e){var t=e.homePath,r=i.default.createElement("div",{style:{paddingTop:20}},"没有访问权限，",i.default.createElement("span",{style:{color:"var(--tiklab-blue)",cursor:"pointer"},onClick:function(){return e.history.push(t||"/")}},"点击这里 "),"返回");return i.default.createElement(a.default,{status:"info",title:"没有访问权限",subTitle:r})}},1163:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(41));r(521);var u=n(r(523));r(522);var l=n(r(524));r(520);var o=n(r(519));r(261);var c=n(r(171));r(151);var f=n(r(47)),d=n(r(282));r(388);var s=n(r(269)),p=n(r(178)),m=n(r(73)),v=n(r(384)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),g=r(44),y=r(385),h=n(r(1164)),O=r(647);r(1058);var P=r(9),E=n(r(957)),w=n(r(958));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,m.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,g.inject)("privilegeDomainRoleStore")((0,g.observer)((function(e){var t=(0,y.useTranslation)().t,r=e.privilegeDomainRoleStore,n=e.domainId,a=e.refresh,m=void 0!==a&&a,g=e.bgroup,R=e.roleButton,j=r.privilegeDomainRole,k=r.deleteDomainRoleAction,S=r.setDomainRoleAction,x=r.findDmRolePageByNumber,D=r.domainRolePage,I=(0,b.useState)(!1),L=(0,v.default)(I,2),A=L[0],M=L[1],T=(0,b.useState)({pageSize:12,currentPage:1}),F=(0,v.default)(T,1)[0],C=(0,b.useState)({pageParam:F}),N=(0,v.default)(C,2),U=N[0],z=N[1],V=(0,b.useState)(null),B=(0,v.default)(V,2),G=B[0],W=B[1],K=(0,b.useState)(!1),J=(0,v.default)(K,2),Y=J[0],q=J[1],H=(0,b.useState)(null),Q=(0,v.default)(H,2),X=Q[0],Z=Q[1];(0,b.useEffect)((function(){$()}),[U,m]);var $=function(){x(_(_({},U),{},{domainId:n}))},ee=function(){var e=(0,p.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:e.sent.code||$();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,p.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:0===e.sent.code&&$();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=[{title:"角色名称",dataIndex:["role","name"],width:"35%",ellipsis:!0,render:function(e,t){var r=t.role.defaultRole;return b.default.createElement("div",{className:"tiklab_domain_role_name",onClick:function(){W(t)}},b.default.createElement(O.ListIcon,{text:e}),b.default.createElement("span",{className:"name-text"},e),1===r&&b.default.createElement(s.default,null,"默认"))}},{title:"成员数",dataIndex:"dmRoleUserNumber",width:"25%",ellipsis:!0},{title:"创建方式",dataIndex:["role","group"],width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":t("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var r=t.role,n=t.id;return b.default.createElement(c.default,{size:"middle"},0===(null==r?void 0:r.defaultRole)&&b.default.createElement(f.default,{title:"设置默认"},b.default.createElement(d.default,{onClick:function(){return ee(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),b.default.createElement(O.ListAction,{del:"system"!==(null==r?void 0:r.group)?function(){return te(n)}:void 0,edit:2!==(null==r?void 0:r.businessType)?function(){return function(e){Z(e),q(!0)}(t)}:void 0}))}}],ne=(0,P.disableFunction)();return b.default.createElement(u.default,{className:"tiklab_domain_role"},b.default.createElement(l.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},G?b.default.createElement(h.default,{roleDetailParams:G,domainId:n,setDetail:W,getProjectDmRole:$}):b.default.createElement("div",{className:"tiklab_domain_role-content"},b.default.createElement(O.BreadCrumb,{firstItem:"权限"},ne?b.default.createElement(O.Btn,{type:"primary",onClick:function(){return M(!0)},title:t("privilege-role.addRole")}):R||null),b.default.createElement(o.default,{columns:re,dataSource:j,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:b.default.createElement(O.ListEmpty,null)}}),b.default.createElement(O.Page,{currentPage:U.pageParam.currentPage,changPage:function(e){z(_(_({},U),{},{pageParam:{pageSize:12,currentPage:e}}))},page:D})),b.default.createElement(w.default,{visible:Y,setVisible:q,editData:X,setEditData:Z,roleType:"domain",findRole:$}),b.default.createElement(E.default,{bgroup:g,visible:A,setVisible:M}),e.children))})))},1164:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(630));r(537);var i=n(r(535)),u=n(r(0)),l=r(385),o=r(647),c=n(r(1056)),f=n(r(1057)),d=i.default.TabPane;t.default=function(e){var t=e.roleDetailParams,r=e.roleDetailParams.role,n=e.domainId,s=e.setDetail,p=e.getProjectDmRole,m=(0,l.useTranslation)().t;return u.default.createElement("div",{className:"tiklab_domain_role_detail"},u.default.createElement(o.BreadCrumb,{firstItem:"权限",secondItem:null==r?void 0:r.name,onClick:function(){return s(null)}}),u.default.createElement(i.default,{defaultActiveKey:"people"},u.default.createElement(d,{tab:m("privilege-role.people"),key:"people"},u.default.createElement(f.default,(0,a.default)({},e,{roleType:"domain",domainId:n,roleDetail:t,findRole:p}))),u.default.createElement(d,{tab:m("privilege-role.promise"),key:"promise"},u.default.createElement(c.default,{type:"domain",isBase:!1,roleDetail:t}))))}},1165:function(e,t,r){"use strict";r.r(t)},1166:function(e,t,r){"use strict";r.r(t)},1167:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(261);var a=n(r(171)),i=n(r(115)),u=n(r(0));r(1168);t.default=function(e){var t=e.firstItem,r=e.secondItem,n=e.children,l=e.onClick;return u.default.createElement("div",{className:"privilege-breadcrumb"},u.default.createElement(a.default,null,u.default.createElement("span",{className:l?"privilege-breadcrumb-first":"",onClick:l},l&&u.default.createElement(i.default,{style:{marginRight:8}}),u.default.createElement("span",{className:r?"privilege-breadcrumb-span":""},t)),r&&u.default.createElement("span",null," /   ",r)),u.default.createElement("div",null,n))}},1168:function(e,t,r){"use strict";r.r(t)},1169:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(252));r(389);var i=n(r(155)),u=n(r(0)),l=r(9);r(1170);t.default=function(e){var t=e.userInfo,r=void 0===t?void 0:t,n=r||(0,l.getUser)();return u.default.createElement("div",{className:"tiklab-profile"},n.avatar&&"null"!==n.avatar?u.default.createElement(i.default,{src:n.avatar}):n.nickname&&"null"!==n.nickname?u.default.createElement(i.default,null,n.nickname.substring(0,1)):n.name&&"null"!==n.name?u.default.createElement(i.default,null,n.name.substring(0,1)):u.default.createElement(i.default,{icon:u.default.createElement(a.default,null)}))}},1170:function(e,t,r){"use strict";r.r(t)},1171:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(294)),i=n(r(91)),u=n(r(115)),l=n(r(0));r(1172);t.default=function(e){var t=e.currentPage,r=e.changPage,n=e.page,o=n.totalPage,c=void 0===o?1:o,f=n.totalRecord,d=void 0===f?1:f;return c>1&&l.default.createElement("div",{className:"privilege-page"},l.default.createElement("div",{className:"privilege-page-record"},"  共",d,"条 "),l.default.createElement("div",{className:"".concat(1===t?"privilege-page-ban":"privilege-page-allow"),onClick:function(){return 1===t?null:r(t-1)}},l.default.createElement(u.default,null)),l.default.createElement("div",{className:"privilege-page-current"},t),l.default.createElement("div",{className:"privilege-page-line"}," / "),l.default.createElement("div",null,c),l.default.createElement("div",{className:"".concat(t===c?"privilege-page-ban":"privilege-page-allow"),onClick:function(){return t===c?null:r(t+1)}},l.default.createElement(i.default,null)),l.default.createElement("div",{className:"privilege-page-fresh",onClick:function(){return r(1)}},l.default.createElement(a.default,null)))}},1172:function(e,t,r){"use strict";r.r(t)},1173:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ListAction",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ListEmpty",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ListIcon",{enumerable:!0,get:function(){return u.default}});var a=n(r(1174)),i=n(r(1176)),u=n(r(1177))},1174:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(264);var a=n(r(124)),i=n(r(129));r(265);var u=n(r(175));r(151);var l=n(r(47)),o=n(r(182)),c=n(r(0));r(1175);t.default=function(e){var t=e.edit,r=e.del;return c.default.createElement("span",{className:"privilege-listAction"},t&&c.default.createElement(l.default,{title:"修改"},c.default.createElement("span",{onClick:t,className:"edit",style:{cursor:"pointer",marginRight:15}},c.default.createElement(o.default,{style:{fontSize:16}}))),r&&c.default.createElement(a.default,{overlay:c.default.createElement("div",{className:"privilege-dropdown-more"},c.default.createElement("div",{className:"dropdown-more-item",onClick:function(){u.default.confirm({title:"确定删除吗？",content:c.default.createElement("span",{style:{color:"#f81111"}},"删除后无法恢复！"),okText:"确认",cancelText:"取消",onOk:function(){r()},onCancel:function(){}})}},"删除")),trigger:["click"],placement:"bottomRight"},c.default.createElement(l.default,{title:"更多"},c.default.createElement("span",{className:"del",style:{cursor:"pointer"}},c.default.createElement(i.default,{style:{fontSize:17}})))))}},1175:function(e,t,r){"use strict";r.r(t)},1176:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(176);var a=n(r(74)),i=n(r(0));t.default=function(e){var t=e.title;return i.default.createElement(a.default,{description:t||"没有查询到数据"})}},1177:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(0));r(1178);t.default=function(e){var t=e.text,r=e.className;return a.default.createElement("span",{className:"privilege-list-icon ".concat(r)},function(){if(!t||"string"!=typeof t)return"A";var e=t.trim()[0]||"A";return/[a-z]/.test(e)?e.toUpperCase():e}())}},1178:function(e,t,r){"use strict";r.r(t)},1179:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(172);var a=n(r(71)),i=n(r(116)),u=n(r(666)),l=n(r(630)),o=n(r(0));r(1055);t.default=function(e){var t=(0,l.default)({},((0,u.default)(e),e));return o.default.createElement(a.default,(0,l.default)({},t,{allowClear:!0,bordered:!1,autoComplete:"off",prefix:o.default.createElement(i.default,{style:{fontSize:16}}),className:"privilege-search-input",onChange:function(e){"click"===e.type&&t.onPressEnter(e)}}))}},1180:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(260);var a=n(r(150)),i=n(r(630)),u=n(r(187)),l=n(r(266)),o=n(r(0));r(1055);var c=["children"];t.default=function(e){var t=e.children,r=(0,l.default)(e,c);return o.default.createElement("div",{className:"privilege-search-select"},o.default.createElement(a.default,(0,i.default)({},r,{bordered:!1,suffixIcon:o.default.createElement(u.default,null),className:"".concat(r.className)}),t))}},1181:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(0));r(1182);t.default=function(e){return a.default.createElement("div",{className:"tiklab-version-info"},a.default.createElement("div",null,"© 2020-2025 tiklab.net 版权所有"),a.default.createElement("div",{className:"tiklab-version-info-bottom"},a.default.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.txt",target:"_blank"},"GPL v3"),a.default.createElement("span",null,"·"),a.default.createElement("a",{href:"https://developer.tiklab.net/",target:"_blank"},"社区"),a.default.createElement("span",null,"·"),a.default.createElement("a",{href:"https://doc.tiklab.net",target:"_blank"},"文档"),a.default.createElement("span",null,"·"),a.default.createElement("a",{href:"https://tiklab.net/aboutus",target:"_blank"},"关于我们")))}},1182:function(e,t,r){"use strict";r.r(t)},1183:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(41));r(520);var u=n(r(519));r(261);var l=n(r(171)),o=n(r(244)),c=n(r(73)),f=n(r(178)),d=n(r(384)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),p=r(647),m=r(44);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,m.inject)("systemRoleStore")((0,m.observer)((function(e){var t=e.visible,r=e.handleOk,n=e.handleCancel,a=e.allSelectIds,c=e.roleType,m=e.domainId,v=e.selectedRowKeys,b=e.setSelectedRowKeys,y=e.systemRoleStore,h=e.setDirs,O=y.findDmUserPage,P=y.findUserPage,E=y.findAllList,w=(0,s.useState)([]),R=(0,d.default)(w,2),j=R[0],_=R[1],k={pageSize:6,currentPage:1},S=(0,s.useState)({}),x=(0,d.default)(S,2),D=x[0],I=x[1],L=(0,s.useState)({pageParam:k}),A=(0,d.default)(L,2),M=A[0],T=A[1],F=(0,s.useState)([]),C=(0,d.default)(F,2),N=C[0],U=C[1];(0,s.useEffect)((function(){E().then((function(e){0===e.code&&(U(e.data),h(e.data))}))}),[]),(0,s.useEffect)((function(){"project"!==c&&z().then((function(e){var t;if(0===e.code&&(I({currentPage:e.data.currentPage,totalPage:e.data.totalPage,totalRecord:e.data.totalRecord}),null!==(t=e.data)&&void 0!==t&&t.dataList)){var r=e.data.dataList;_("system"===c?r:r.map((function(e){return e.user})))}}))}),[M]);var z=function(){var e=(0,f.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("domain"!==c){e.next=4;break}return e.next=3,O(g(g({},M),{},{domainId:m}));case 3:return e.abrupt("return",e.sent);case 4:if("system"!==c){e.next=8;break}return e.next=7,P(M);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){return a&&a.some((function(t){return t===e.id}))},B={selectedRowKeys:v,onSelectAll:function(e,t,r){var n=r.map((function(e){return e&&e.id})).filter(Boolean);if(e){var a=Array.from(new Set([].concat((0,o.default)(n),(0,o.default)(v))));b(a)}else{var i=v.filter((function(e){return!n.includes(e)}));b(i)}},onSelect:function(e){return G(e)},getCheckboxProps:function(e){return{disabled:V(e)}}},G=function(e){V(e)||(v.indexOf(e.id)>=0?v.splice(v.indexOf(e.id),1):v.push(e.id),b((0,o.default)(v)))},W=[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"30%",ellipsis:!0,render:function(e,t){return s.default.createElement(l.default,null,s.default.createElement(p.Profile,{userInfo:t}),e)}},{title:"手机号",dataIndex:"phone",key:"phone",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:"email",key:"email",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=N.find((function(t){return t.id===e}));return t?t.name:"--"}}];return s.default.createElement(p.BaseModal,{title:"添加用户",visible:t,onCancel:n,onOk:r,width:800},s.default.createElement("div",null,s.default.createElement(p.SearchInput,{placeholder:"搜索姓名、手机号",style:{width:200},onPressEnter:function(e){var t=g(g({},M),{},{accent:e.target.value,pageParam:k});T(t)}}),s.default.createElement("div",{style:{paddingTop:15}},s.default.createElement(u.default,{columns:W,dataSource:j,rowSelection:B,onRow:function(e){return{onClick:function(){return G(e)}}},rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:s.default.createElement(p.ListEmpty,null)}}),s.default.createElement(p.Page,{currentPage:M.pageParam.currentPage,changPage:function(e){var t=g(g({},M),{},{pageParam:{pageSize:6,currentPage:e}});T(t)},page:D}))))})))},1184:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(532);var i=n(r(530)),u=n(r(384)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),o=r(647),c=r(44);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.default=(0,c.inject)("systemRoleStore")((0,c.observer)((function(e){var t=e.visible,r=e.allSelectIds,n=e.handleOk,a=e.handleCancel,c=e.selectedRowKeys,f=e.setSelectedRowKeys,d=e.systemRoleStore.findOrgaTree,s=(0,l.useState)({}),p=(0,u.default)(s,2),m=p[0],v=p[1],b=(0,l.useState)([]),g=(0,u.default)(b,2),y=g[0],h=g[1];(0,l.useEffect)((function(){w()}),[m]);var O,P,E,w=function(){d(m).then((function(e){0===e.code&&h((null==e?void 0:e.data)||[])}))};return l.default.createElement(o.BaseModal,{width:500,visible:t,title:"添加部门",onOk:n,onCancel:a},l.default.createElement(o.SearchInput,{placeholder:"搜索名称",style:{width:190},onPressEnter:function(e){v({orgaName:e.target.value})}}),l.default.createElement("div",{className:"tiklab_privilege_orga_add_item"},l.default.createElement(i.default,{checkable:!0,blockNode:!0,defaultExpandParent:!0,checkedKeys:c,defaultExpandedKeys:["111111"],treeData:(O=y,P=[],E=function(e,t){e.forEach((function(e,n){var a,i={key:e.orgaId,disabled:(a=e,r&&r.some((function(e){return e===a.orgaId}))),title:e.orgaName,children:[]};t.push(i),e.children&&e.children.length>0&&E(e.children,t[n].children)}))},E(O,P),P),onCheck:function(e,t){t.checkedNodes;f(e)}})))})))},1185:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(520);var i=n(r(519)),u=n(r(244)),l=n(r(384)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),c=r(647),f=r(44);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.default=(0,f.inject)("systemRoleStore")((0,f.observer)((function(e){var t=e.visible,r=e.handleOk,n=e.handleCancel,a=e.allSelectIds,f=e.selectedRowKeys,d=e.setSelectedRowKeys,s=e.systemRoleStore.findUserGroupList,p=(0,o.useState)({}),m=(0,l.default)(p,2),v=m[0],b=m[1],g=(0,o.useState)([]),y=(0,l.default)(g,2),h=y[0],O=y[1];(0,o.useEffect)((function(){P()}),[v]);var P=function(){s(v).then((function(e){0===e.code&&O(e.data)}))},E=function(e){return a&&a.some((function(t){return t===e.id}))},w={selectedRowKeys:f,onSelectAll:function(e,t,r){var n=r.map((function(e){return e&&e.id})).filter(Boolean);if(e){var a=Array.from(new Set([].concat((0,u.default)(n),(0,u.default)(f))));d(a)}else{var i=f.filter((function(e){return!n.includes(e)}));d(i)}},onSelect:function(e){return R(e)},getCheckboxProps:function(e){return{disabled:E(e)}}},R=function(e){E(e)||(f.indexOf(e.id)>=0?f.splice(f.indexOf(e.id),1):f.push(e.id),d((0,u.default)(f)))};return o.default.createElement(c.BaseModal,{title:"添加用户组",visible:t,onCancel:n,onOk:r,width:500},o.default.createElement("div",null,o.default.createElement(c.SearchInput,{placeholder:"搜索名称",style:{width:190},onPressEnter:function(e){b({name:e.target.value})}}),o.default.createElement("div",{style:{paddingTop:15}},o.default.createElement(i.default,{columns:[{title:"名称",dataIndex:"name",key:"name",width:"70%",ellipsis:!0,render:function(e){return e||"--"}},{title:"类型",dataIndex:"group",key:"group",width:"30%",ellipsis:!0,render:function(e){return"system"===e?"内置":"自定义"}}],dataSource:h,rowSelection:w,onRow:function(e){return{onClick:function(){return R(e)}}},rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:o.default.createElement(c.ListEmpty,null)}}))))})))},1186:function(e,t,r){"use strict";r.r(t)},1187:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/enhancementsRole.png"},1188:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(521);var i=n(r(523));r(522);var u=n(r(524));r(520);var l=n(r(519)),o=n(r(266)),c=n(r(244)),f=n(r(73));r(261);var d=n(r(171));r(526);var s=n(r(525)),p=n(r(184)),m=n(r(182));r(151);var v=n(r(47)),b=n(r(185)),g=n(r(384)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),h=r(44),O=r(12),P=r(385),E=r(750),w=r(767),R=n(r(1060)),j=r(279),_=n(r(1061)),k=r(246),S=r(1062),x=r(647);r(1063);var D=["children","sort"],I=["children","sort"];function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,h.inject)(j.PRIVILEGE_PROJECT_FEATURE_STORE,j.PRIVILEGE_SYSTEM_STORE)((0,h.observer)((function(e){var t=(0,P.useTranslation)().t,r=e.privilegeProjectFeatureStore,n=e.privilegeSystemStore,a=n.deleteFunctionAction,h=n.getFunctionListListAction,j=n.updateFunctionSortAction,L=r.privilegeProjectTreeData,A=r.getDmPrivilegeTree,T=(0,y.useState)(""),F=(0,g.default)(T,2),C=F[0],N=F[1],U=(0,y.useState)(!1),z=(0,g.default)(U,2),V=z[0],B=z[1],G=(0,y.useState)({}),W=(0,g.default)(G,2),K=W[0],J=W[1],Y=(0,y.useState)({}),q=(0,g.default)(Y,2),H=q[0],Q=q[1],X={type:"2",pageParam:{pageSize:99999,currentPage:1}},Z=(0,y.useState)(X),$=(0,g.default)(Z,2),ee=$[0],te=$[1],re=[{title:t("privilege-feature-name"),dataIndex:"name",key:"name"},{title:t("privilege-feature-code"),dataIndex:"code",key:"code"},{title:"操作",dataIndex:"action",width:"10%",render:function(e,t){return y.default.createElement(d.default,{size:"middle"},!t.parentFunction&&y.default.createElement(v.default,{title:"添加"},y.default.createElement(b.default,{onClick:function(){return ue(t.id)}})),y.default.createElement(v.default,{title:"编辑"},y.default.createElement(m.default,{onClick:function(){return oe(t)}})),!t.children&&y.default.createElement(v.default,{title:"删除"},y.default.createElement(s.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return ce(t)},okText:"确定",cancelText:"取消"},y.default.createElement(p.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}}))))}}];(0,y.useEffect)((function(){ne()}),[ee]);var ne=function(){h(ee).then((function(e){if(!e.code){var t=ie(e.data);A(t)}}))},ae=function(){h(X).then((function(e){if(!e.code){var t=ie(e.data);A(t)}}))},ie=function(e){var t=(0,k.sort)(e.map((function(e){return!e.parentFunction&&e})).filter(Boolean)),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&e})).filter(Boolean),n=[];return t.forEach((function(e){var t=e.id,a=(0,k.sort)(r.filter((function(e){return e.parentFunction.id===t})));a.length>0?n.push(M(M({},e),{},{children:a})):n.push(e)})),n},ue=(0,y.useCallback)((function(e){N(e),B(!0)}),[]),le=(0,y.useCallback)((function(){N(""),J({}),B(!1),ae()}),[]),oe=(0,y.useCallback)((function(e){J(e),B(!0)}),[]),ce=(0,y.useCallback)((function(e){a(e.id).then((function(e){e.code||ne()}))}),[]),fe=(0,y.useCallback)((function(e){var t,r=e.dragId,n=e.dropId,a=e.drag,i=e.drop,u=a.sort,l=-1,f=[],d=[],s={},p={};if(i.children){var m=[],v=H[n],b=i.children[0];if(v){var g=se(b.id);s=M(M({},a),{},{parentFunction:g.parentFunction}),u<g.sort?(m=[s].concat((0,c.default)(i.children)),de(m).then((function(e){ae()}))):(l=i.children.findIndex((function(e){return e.id===g.id})),i.children.splice(l,0,a),i.children.forEach((function(e){d.push(e.sort)})),f=(0,S.sortNum)(d),i.children=i.children.map((function(e,t){return M(M({},e),{},{sort:f[t]})})),de(i.children).then((function(e){ae()})))}}if(i.parentFunction){var y=i.parentFunction.id,h=se(y);l=(t=h.children.filter((function(e){return e.id!==r}))).findIndex((function(e){return e.id===i.id})),t.splice(l,0,M(M({},a),{},{parentFunction:h.children[0].parentFunction})),t.forEach((function(e){d.push(e.sort)})),f=(0,S.sortNum)(d),h.children=t.map((function(e,t){return M(M({},e),{},{sort:f[t]})})),de(h.children).then((function(e){ae()}))}else{a.children;var O=a.sort,P=(0,o.default)(a,D),E=(i.children,i.sort),w=(0,o.default)(i,I);if(a.parentFunction&&!i.parentFunction){a.parentFunction.id;p=M(M({},w),{},{parentFunction:i.parentFunction,sort:O}),s=M(M({},P),{},{parentFunction:i.parentFunction,sort:E}),de([p,s]).then((function(e){ae()}))}else{var R=[M(M({},P),{},{sort:E}),M(M({},w),{},{sort:O})];de(R).then((function(e){ae()}))}}}),[L,H]),de=function(e){return j({list:e})},se=(0,y.useCallback)((function(e){var t={},r=function(n){for(var a=0;a<n.length;a++){var i=n[a];if(i.id===e){t=i;break}i.children&&i.children.length>0&&r(i.children)}return t};return r((0,O.toJS)(L)),t}),[L]);return y.default.createElement(i.default,{className:"privilege-dm"},y.default.createElement(u.default,{sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},y.default.createElement(x.BreadCrumb,{firstItem:"项目功能"},y.default.createElement(x.Btn,{type:"primary",onClick:function(){return B(!0)},title:t("privilege-add-feature")})),y.default.createElement("div",{style:{paddingBottom:15}},y.default.createElement(x.SearchInput,{placeholder:"搜索名称",onPressEnter:function(e){return function(e){var t=e.target.value;te(M(M({},ee),{},{name:t}))}(e)},style:{width:190}})),y.default.createElement("div",{id:"project-drag-sorting"},y.default.createElement(E.DndProvider,{backend:w.HTML5Backend},y.default.createElement(l.default,{dataSource:(0,O.toJS)(L),columns:re,rowKey:"id",tableLayout:"fixed",pagination:!1,components:{body:{row:_.default}},onRow:function(e,t){return{record:e,data:(0,O.toJS)(L),index:t,moveRow:fe}},expandable:{onExpand:function(e,t){Q(M(M({},H),{},(0,f.default)({},t.id,e)))}},locale:{emptyText:y.default.createElement(x.ListEmpty,null)}})))),y.default.createElement(R.default,{data:L,editData:K,visible:V,cancelAdd:le,parentId:C,urlType:"project"}))})))},1189:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(521);var i=n(r(523));r(522);var u=n(r(524));r(520);var l=n(r(519));r(261);var o=n(r(171));r(151);var c=n(r(47)),f=n(r(282));r(388);var d=n(r(269)),s=n(r(73)),p=n(r(384)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),v=r(44),b=r(385),g=n(r(1065)),y=r(647),h=r(279);r(1066);var O=r(9),P=n(r(957)),E=n(r(958));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,v.inject)(h.PRIVILEGE_PROJECT_ROLE_STORE,h.SYSTEM_ROLE_STORE)((0,v.observer)((function(e){var t=e.privilegeProjectRoleStore,r=e.systemRoleStore,n=e.isBase,a=void 0!==n&&n,s=e.refresh,v=void 0!==s&&s,h=e.bgroup,w=e.roleButton,R=(0,b.useTranslation)().t,_=t.getProjectRoles,k=t.privilegeProjectRole,S=r.deleteRoleAction,x=r.findRolePageAndRoleUserNumber,D=r.setDefaultRoleAction,I=r.rolePage,L=(0,m.useState)(!1),A=(0,p.default)(L,2),M=A[0],T=A[1],F=(0,m.useState)(null),C=(0,p.default)(F,2),N=C[0],U=C[1],z=(0,m.useState)({pageSize:15,currentPage:1}),V=(0,p.default)(z,1)[0],B=(0,m.useState)({pageParam:V}),G=(0,p.default)(B,2),W=G[0],K=G[1],J=(0,m.useState)(!1),Y=(0,p.default)(J,2),q=Y[0],H=Y[1],Q=(0,m.useState)(null),X=(0,p.default)(Q,2),Z=X[0],$=X[1];(0,m.useEffect)((function(){ee()}),[W,v]);var ee=function(){x(j({type:"2",group:"system"},W)).then((function(e){0===e.code&&_(e.data.dataList)}))},te=[{title:"角色名称",dataIndex:"name",width:"35%",ellipsis:!0,render:function(e,t){var r=t.defaultRole;return m.default.createElement("div",{className:"tiklab_project_role-name",onClick:function(){U(t)}},m.default.createElement(y.ListIcon,{text:e}),m.default.createElement("span",{className:"name-text"},e),1===r&&m.default.createElement(d.default,null,"默认"))}},{title:"成员数",dataIndex:"roleUserNumber",width:"25%",ellipsis:!0},{title:"创建方式",dataIndex:"group",width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":R("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var r=t.defaultRole,n=t.group,i=t.businessType;return m.default.createElement(o.default,{size:"middle"},0===r&&m.default.createElement(c.default,{title:"设置默认"},m.default.createElement(f.default,{onClick:function(){D(t).then((function(e){e.code||ee()}))},style:{fontSize:"var(--tiklab-icon-size-16)"}})),m.default.createElement(y.ListAction,{del:a||"system"!==n?function(){return e=t.id,void S(e).then((function(e){e.code||ee()}));var e}:void 0,edit:2!==i?function(){return function(e){$(e),H(!0)}(t)}:void 0}))}}],re=(0,O.disableFunction)();return m.default.createElement(i.default,{className:"tiklab_project_role"},m.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},N?m.default.createElement(g.default,{roleDetailParams:N,setDetail:U,findRole:ee,isBase:a,roleType:"project"}):m.default.createElement("div",{className:"tiklab_project_role-content"},m.default.createElement(y.BreadCrumb,{firstItem:"项目角色"},re?m.default.createElement(y.Btn,{type:"primary",onClick:function(){return T(!0)},title:R("privilege-role.addRole")}):w||null),m.default.createElement(l.default,{columns:te,dataSource:k,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:m.default.createElement(y.ListEmpty,null)}}),m.default.createElement(y.Page,{currentPage:W.pageParam.currentPage,changPage:function(e){K(j(j({},W),{},{pageParam:{pageSize:15,currentPage:e}}))},page:I})),m.default.createElement(E.default,{visible:q,setVisible:H,editData:Z,setEditData:$,roleType:"project",findRole:ee}),m.default.createElement(P.default,{bgroup:h,visible:M,setVisible:T}),e.children))})))},1190:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(521);var i=n(r(523));r(522);var u=n(r(524)),l=n(r(630));r(520);var o=n(r(519)),c=n(r(384)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),d=r(44),s=r(647),p=n(r(1191)),m=r(277);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}r(1068);t.default=(0,d.inject)("projectVirtualRoleStore")((0,d.observer)((function(e){var t=e.projectVirtualRoleStore,r=t.findVRolePage,n=t.deleteVRole,a=(0,f.useState)({pageParam:{pageSize:15,currentPage:1}}),d=(0,c.default)(a,2),v=d[0],b=d[1],g=(0,f.useState)({}),y=(0,c.default)(g,2),h=y[0],O=y[1],P=(0,f.useState)(!1),E=(0,c.default)(P,2),w=E[0],R=E[1],j=(0,f.useState)(null),_=(0,c.default)(j,2),k=_[0],S=_[1];(0,f.useEffect)((function(){x()}),[v]);var x=function(){r(v).then((function(e){0===e.code&&O(e.data)}))},D=function(e){b({pageParam:{pageSize:15,currentPage:e}})},I=[{title:"名称",dataIndex:"name",width:"40%",ellipsis:!0},{title:"标识",dataIndex:"id",width:"25%",ellipsis:!0},{title:"描述",dataIndex:"des",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"操作",dataIndex:"action",render:function(e,t){return f.default.createElement(s.ListAction,{edit:function(){return function(e){S(e),R(!0)}(t)},del:function(){return function(e){n(e.id).then((function(e){if(0===e.code){var t=(0,m.deleteSuccessReturnCurrenPage)(h.totalRecord,15,v.pageParam.currentPage);D(t)}}))}(t)}})}}];return f.default.createElement(i.default,{className:"project-virtual-role"},f.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},f.default.createElement("div",{className:"project-virtual-role-content"},f.default.createElement(s.BreadCrumb,{firstItem:"项目虚拟角色"},f.default.createElement(s.Btn,{type:"primary",onClick:function(){return R(!0)},title:"添加项目虚拟角色"})),f.default.createElement(o.default,{columns:I,dataSource:(null==h?void 0:h.dataList)||[],rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:f.default.createElement(s.ListEmpty,null)}}),f.default.createElement(s.Page,{currentPage:v.pageParam.currentPage,changPage:D,page:h}),f.default.createElement(p.default,(0,l.default)({},e,{visible:w,setVisible:R,formValue:k,setFormValue:S,findVRole:x})))))})))},1191:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(172);var i=n(r(71));r(170);var u=n(r(56)),l=n(r(73));r(262);var o=n(r(72)),c=n(r(384)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),d=r(647);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.projectVirtualRoleStore,r=e.visible,n=e.setVisible,a=e.formValue,l=e.setFormValue,s=e.findVRole,p=t.createVRole,v=t.updateVRole,b=o.default.useForm(),g=(0,c.default)(b,1)[0];(0,f.useEffect)((function(){r&&g.setFieldsValue(a)}),[r]);var y=function(){n(!1),l(null),g.resetFields()};return f.default.createElement(d.BaseModal,{title:a?"修改虚拟角色":"添加虚拟角色",visible:r,onCancel:y,onOk:function(){g.validateFields().then((function(e){a?v(m(m({},e),{},{type:2})):p(m(m({},e),{},{type:2})).then((function(e){0===e.code?(s(),u.default.info("添加成功")):u.default.error(e.msg)})),y()}))}},f.default.createElement(o.default,{form:g,layout:"vertical"},f.default.createElement(o.default.Item,{name:"id",label:"id"},f.default.createElement(i.default,{placeholder:"为空时，自动生成",disabled:a})),f.default.createElement(o.default.Item,{name:"name",label:"名称",rules:[{required:!0,message:"虚拟角色名称"}]},f.default.createElement(i.default,null)),f.default.createElement(o.default.Item,{name:"des",label:"说明"},f.default.createElement(i.default,null))))}},1192:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(521);var i=n(r(523));r(522);var u=n(r(524));r(520);var l=n(r(519));r(261);var o=n(r(171));r(151);var c=n(r(47)),f=n(r(282));r(388);var d=n(r(269)),s=n(r(73)),p=n(r(384)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),v=r(44),b=r(385),g=n(r(1065)),y=r(279),h=r(647);r(1069);var O=r(9),P=n(r(957)),E=n(r(958));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,v.inject)(y.SYSTEM_ROLE_STORE)((0,v.observer)((function(e){var t=e.systemRoleStore,r=e.bgroup,n=e.isBase,a=void 0!==n&&n,s=e.refresh,v=void 0!==s&&s,y=e.roleButton,w=(0,b.useTranslation)().t,R=t.findRolePageAndRoleUserNumber,_=t.rolePage,k=t.deleteRoleAction,S=t.privilegeSystemRole,x=t.setDefaultRoleAction,D=(0,m.useState)(null),I=(0,p.default)(D,2),L=I[0],A=I[1],M=(0,m.useState)(!1),T=(0,p.default)(M,2),F=T[0],C=T[1],N=(0,m.useState)({pageParam:{pageSize:13,currentPage:1}}),U=(0,p.default)(N,2),z=U[0],V=U[1],B=(0,m.useState)(!1),G=(0,p.default)(B,2),W=G[0],K=G[1],J=(0,m.useState)(null),Y=(0,p.default)(J,2),q=Y[0],H=Y[1];(0,m.useEffect)((function(){Q()}),[z,v]);var Q=function(){R(z)},X=[{title:"角色名称",dataIndex:"name",width:"35%",ellipsis:!0,render:function(e,t){var r=t.defaultRole;return m.default.createElement("div",{className:"tiklab_system_role_name",onClick:function(){A(t)}},m.default.createElement(h.ListIcon,{text:e}),m.default.createElement("span",{className:"name-text"},e),1===r&&m.default.createElement(d.default,null,"默认"))}},{title:"成员数",dataIndex:"roleUserNumber",width:"25%",ellipsis:!0},{title:"创建方式",dataIndex:"group",width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":w("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var r=t.defaultRole,n=t.group,i=t.businessType;return m.default.createElement(o.default,{size:"middle"},0===r&&m.default.createElement(c.default,{title:"设置默认"},m.default.createElement(f.default,{onClick:function(){x(t).then((function(e){e.code||Q()}))},style:{fontSize:"var(--tiklab-icon-size-16)"}})),m.default.createElement(h.ListAction,{del:a||"system"!==n?function(){return e=t.id,void k(e).then((function(e){e.code||Q()}));var e}:void 0,edit:2!==i?function(){return function(e){H(e),K(!0)}(t)}:void 0}))}}],Z=(0,O.disableFunction)();return m.default.createElement(i.default,{className:"tiklab_system_role"},m.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"},className:"tiklab_system_role_col"},m.default.createElement("div",{className:"tiklab_system_role_box"},L?m.default.createElement(g.default,{roleDetailParams:L,setDetail:A,findRole:Q,roleType:"system",isBase:a}):m.default.createElement("div",{className:"tiklab_system_role-content"},m.default.createElement(h.BreadCrumb,{firstItem:"权限"},Z?m.default.createElement(h.Btn,{type:"primary",onClick:function(){return C(!0)},title:w("privilege-role.addRole")}):y||null),m.default.createElement("div",{className:"tiklab_system_role_box_content"},m.default.createElement(l.default,{columns:X,dataSource:S,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:m.default.createElement(h.ListEmpty,null)}}),m.default.createElement(h.Page,{currentPage:z.pageParam.currentPage,changPage:function(e){V(j(j({},z),{},{pageParam:{pageSize:12,currentPage:e}}))},page:_}))),m.default.createElement(E.default,{visible:W,setVisible:K,editData:q,setEditData:H,roleType:"system",findRole:Q})),m.default.createElement(h.VersionInfo,null),m.default.createElement(P.default,{bgroup:r,visible:F,setVisible:C}),e.children))})))},1193:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(521);var i=n(r(523));r(522);var u=n(r(524));r(520);var l=n(r(519)),o=n(r(266)),c=n(r(41)),f=n(r(244)),d=n(r(73)),s=n(r(178));r(261);var p=n(r(171));r(526);var m=n(r(525)),v=n(r(184)),b=n(r(182));r(151);var g=n(r(47)),y=n(r(185)),h=n(r(384)),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),P=r(44),E=r(385),w=r(12),R=r(750),j=r(767),_=r(279),k=n(r(1061)),S=n(r(1060)),x=r(647),D=r(1062);r(1071);var I=["children","sort"],L=["children","sort"];function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,P.inject)(_.PRIVILEGE_SYSTEM_STORE)((0,P.observer)((function(e){var t=(0,E.useTranslation)().t,r=e.privilegeSystemStore,n=r.privilegeSystemTreeData,a=r.getFunctionListListAction,P=r.deleteFunctionAction,_=r.updateFunctionSortAction,A=(0,O.useState)(""),M=(0,h.default)(A,2),F=M[0],C=M[1],N=(0,O.useState)(!1),U=(0,h.default)(N,2),z=U[0],V=U[1],B=(0,O.useState)({}),G=(0,h.default)(B,2),W=G[0],K=G[1],J=(0,O.useState)({}),Y=(0,h.default)(J,2),q=Y[0],H=Y[1],Q=(0,O.useState)({pageParam:{pageSize:9999,currentPage:1}}),X=(0,h.default)(Q,2),Z=X[0],$=X[1],ee=[{title:t("privilege-feature-name"),dataIndex:"name",key:"name",className:"column_bg_w"},{title:t("privilege-feature-code"),dataIndex:"code",key:"code"},{title:"操作",dataIndex:"action",className:"column_bg_w",width:"10%",render:function(e,t){return O.default.createElement(p.default,{size:"middle"},!t.parentFunction&&O.default.createElement(g.default,{title:"添加"},O.default.createElement(y.default,{onClick:function(){return re(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),O.default.createElement(g.default,{title:"编辑"},O.default.createElement(b.default,{onClick:function(){return ae(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),!t.children&&O.default.createElement(g.default,{title:"删除"},O.default.createElement(m.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return ie(t)},okText:"确定",cancelText:"取消"},O.default.createElement(v.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}}))))}}];(0,O.useEffect)((function(){(0,s.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:case"end":return e.stop()}}),e)})))()}),[Z]);var te=function(){var e=(0,s.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Z);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=(0,O.useCallback)((function(e){C(e.id),V(!0)}),[]),ne=function(){var e=(0,s.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(""),K({}),V(!1),e.next=5,te();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){K(e),V(!0)},ie=function(){var e=(0,s.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.id);case 2:if(e.sent.code){e.next=6;break}return e.next=6,te();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=(0,O.useCallback)(function(){var e=(0,s.default)(c.default.mark((function e(t){var r,n,a,i,u,l,d,s,p,m,v,b,g,y,h,O,P,E,w,R,j,_;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dragId,n=t.dropId,a=t.drag,i=t.drop,u=a.sort,l=-1,d=[],s=[],p={},m={},!i.children){e.next=31;break}if([],b=q[n],g=i.children[0],!b){e.next=31;break}if(y=oe(g.id),p=T(T({},a),{},{parentFunction:y.parentFunction}),!(u<y.sort)){e.next=22;break}return v=[p].concat((0,f.default)(i.children)),e.next=18,le(v);case 18:return e.next=20,te();case 20:e.next=31;break;case 22:return l=i.children.findIndex((function(e){return e.id===y.id})),i.children.splice(l,0,a),i.children.forEach((function(e){s.push(e.sort)})),d=(0,D.sortNum)(s),i.children=i.children.map((function(e,t){return T(T({},e),{},{sort:d[t]})})),e.next=29,le(i.children);case 29:return e.next=31,te();case 31:i.parentFunction?(O=i.parentFunction.id,P=oe(O),h=P.children.filter((function(e){return e.id!==r})),l=h.findIndex((function(e){return e.id===i.id})),h.splice(l,0,T(T({},a),{},{parentFunction:P.children[0].parentFunction})),h.forEach((function(e){s.push(e.sort)})),d=(0,D.sortNum)(s),P.children=h.map((function(e,t){return T(T({},e),{},{sort:d[t]})})),le(P.children).then((function(e){te()}))):(a.children,E=a.sort,w=(0,o.default)(a,I),i.children,R=i.sort,j=(0,o.default)(i,L),a.parentFunction&&!i.parentFunction?(a.parentFunction.id,m=T(T({},j),{},{parentFunction:i.parentFunction,sort:E}),p=T(T({},w),{},{parentFunction:i.parentFunction,sort:R}),le([m,p]).then((function(e){te()}))):(_=[T(T({},w),{},{sort:R}),T(T({},j),{},{sort:E})],le(_).then((function(e){te()}))));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,q]),le=function(){var e=(0,s.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={list:t},e.next=3,_(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=(0,O.useCallback)((function(e){var t={},r=function(n){for(var a=0;a<n.length;a++){var i=n[a];if(i.id===e){t=i;break}i.children&&i.children.length>0&&r(i.children)}return t};return r((0,w.toJS)(n)),t}),[n]);return O.default.createElement(i.default,{className:"systemFeature"},O.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},O.default.createElement(x.BreadCrumb,{firstItem:"功能管理"},O.default.createElement(x.Btn,{type:"primary",onClick:function(){return V(!0)},title:t("privilege-add-feature")})),O.default.createElement("div",{style:{paddingBottom:15}},O.default.createElement(x.SearchInput,{placeholder:t("privilege-search")+t("privilege-orga-name"),onPressEnter:function(e){return function(e){var t=e.target.value;$(T(T({},Z),{},{name:t}))}(e)},style:{width:190}})),O.default.createElement("div",{id:"drag-sorting"},O.default.createElement(R.DndProvider,{backend:j.HTML5Backend},O.default.createElement(l.default,{dataSource:(0,w.toJS)(n),columns:ee,rowKey:"id",tableLayout:"fixed",pagination:!1,components:{body:{row:k.default}},onRow:function(e,t){return{record:e,data:(0,w.toJS)(n),index:t,moveRow:ue}},expandable:{onExpand:function(e,t){H(T(T({},q),{},(0,d.default)({},t.id,e)))}},locale:{emptyText:O.default.createElement(x.ListEmpty,null)}})))),O.default.createElement(S.default,{data:n,editData:W,visible:z,cancelAdd:ne,parentId:F,urlType:"system"}))})))},1200:function(e,t,r){"use strict";r(1058)},1229:function(e,t,r){"use strict";r(1071)},1230:function(e,t,r){"use strict";r(1066)},1231:function(e,t,r){"use strict";r(1063)},1232:function(e,t,r){"use strict";r(1068)},246:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.handlerFeaterNode=void 0,Object.defineProperty(t,"privilege_cn",{enumerable:!0,get:function(){return i.default}}),t.sort=void 0,Object.defineProperty(t,"usePermission",{enumerable:!0,get:function(){return u.default}});var a=n(r(73)),i=n(r(398)),u=n(r(399));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=t.sort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.sort-t.sort}))};t.handlerFeaterNode=function(e){var t=function(e,r){for(var n=[],a=0;a<e.length;a++){var i=e[a];if(i.parentFunction===r||i.parentFunction&&i.parentFunction.id===r){var u=o(o({},i),{},{children:[]});u.children=t(e,i.id),0===u.children.length&&delete u.children,n.push(u)}}return c(n),n};return t(e,null)}},277:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.links=t.deleteSuccessReturnCurrenPage=void 0;var a=n(r(73));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.links=function(e,t){var r=[],n=function(e,a){e&&e.map((function(e){if(e.children){var i=e.children.map((function(r){return u(u({},r),{},{type:e[t]})}));n(i,r)}else a.push(e)}))};return n(e,r),r},t.deleteSuccessReturnCurrenPage=function(e,t,r){return e>=r*t?r:e<=(r-1)*t+1?1===r?1:r-1:r}},278:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(427));t.default=a.default},279:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PRIVILEGE_DOMAIN_ROLE_STORE",{enumerable:!0,get:function(){return i.PRIVILEGE_DOMAIN_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_FEATURE_STORE",{enumerable:!0,get:function(){return u.PRIVILEGE_PROJECT_FEATURE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_ROLE_STORE",{enumerable:!0,get:function(){return c.PRIVILEGE_PROJECT_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE",{enumerable:!0,get:function(){return o.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_SYSTEM_STORE",{enumerable:!0,get:function(){return f.PRIVILEGE_SYSTEM_STORE}}),Object.defineProperty(t,"SYSTEM_ROLE_STORE",{enumerable:!0,get:function(){return l.SYSTEM_ROLE_STORE}}),t.privilegeStores=void 0;var a=n(r(73)),i=r(429),u=r(430),l=r(431),o=r(432),c=r(433),f=r(434);t.privilegeStores=(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)({},f.PRIVILEGE_SYSTEM_STORE,new f.SystemFeatureStore),l.SYSTEM_ROLE_STORE,new l.SystemRoleStore),c.PRIVILEGE_PROJECT_ROLE_STORE,new c.ProjectRoleStore),u.PRIVILEGE_PROJECT_FEATURE_STORE,new u.ProjectFeatureStore),i.PRIVILEGE_DOMAIN_ROLE_STORE,new i.DomainRoleStore),o.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE,new o.ProjectVirtualRoleStore)},287:function(e){e.exports=JSON.parse('{"privilege-feature-name":"功能名称","privilege-feature-code":"功能编码","privilege-add-feature":"添加功能","privilege-orga-name":"组织名称","privilege-add-user":"添加成员","privilege-search":"搜索","privilege-desc":"描述","privilege-user-and-org":"用户名、部门","privilege-user":"用户名","privilege-select-user":"选择用户","privilege-common":{"edit":"编辑","delete":"删除","action":"操作","please-input":"请输入","please-select":"请输入","save":"保存","cancel":"取消"},"privilege-add-node":"添加子节点","privilege-edit-feature":"编辑功能","privilege-point-node":"挂载节点","privilege-point-node-placeholder":"请选择挂载节点","privilege-role":{"addRole":"添加角色","addSystemRole":"添加系统角色","editRole":"编辑角色","roleName":"角色名称","roleDesc":"角色描述","people":"成员","promise":"权限","name":"用户名","phone":"手机号","nickname":"姓名","email":"邮箱","type":"类别","orga":"部门","thirdparty":"第三方","internal":"内部","system":"系统","custom":"自定义","org":"组织"}}')},288:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(425));t.default=a.default},289:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(426));t.default=a.default},290:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(428));t.default=a.default},396:function(e,t,r){},398:function(e,t,r){"use strict";r.r(t);var n=r(287);t.default=n},399:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(384)),i=r(0),u=r(9);t.default=function(e){var t=e.code,r=e.systemRoleStore,n=e.domainId,l=r.setSystemPermissionsCodes,o=r.setDomainPermissionsCodes,c=r.systemPermissions,f=r.domainPermissions,d=(0,i.useState)(null),s=(0,a.default)(d,2),p=s[0],m=s[1];return(0,i.useEffect)((function(){var e=new FormData,r=n?"permission/findDomainPermissions":"permission/findPermissions",a=(0,u.getUser)();if(a.userId){if(e.append("userId",a.userId),n){if(f.hasOwnProperty(n))return void m(f[n].includes(t));e.append("domainId",n)}else if(c.length>0)return void m(c.includes(t));u.Axios.post(r,e).then((function(e){e.code||(n?o(n,e.data):l(e.data),m(e.data.includes(t)))}))}}),[]),p}},425:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(266)),i=(n(r(0)),r(44)),u=["code","disabled","systemRoleStore"];t.default=(0,i.inject)("systemRoleStore")((0,i.observer)((function(e){var t=e.code,r=void 0===t?"":t,n=(e.disabled,e.systemRoleStore),i=(0,a.default)(e,u),l=n.systemPermissions;try{return r?l.includes(r)?i.children:null:i.children}catch(e){return l.includes(r)?i.children:null}})))},426:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(244)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),l=r(44),o=r(277);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}t.default=(0,l.inject)("systemRoleStore")((0,l.observer)((function(e){var t=e.expandedTree,r=e.setExpandedTree,n=e.applicationRouters,a=e.outerPath,l=e.pathKey,c=void 0===l?"id":l,f=e.noAccessPath,d=e.systemRoleStore,s=d.systemPermissions,p=d.privilegeLoading,m=e.location.pathname,v=(0,o.links)(n,c);return(0,u.useEffect)((function(){if(m===a)if(s&&s.length>0){var n=v.find((function(e){return s.includes(e.purviewCode)}));if(n)e.history.replace(n[c]);else{var u=v.find((function(e){return!e.purviewCode}));u&&e.history.replace(u[c])}}else{var l=v.find((function(e){return!e.purviewCode}));l&&e.history.replace(l[c])}else{var o=v.find((function(e){return e[c]===m}));if(o&&(t&&r([o.type].concat((0,i.default)(t))),o.purviewCode&&!p&&!s.includes(o.purviewCode)))return e.history.replace(f)}}),[m,s]),e.children})))},427:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(266)),i=(n(r(0)),r(44)),u=r(9),l=["code","domainId","systemRoleStore"];t.default=(0,i.inject)("systemRoleStore")((0,i.observer)((function(e){var t=e.code,r=void 0===t?"":t,n=e.domainId,i=e.systemRoleStore,o=(0,a.default)(e,l),c=i.domainPermissions,f=(0,u.getUser)().userId;try{return r?c["".concat(f,"_").concat(n)]&&c["".concat(f,"_").concat(n)].includes(r)?o.children:null:o.children}catch(e){return c["".concat(f,"_").concat(n)]&&c["".concat(f,"_").concat(n)].includes(r)?o.children:null}})))},428:function(e,t,r){"use strict";var n=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}(r(0)),i=r(44),u=r(9),l=r(277);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default=(0,i.inject)("systemRoleStore")((0,i.observer)((function(e){var t=e.projectRouters,r=e.outerPath,n=e.noAccessPath,i=e.domainId,o=e.pathKey,c=void 0===o?"id":o,f=e.systemRoleStore,d=f.domainPermissions,s=f.privilegeLoading,p=e.location.pathname,m=(0,u.getUser)().userId,v=(0,l.links)(t,c);return(0,a.useEffect)((function(){if(d){var t=d["".concat(m,"_").concat(i)];if(p===r)if(t&&t.length>0){var a=v.find((function(e){return t.includes(e.purviewCode)}));if(a)e.history.replace(a[c]);else{var u=v.find((function(e){return!e.purviewCode}));u&&e.history.replace(u[c])}}else{var l=v.find((function(e){return!e.purviewCode}));l&&e.history.replace(l[c])}else{var o=v.find((function(e){return e[c]===p}));if(o&&o.purviewCode&&!s&&!t.includes(o.purviewCode))return e.history.replace(n)}}}),[p,d]),e.children})))},429:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.PRIVILEGE_DOMAIN_ROLE_STORE=t.DomainRoleStore=void 0;var a,i,u,l,o,c,f,d,s,p,m,v,b,g=n(r(41)),y=n(r(178)),h=n(r(125)),O=n(r(101)),P=n(r(100)),E=(n(r(73)),n(r(126))),w=(n(r(127)),r(12)),R=r(9);t.DomainRoleStore=(a=(0,O.default)((function e(){(0,P.default)(this,e),(0,h.default)(this,"privilegeDomainRole",i,this),(0,h.default)(this,"domainRolePage",u,this),(0,h.default)(this,"deleteDomainRoleAction",l,this),(0,h.default)(this,"findDomainRoleListAction",o,this),(0,h.default)(this,"findDomainRolePageAction",c,this),(0,h.default)(this,"findDmRolePageByNumber",f,this),(0,h.default)(this,"setDomainRoleAction",d,this),(0,h.default)(this,"createDmRoleUserAction",s,this),(0,h.default)(this,"createBatchDmRoleUserAction",p,this),(0,h.default)(this,"updateDmRoleUserAction",m,this),(0,h.default)(this,"deleteDmRoleUserAction",v,this),(0,h.default)(this,"findDmRoleUserListAction",b,this)})),i=(0,E.default)(a.prototype,"privilegeDomainRole",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,E.default)(a.prototype,"domainRolePage",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{currentPage:1,totalPage:1,totalRecord:1}}}),l=(0,E.default)(a.prototype,"deleteDomainRoleAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){var r;return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,R.Axios.post("/dmRole/deleteDmRole",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=(0,E.default)(a.prototype,"findDomainRoleListAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){var r;return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRole/findDmRoleList",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),c=(0,E.default)(a.prototype,"findDomainRolePageAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(g.default.mark((function t(r){var n;return g.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.Axios.post("/dmRole/findDmRolePage",r);case 2:return 0===(n=t.sent).code&&(e.domainRolePage={currentPage:n.data.currentPage,totalPage:n.data.totalPage,totalRecord:n.data.totalRecord},e.privilegeDomainRole=n.data.dataList),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f=(0,E.default)(a.prototype,"findDmRolePageByNumber",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(g.default.mark((function t(r){var n;return g.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.Axios.post("/dmRole/findDmRolePageByNumber",r);case 2:return 0===(n=t.sent).code&&(e.domainRolePage={currentPage:n.data.currentPage,totalPage:n.data.totalPage,totalRecord:n.data.totalRecord},e.privilegeDomainRole=n.data.dataList),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d=(0,E.default)(a.prototype,"setDomainRoleAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRole/setdefaultRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,E.default)(a.prototype,"createDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/createDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,E.default)(a.prototype,"createBatchDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/createBatchDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),m=(0,E.default)(a.prototype,"updateDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/updateDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),v=(0,E.default)(a.prototype,"deleteDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){var r;return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,R.Axios.post("/dmRoleUser/deleteDmRoleUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),b=(0,E.default)(a.prototype,"findDmRoleUserListAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Axios.post("/dmRoleUser/findDmRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.PRIVILEGE_DOMAIN_ROLE_STORE="privilegeDomainRoleStore"},430:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectFeatureStore=t.PRIVILEGE_PROJECT_FEATURE_STORE=void 0;var a,i,u,l,o,c,f,d=n(r(244)),s=n(r(125)),p=n(r(101)),m=n(r(100)),v=n(r(73)),b=n(r(126)),g=(n(r(127)),r(12));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.ProjectFeatureStore=(a=(0,p.default)((function e(){(0,m.default)(this,e),(0,s.default)(this,"privilegeProjectTreeData",i,this),(0,s.default)(this,"getDmPrivilegeTree",u,this),(0,s.default)(this,"addDmFeature",l,this),(0,s.default)(this,"addDmChildrenFeature",o,this),(0,s.default)(this,"deleteDmFeature",c,this),(0,s.default)(this,"editDmFeature",f,this)})),i=(0,b.default)(a.prototype,"privilegeProjectTreeData",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,b.default)(a.prototype,"getDmPrivilegeTree",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData=t}}}),l=(0,b.default)(a.prototype,"addDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData.push(t)}}}),o=(0,b.default)(a.prototype,"addDmChildrenFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeProjectTreeData=e.privilegeProjectTreeData.map((function(e){return e.id===r?h(h({},e),{},{children:[t].concat((0,d.default)(e.children))}):e}))}}}),c=(0,b.default)(a.prototype,"deleteDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id!==t.id&&r.push(h(h({},e),{},{children:[]})),e.children&&e.children.length>0&&n(e.children,r[a].children)}))};n(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),f=(0,b.default)(a.prototype,"editDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id===t.id?r.push(h(h(h({},e),t),{},{children:[]})):r.push(h(h({},e),{},{children:[]})),e.children&&r[a].children&&n(e.children,r[a].children)}))};n(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),a),t.PRIVILEGE_PROJECT_FEATURE_STORE="privilegeProjectFeatureStore"},431:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRoleStore=t.SYSTEM_ROLE_STORE=void 0;var a,i,u,l,o,c,f,d,s,p,m,v,b,g,y,h,O,P,E,w,R,j,_,k,S,x,D,I,L,A,M,T,F,C,N=n(r(41)),U=n(r(178)),z=n(r(125)),V=n(r(101)),B=n(r(100)),G=(n(r(73)),n(r(126))),W=(n(r(127)),r(12)),K=r(9);t.SystemRoleStore=(a=(0,V.default)((function e(){(0,B.default)(this,e),(0,z.default)(this,"privilegeLoading",i,this),(0,z.default)(this,"privilegeSystemRole",u,this),(0,z.default)(this,"systemPermissions",l,this),(0,z.default)(this,"rolePage",o,this),(0,z.default)(this,"domainPermissions",c,this),(0,z.default)(this,"clearAllPermissions",f,this),(0,z.default)(this,"findAllList",d,this),(0,z.default)(this,"findRoleUserList",s,this),(0,z.default)(this,"findRoleUserPage",p,this),(0,z.default)(this,"deleteRoleUser",m,this),(0,z.default)(this,"createBatchRoleUser",v,this),(0,z.default)(this,"findRoleUserGroupList",b,this),(0,z.default)(this,"findRoleUserGroupPage",g,this),(0,z.default)(this,"deleteRoleUserGroup",y,this),(0,z.default)(this,"createBatchRoleUserGroup",h,this),(0,z.default)(this,"findRoleOrgaList",O,this),(0,z.default)(this,"findRoleOrgaPage",P,this),(0,z.default)(this,"deleteRoleOrga",E,this),(0,z.default)(this,"createBatchRoleOrga",w,this),(0,z.default)(this,"findOrgaTree",R,this),(0,z.default)(this,"findUserGroupList",j,this),(0,z.default)(this,"findDmUserPage",_,this),(0,z.default)(this,"findUserPage",k,this),(0,z.default)(this,"getInitProjectPermissions",S,this),(0,z.default)(this,"getSystemPermissions",x,this),(0,z.default)(this,"findRolePageAction",D,this),(0,z.default)(this,"findRolePageAndRoleUserNumber",I,this),(0,z.default)(this,"setDefaultRoleAction",L,this),(0,z.default)(this,"deleteRoleAction",A,this),(0,z.default)(this,"deleteRoleUserAction",M,this),(0,z.default)(this,"findRoleUserListAction",T,this),(0,z.default)(this,"createBatchRoleUserAction",F,this),(0,z.default)(this,"findRoleUserCount",C,this)})),i=(0,G.default)(a.prototype,"privilegeLoading",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=(0,G.default)(a.prototype,"privilegeSystemRole",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,G.default)(a.prototype,"systemPermissions",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=(0,G.default)(a.prototype,"rolePage",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{currentPage:1,totalPage:1,totalRecord:1}}}),c=(0,G.default)(a.prototype,"domainPermissions",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=(0,G.default)(a.prototype,"clearAllPermissions",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.systemPermissions=[],e.domainPermissions={}}}}),d=(0,G.default)(a.prototype,"findAllList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,U.default)(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/user/userdir/findAllList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),s=(0,G.default)(a.prototype,"findRoleUserList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("roleId",t),e.abrupt("return",K.Axios.post("/role/count/findRoleUserList",r));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,G.default)(a.prototype,"findRoleUserPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/roleUser/findRoleUserPage",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),m=(0,G.default)(a.prototype,"deleteRoleUser",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/roleUser/deleteRoleUser",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),v=(0,G.default)(a.prototype,"createBatchRoleUser",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/roleUser/createBatchRoleUser",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),b=(0,G.default)(a.prototype,"findRoleUserGroupList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/userGroup/findRoleUserGroupList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),g=(0,G.default)(a.prototype,"findRoleUserGroupPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/userGroup/findRoleUserGroupPage",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),y=(0,G.default)(a.prototype,"deleteRoleUserGroup",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/userGroup/deleteRoleUserGroup",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),h=(0,G.default)(a.prototype,"createBatchRoleUserGroup",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/userGroup/createBatchRoleUserGroup",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),O=(0,G.default)(a.prototype,"findRoleOrgaList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/orga/findRoleOrgaList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),P=(0,G.default)(a.prototype,"findRoleOrgaPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/orga/findRoleOrgaPage",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),E=(0,G.default)(a.prototype,"deleteRoleOrga",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/orga/deleteRoleOrga",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),w=(0,G.default)(a.prototype,"createBatchRoleOrga",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.Axios.post("/role/orga/createBatchRoleOrga",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),R=(0,G.default)(a.prototype,"findOrgaTree",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/user/orga/findOrgaTree",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),j=(0,G.default)(a.prototype,"findUserGroupList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/usergroup/findUserGroupList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),_=(0,G.default)(a.prototype,"findDmUserPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/dmUser/findDmUserPage",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),k=(0,G.default)(a.prototype,"findUserPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/user/user/findUserPage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),S=(0,G.default)(a.prototype,"getInitProjectPermissions",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.privilegeLoading=!0,t&&r){var a={userId:t,domainId:r,globalPublic:n},i={};return(0,K.getUser)()&&(0,K.getUser)().tenant&&(i={tenant:(0,K.getUser)().tenant}),K.Axios.post("/permission/findDomainPermissions",a,i).then((function(n){return n.code||(e.domainPermissions["".concat(t,"_").concat(r)]=n.data),e.privilegeLoading=!1,n}))}}}}),x=(0,G.default)(a.prototype,"getSystemPermissions",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeLoading=!0;var r=new FormData;r.append("userId",t);var n={};return(0,K.getUser)()&&(0,K.getUser)().tenant&&(n={tenant:(0,K.getUser)().tenant}),K.Axios.post("/permission/findPermissions",r,n).then((function(t){return t.code||(e.systemPermissions=t.data),e.privilegeLoading=!1,t}))}}}),D=(0,G.default)(a.prototype,"findRolePageAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,U.default)(N.default.mark((function t(r,n){var a;return N.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.Axios.post("/role/findRolePage",r,n);case 2:return 0===(a=t.sent).code&&(e.rolePage={currentPage:a.data.currentPage,totalPage:a.data.totalPage,totalRecord:a.data.totalRecord},e.privilegeSystemRole=a.data.dataList),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),I=(0,G.default)(a.prototype,"findRolePageAndRoleUserNumber",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,U.default)(N.default.mark((function t(r,n){var a;return N.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.Axios.post("/role/findRolePageAndRoleUserNumber",r,n);case 2:return 0===(a=t.sent).code&&(e.rolePage={currentPage:a.data.currentPage,totalPage:a.data.totalPage,totalRecord:a.data.totalRecord},e.privilegeSystemRole=a.data.dataList),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),L=(0,G.default)(a.prototype,"setDefaultRoleAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/role/setdefaultRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),A=(0,G.default)(a.prototype,"deleteRoleAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,K.Axios.post("/role/deleteRole",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),M=(0,G.default)(a.prototype,"deleteRoleUserAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,K.Axios.post("/roleUser/deleteRoleUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),T=(0,G.default)(a.prototype,"findRoleUserListAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/roleUser/findRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),F=(0,G.default)(a.prototype,"createBatchRoleUserAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Axios.post("/roleUser/createBatchRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),C=(0,G.default)(a.prototype,"findRoleUserCount",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("roleId",t),e.next=4,K.Axios.post("/role/count/findRoleUserCount",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.SYSTEM_ROLE_STORE="systemRoleStore"},432:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectVirtualRoleStore=t.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE=void 0;var a,i,u,l,o,c=n(r(41)),f=n(r(178)),d=n(r(125)),s=n(r(101)),p=n(r(100)),m=(n(r(73)),n(r(126))),v=(n(r(127)),r(12)),b=r(9);t.ProjectVirtualRoleStore=(a=(0,s.default)((function e(){(0,p.default)(this,e),(0,d.default)(this,"createVRole",i,this),(0,d.default)(this,"updateVRole",u,this),(0,d.default)(this,"deleteVRole",l,this),(0,d.default)(this,"findVRolePage",o,this)})),i=(0,m.default)(a.prototype,"createVRole",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,f.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Axios.post("/vRole/createVRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),u=(0,m.default)(a.prototype,"updateVRole",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,f.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Axios.post("/vRole/updateVRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),l=(0,m.default)(a.prototype,"deleteVRole",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,f.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,b.Axios.post("/vRole/deleteVRole",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=(0,m.default)(a.prototype,"findVRolePage",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,f.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Axios.post("/vRole/findVRolePage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE="projectVirtualRoleStore"},433:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectRoleStore=t.PRIVILEGE_PROJECT_ROLE_STORE=void 0;var a,i,u,l=n(r(125)),o=n(r(101)),c=n(r(100)),f=(n(r(73)),n(r(126))),d=(n(r(127)),r(12));t.ProjectRoleStore=(a=(0,o.default)((function e(){(0,c.default)(this,e),(0,l.default)(this,"privilegeProjectRole",i,this),(0,l.default)(this,"getProjectRoles",u,this)})),i=(0,f.default)(a.prototype,"privilegeProjectRole",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,f.default)(a.prototype,"getProjectRoles",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectRole=t}}}),a),t.PRIVILEGE_PROJECT_ROLE_STORE="privilegeProjectRoleStore"},434:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.SystemFeatureStore=t.PRIVILEGE_SYSTEM_STORE=void 0;var a,i,u,l,o,c,f,d,s,p=n(r(41)),m=n(r(178)),v=n(r(244)),b=n(r(125)),g=n(r(101)),y=n(r(100)),h=n(r(73)),O=n(r(126)),P=(n(r(127)),r(12)),E=r(9),w=r(246);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.SystemFeatureStore=(a=(0,g.default)((function e(){(0,y.default)(this,e),(0,b.default)(this,"privilegeSystemTreeData",i,this),(0,b.default)(this,"addFeature",u,this),(0,b.default)(this,"addChildrenFeature",l,this),(0,b.default)(this,"deleteFeature",o,this),(0,b.default)(this,"editFeature",c,this),(0,b.default)(this,"getFunctionListListAction",f,this),(0,b.default)(this,"updateFunctionSortAction",d,this),(0,b.default)(this,"deleteFunctionAction",s,this)})),i=(0,O.default)(a.prototype,"privilegeSystemTreeData",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,O.default)(a.prototype,"addFeature",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData.push(t)}}}),l=(0,O.default)(a.prototype,"addChildrenFeature",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeSystemTreeData=e.privilegeSystemTreeData.map((function(e){return e.id===r?j(j({},e),{},{children:[t].concat((0,v.default)(e.children))}):e}))}}}),o=(0,O.default)(a.prototype,"deleteFeature",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id!==t.id&&r.push(j(j({},e),{},{children:[]})),e.children&&e.children.length>0&&n(e.children,r[a].children)}))};n(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),c=(0,O.default)(a.prototype,"editFeature",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id===t.id?r.push(j(j(j({},e),t),{},{children:[]})):r.push(j(j({},e),{},{children:[]})),e.children&&r[a].children&&n(e.children,r[a].children)}))};n(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),f=(0,O.default)(a.prototype,"getFunctionListListAction",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,m.default)(p.default.mark((function t(r){var n,a;return p.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.Axios.post("/function/findFunctionList",r);case 2:return(n=t.sent).code||(a=(0,w.handlerFeaterNode)(n.data),e.privilegeSystemTreeData=a),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d=(0,O.default)(a.prototype,"updateFunctionSortAction",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Axios.post("/function/updateFunctionSort",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,O.default)(a.prototype,"deleteFunctionAction",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var r;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,E.Axios.post("/function/deleteFunction",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.PRIVILEGE_SYSTEM_STORE="privilegeSystemStore"},435:function(e,t,r){},436:function(e,t,r){},437:function(e,t,r){},647:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseModal",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BreadCrumb",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Btn",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ListAction",{enumerable:!0,get:function(){return c.ListAction}}),Object.defineProperty(t,"ListEmpty",{enumerable:!0,get:function(){return c.ListEmpty}}),Object.defineProperty(t,"ListIcon",{enumerable:!0,get:function(){return c.ListIcon}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Profile",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"SearchInput",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"SearchSelect",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"VersionInfo",{enumerable:!0,get:function(){return s.default}});var a=n(r(955)),i=n(r(1167)),u=n(r(1169)),l=n(r(1171)),o=n(r(1054)),c=r(1173),f=n(r(1179)),d=n(r(1180)),s=n(r(1181))},777:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DomainRole",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"NoAccess",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"PrivilegeButton",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"PrivilegeProjectButton",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ProjectFeature",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ProjectNav",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ProjectRole",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ProjectVirtualRole",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SystemFeature",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"SystemNav",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"SystemRole",{enumerable:!0,get:function(){return f.default}});var a=n(r(1053)),i=n(r(288)),u=n(r(278)),l=n(r(1059)),o=n(r(1064)),c=n(r(1067)),f=n(r(959)),d=n(r(1070)),s=n(r(289)),p=n(r(290)),m=n(r(1002))},955:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(265);var a=n(r(175)),i=n(r(630)),u=n(r(266)),l=n(r(0)),o=n(r(1054));r(1166);var c=["children"];t.default=function(e){var t=e.children,r=(0,u.default)(e,c),n=l.default.createElement(l.default.Fragment,null,l.default.createElement(o.default,{onClick:r.onCancel,title:"取消",isMar:!0}),l.default.createElement(o.default,{onClick:r.onOk,title:r.okText||"确定",type:"primary"}));return l.default.createElement(a.default,(0,i.default)({style:{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 120px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:60,right:0,left:0,height:"100%",display:"flex",flexDirection:"column"},wrapClassName:"tiklab_privilege_modal",closable:!1,footer:n},r),t)}},956:function(e,t,r){"use strict";r.r(t)},957:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(293)),u=n(r(384)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),o=n(r(955)),c=r(9);r(1186);var f=n(r(1187));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.default=function(e){var t=e.bgroup,r=e.visible,n=e.setVisible,a=[{id:"role",title:"权限",icon:f.default}],d=(0,l.useState)(a?a[0]:{}),s=(0,u.default)(d,2),p=s[0],m=s[1];return l.default.createElement(o.default,{width:700,visible:r,className:"privilege-role-enhance-modal",onCancel:function(){return n(!1)},closable:!0,footer:null},l.default.createElement("div",{className:"enhance-free"},l.default.createElement("div",{className:"enhance-free-introduce"},l.default.createElement("div",{className:"enhance-title"},"权限"),l.default.createElement("div",{className:"enhance-title-desc"},"付费版本专属功能"),l.default.createElement("div",{className:"enhance-desc"},"添加角色"),l.default.createElement("div",{className:"enhance-desc-box"},a.map((function(e){return l.default.createElement("div",{className:"enhance-desc-item ".concat(e.id===(null==p?void 0:p.id)?"enhance-desc-active-item":""),onClick:function(){return m(e)},onMouseEnter:function(){return m(e)},key:e.id},l.default.createElement("div",null,l.default.createElement(i.default,null)),l.default.createElement("div",null,e.title))}))),l.default.createElement("div",{className:"enhance-desc-guid",onClick:function(){return window.open("https://tiklab.net/contactus")}},"咨询购买"),l.default.createElement("div",{className:"enhance-desc-buy",onClick:function(){return(0,c.applySubscription)(t)}},"立即购买")),l.default.createElement("div",{className:"enhance-free-image"},l.default.createElement("img",{src:null==p?void 0:p.icon,alt:"",width:"100%"}))))}},958:function(e,t,r){"use strict";var n=r(53),a=r(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(172);var i=n(r(71));r(170);var u=n(r(56)),l=n(r(73));r(262);var o=n(r(72)),c=n(r(384)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),d=n(r(955)),s=r(385),p=r(9);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.visible,r=e.setVisible,n=e.editData,a=e.setEditData,l=e.roleType,m=e.findRole,v=o.default.useForm(),g=(0,c.default)(v,1)[0],y=(0,s.useTranslation)().t;(0,f.useEffect)((function(){t&&g.setFieldsValue("domain"===l?null==n?void 0:n.role:n)}),[t]);var h=function(){g.resetFields(),r(!1),a(null)};return f.default.createElement(d.default,{visible:t,title:"编辑角色",onCancel:h,onOk:function(){g.validateFields().then((function(e){"domain"===l?p.Axios.post("/dmRole/updateDmRole",b(b({},n),{},{role:b(b({},n.role),e)})).then((function(e){0===e.code&&(0===e.code?(u.default.success("修改成功"),h(),m()):u.default.error(e.msg))})):p.Axios.post("/role/updateRole",b({id:n.id},e)).then((function(e){0===e.code?(u.default.success("修改成功"),h(),m()):u.default.error(e.msg)}))}))}},f.default.createElement(o.default,{form:g,layout:"vertical"},f.default.createElement(o.default.Item,{label:y("privilege-role.roleName"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},f.default.createElement(i.default,{placeholder:y("privilege-role.roleName")})),f.default.createElement(o.default.Item,{label:y("privilege-desc"),name:"desc"},f.default.createElement(i.default,{placeholder:y("privilege-desc")}))))}},959:function(e,t,r){"use strict";var n=r(53);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1192));t.default=a.default}}]);