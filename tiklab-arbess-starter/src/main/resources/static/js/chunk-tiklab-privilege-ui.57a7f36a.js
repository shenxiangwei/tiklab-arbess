(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1038:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1151));t.default=a.default},1039:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(402);var a=n(r(278)),i=n(r(678)),u=n(r(285)),l=n(r(0)),o=n(r(1040));r(1154);var c=["children"];t.default=function(e){var t=e.children,r=(0,u.default)(e,c),n=l.default.createElement(l.default.Fragment,null,l.default.createElement(o.default,{onClick:r.onCancel,title:"取消",isMar:!0}),l.default.createElement(o.default,{onClick:r.onOk,title:r.okText||"确定",type:"primary"}));return l.default.createElement(a.default,(0,i.default)({style:{maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 120px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:60,right:0,left:0,height:"100%",display:"flex",flexDirection:"column"},wrapClassName:"tiklab_privilege_modal",closable:!1,footer:n},r),t)}},1040:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(275);var a=n(r(177)),i=n(r(0));r(1153);t.default=function(e){var t=e.icon,r=e.type,n=e.title,u=e.onClick,l=e.isMar,o=e.children;return i.default.createElement("div",{className:"privilege-btn ".concat(r?"privilege-btn-".concat(r):""," ").concat(l?"privilege-btn-mar":""),onClick:u},i.default.createElement(a.default,null,t&&i.default.createElement("span",{className:"privilege-btn-icon"},t),o||n))}},1041:function(e,t,r){"use strict";r.r(t)},1042:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(179);var i=n(r(102));r(289);var u=n(r(119));r(605);var l=n(r(602));r(155);var o=n(r(44)),c=n(r(404)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),f=r(9);r(946);var s=r(39);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}t.default=(0,s.inject)("systemRoleStore")((0,s.observer)((function(e){var t=e.roleDetail,r=e.type,n=e.domainId,a=e.systemRoleStore,s=a.systemPermissions,p=a.domainPermissions,m=(0,f.getUser)().userId,v=(0,d.useState)([]),b=(0,c.default)(v,2),g=b[0],y=b[1],h=(0,d.useState)(!1),P=(0,c.default)(h,2),O=P[0],E=P[1];(0,d.useEffect)((function(){null!=t&&t.id&&w()}),[null==t?void 0:t.id]);var w=function(){E(!0),"domain"===r?f.Axios.post("/functionGroup/findDomainFunctionList",{roleId:t.role.id}).then((function(e){0===e.code&&y(e.data)})).finally((function(){E(!1)})):f.Axios.post("/functionGroup/findSystemFunctionList",{roleId:t.id}).then((function(e){0===e.code&&y(e.data)})).finally((function(){E(!1)}))},_=function(){return 2===(null==t?void 0:t.businessType)||("domain"===r?!(p["".concat(m,"_").concat(n)]&&p["".concat(m,"_").concat(n)].includes("domain_role_permission_update")):!(null!=s&&s.includes("permission_role_permission_update")))};return d.default.createElement(i.default,{spinning:O},d.default.createElement("div",{className:"tiklab_role_promisse"},null==g?void 0:g.map((function(e){var n;return d.default.createElement("div",{key:e.id,className:"role_promisse_list"},d.default.createElement("div",{className:"role_promisse_list_name"},e.name),d.default.createElement("div",null,null==e||null===(n=e.functionList)||void 0===n?void 0:n.map((function(e){var n;return d.default.createElement("div",{key:e.id,className:"role_promisse_list_module"},d.default.createElement("div",{className:"role_promisse_list_module_top"},d.default.createElement("div",{className:"role_promisse_list_module_name"},e.name),d.default.createElement(l.default,{checked:1!==e.allSelected,disabled:_(),onChange:function(n){return function(e,n){var a=(n.functionList||[]).map((function(e){return e.id}));f.Axios.post("/roleFunction/realTimeUpdateRoleFunction",{role:{id:"domain"===r?t.role.id:t.id},type:e?1:2,functionList:[n.id].concat(a)}).then((function(e){0===e.code?(o.default.success("修改成功"),w()):o.default.error(e.msg)}))}(n,e)}})),d.default.createElement("div",{className:"role_promisse_list_func"},null==e||null===(n=e.functionList)||void 0===n?void 0:n.map((function(e){return d.default.createElement("div",{key:e.id},d.default.createElement(u.default,{onChange:function(n){return function(e,n){f.Axios.post("/roleFunction/realTimeUpdateRoleFunction",{role:{id:"domain"===r?t.role.id:t.id},type:e.target.checked?1:2,functionList:[n.id]}).then((function(e){0===e.code?(o.default.success("修改成功"),w()):o.default.error(e.msg)}))}(n,e)},checked:e.selected,disabled:_()},e.name))}))))}))))}))))})))},1043:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(42));r(400);var u=n(r(276));r(275);var l=n(r(177));r(155);var o=n(r(44)),c=n(r(185)),d=n(r(74)),f=n(r(404)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),p=r(39),m=r(720),v=r(291),b=r(292),g=n(r(1172)),y=n(r(1173)),h=n(r(1174)),P=n(r(181)),O=n(r(180));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(946);t.default=(0,p.inject)(b.SYSTEM_ROLE_STORE,b.PRIVILEGE_DOMAIN_ROLE_STORE)((0,p.observer)((function(e){var t=e.domainId,r=e.roleType,n=e.roleDetail,a=e.systemRoleStore,d=e.findRole,p=e.privilegeDomainRoleStore,b=a.findRoleUserPage,E=a.findRoleOrgaPage,w=a.findRoleUserGroupPage,R=a.findRoleUserList,j=a.findRoleOrgaList,S=a.findRoleUserGroupList,k=a.createBatchRoleUser,x=a.createBatchRoleUserGroup,D=a.createBatchRoleOrga,I=a.deleteRoleOrga,L=a.deleteRoleUserGroup,T=a.deleteRoleUser,M=a.findRoleUserCount,A=p.findDmRoleUserListAction,F=p.createBatchDmRoleUserAction,C=p.deleteDmRoleUserAction,N={pageSize:10,currentPage:1},U=(0,s.useState)(!1),z=(0,f.default)(U,2),V=z[0],B=z[1],G=(0,s.useState)("user"),W=(0,f.default)(G,2),J=W[0],K=W[1],Y=(0,s.useState)({pageParam:N}),q=(0,f.default)(Y,2),H=q[0],Q=q[1],X=(0,s.useState)({}),Z=(0,f.default)(X,2),$=Z[0],ee=Z[1],te=(0,s.useState)({}),re=(0,f.default)(te,2),ne=re[0],ae=re[1],ie=(0,s.useState)(null),ue=(0,f.default)(ie,2),le=ue[0],oe=ue[1],ce=(0,s.useState)([]),de=(0,f.default)(ce,2),fe=de[0],se=de[1],pe=(0,s.useState)([]),me=(0,f.default)(pe,2),ve=me[0],be=me[1],ge=(0,s.useState)([]),ye=(0,f.default)(ge,2),he=ye[0],Pe=ye[1],Oe=(0,s.useState)({}),Ee=(0,f.default)(Oe,2),we=Ee[0],_e=Ee[1];(0,s.useEffect)((function(){if("user"===le){if("domain"===r){var e=ne.dataList;return se(e.map((function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.id}))),void be(e.map((function(e){var t;return null==e||null===(t=e.user)||void 0===t?void 0:t.id})))}R(n.id).then((function(e){0===e.code&&(se(e.data.map((function(e){return null==e?void 0:e.id}))),be(e.data.map((function(e){return null==e?void 0:e.id}))))}))}"group"===le&&S({roleId:n.id}).then((function(e){0===e.code&&(se(e.data.map((function(e){var t;return null==e||null===(t=e.userGroup)||void 0===t?void 0:t.id}))),be(e.data.map((function(e){var t;return null==e||null===(t=e.userGroup)||void 0===t?void 0:t.id}))))})),"orga"===le&&j({roleId:n.id}).then((function(e){0===e.code&&(se(e.data.map((function(e){var t;return null==e||null===(t=e.orga)||void 0===t?void 0:t.orgaId}))),be(e.data.map((function(e){var t;return null==e||null===(t=e.orga)||void 0===t?void 0:t.orgaId}))))}))}),[le]),(0,s.useEffect)((function(){Re()}),[]);var Re=function(){"system"===r&&M(n.id).then((function(e){0===e.code&&_e(e.data)}))};(0,s.useEffect)((function(){je()}),[J,H]);var je=function(){if(B(!0),"domain"===r)return Se();switch(J){case"all":return ke();case"user":return xe();case"orga":return De();default:return Ie()}},Se=function(){A({dmRoleId:n.id}).then((function(e){if(0===e.code){var t=e.data;ee(t),ae({dataList:t.slice(0,10),totalPage:Math.ceil(t.length/10),totalRecord:t.length||0,currentPage:1})}B(!1)}))},ke=function(){R(n.id).then((function(e){if(0===e.code){var t=e.data;ee(t),ae({dataList:t.slice(0,10),totalPage:Math.ceil(t.length/10),totalRecord:t.length||0,currentPage:1})}B(!1)}))},xe=function(){b(_(_({},H),{},{roleId:n.id})).then((function(e){0===e.code&&ae(e.data),B(!1)}))},De=function(){E(_(_({},H),{},{roleId:n.id})).then((function(e){0===e.code&&ae(e.data),B(!1)}))},Ie=function(){w(_(_({},H),{},{roleId:n.id})).then((function(e){0===e.code&&ae(e.data),B(!1)}))},Le=function(e){K(e),Q({pageParam:N}),ae({})},Te=function(){var e=(0,c.default)(i.default.mark((function e(t){var n,a,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("domain"!==r){e.next=3;break}return C(t).then((function(e){0===e.code?(Se(),d(),o.default.info("删除成功")):o.default.error(a.msg)})),e.abrupt("return");case 3:if((n=new FormData).append("id",t),"user"!==J){e.next=11;break}return e.next=8,T(n);case 8:a=e.sent,e.next=20;break;case 11:if("orga"!==J){e.next=17;break}return e.next=14,I(n);case 14:a=e.sent,e.next=20;break;case 17:return e.next=19,L(n);case 19:a=e.sent;case 20:0===a.code?(u=(0,v.deleteSuccessReturnCurrenPage)(ne.totalRecord,10,H.pageParam.currentPage),Me(u),d(),Re(),o.default.info("删除成功")):o.default.error(a.msg);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){if("domain"===r||"all"===J)return a=(n=10*((t=e)-1))+10,void ae(_(_({},ne),{},{currentPage:t,dataList:null==$?void 0:$.slice(n,a)}));var t,n,a;Q({pageParam:{pageSize:10,currentPage:e}})},Ae=function(){var e=(0,c.default)(i.default.mark((function e(){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("user"!==le){e.next=12;break}if("domain"!==r){e.next=7;break}return e.next=4,F({dmRole:{id:n.id},domainId:t,userIds:fe});case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,k({role:{id:n.id},userList:fe});case 9:a=e.sent;case 10:e.next=21;break;case 12:if("orga"!==le){e.next=18;break}return e.next=15,D({role:{id:n.id},orgaIdList:fe});case 15:a=e.sent,e.next=21;break;case 18:return e.next=20,x({role:{id:n.id},userGroupIdList:fe});case 20:a=e.sent;case 21:0===a.code?(je(),d(),Re(),o.default.info("添加成功")):o.default.error(a.msg),Fe();case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){se([]),be([]),oe(null)},Ce=[{title:"姓名",dataIndex:["user","nickname"],key:["user","nickname"],width:"18%",ellipsis:!0,render:function(e,t){return s.default.createElement(l.default,null,s.default.createElement(m.Profile,{userInfo:null==t?void 0:t.user}),e||"--")}},{title:"用户名",dataIndex:["user","name"],key:["user","name"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"手机号",dataIndex:["user","phone"],key:["user","phone"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:["user","email"],key:["user","email"],width:"18%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:["user","dirId"],key:["user","dirId"],width:"18%",ellipsis:!0,render:function(e){var t=he.find((function(t){return t.id===e}));return t?t.name:"--"}},{title:"操作",dataIndex:"action",key:"action",width:"10%",render:function(e,a){return 2!==(null==n?void 0:n.businessType)&&s.default.createElement(s.default.Fragment,null,"system"===r?s.default.createElement(P.default,{code:"permission_role_user_delete"},s.default.createElement(m.ListAction,{del:function(){return Te(a.id)}})):s.default.createElement(O.default,{code:"domain_role_user_delete",domainId:t},s.default.createElement(m.ListAction,{del:function(){return Te(a.id)}})))}}],Ne={all:[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"20%",ellipsis:!0,render:function(e,t){return s.default.createElement(l.default,null,s.default.createElement(m.Profile,{userInfo:t}),e||"--")}},{title:"用户名",dataIndex:"name",key:"name",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"手机号",dataIndex:"phone",key:"phone",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:"email",key:"email",width:"20%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:"dirId",key:"dirId",width:"20%",ellipsis:!0,render:function(e){var t=he.find((function(t){return t.id===e}));return t?t.name:"--"}}],user:Ce,orga:[{title:"名称",dataIndex:["orga","orgaName"],key:["orga","orgaName"],width:"80%",ellipsis:!0},{title:"操作",dataIndex:"action",key:"action",width:"20%",render:function(e,t){return s.default.createElement(P.default,{code:"permission_role_user_delete"},s.default.createElement(m.ListAction,{del:function(){return Te(t.id)}}))}}],group:[{title:"名称",dataIndex:["userGroup","name"],key:["userGroup","name"],width:"60%",ellipsis:!0},{title:"创建方式",dataIndex:["userGroup","group"],key:["userGroup","group"],width:"30%",ellipsis:!0,render:function(e){return"system"===e?"内置":"自定义"}},{title:"操作",dataIndex:"action",key:"action",width:"20%",render:function(e,t){return s.default.createElement(P.default,{code:"permission_role_user_delete"},s.default.createElement(m.ListAction,{del:function(){return Te(t.id)}}))}}]};return s.default.createElement("div",{className:"tiklab_promisse"},"system"===r?s.default.createElement("div",{className:"tiklab_promisse_up"},s.default.createElement("div",{className:"tiklab_promisse_tab"},s.default.createElement("div",{className:"".concat("user"===J?"tiklab_promisse_tab_active":""),onClick:function(){return Le("user")}},"用户(",(null==we?void 0:we.userNumber)||0,")"),s.default.createElement("div",{className:"".concat("group"===J?"tiklab_promisse_tab_active":""),onClick:function(){return Le("group")}},"用户组(",(null==we?void 0:we.userGroupNumber)||0,")")),s.default.createElement(P.default,{code:"permission_role_user_add"},s.default.createElement(m.Btn,{onClick:function(){return oe(J)}},"user"===J?"添加用户":"添加用户组"))):s.default.createElement("div",{className:"tiklab_promisse_up"},s.default.createElement("div",null,"用户(",(null==ne?void 0:ne.totalRecord)||0,")"),s.default.createElement(O.default,{code:"domain_role_user_add",domainId:t},s.default.createElement(m.Btn,{onClick:function(){return oe("user")}},"添加成员"))),s.default.createElement("div",{className:"tiklab_promisse_person"},s.default.createElement(u.default,{loading:V,columns:"domain"===r?Ce:Ne[J],dataSource:(null==ne?void 0:ne.dataList)||[],rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:s.default.createElement(m.ListEmpty,null)}}),s.default.createElement(m.Page,{currentPage:null==ne?void 0:ne.currentPage,changPage:Me,page:ne})),s.default.createElement(g.default,{setDirs:Pe,domainId:t,visible:"user"===le,roleType:r,allSelectIds:ve,selectedRowKeys:fe,setSelectedRowKeys:se,handleOk:Ae,handleCancel:Fe}),s.default.createElement(y.default,{visible:"orga"===le,allSelectIds:ve,selectedRowKeys:fe,setSelectedRowKeys:se,handleOk:Ae,handleCancel:Fe}),s.default.createElement(h.default,{visible:"group"===le,allSelectIds:ve,selectedRowKeys:fe,setSelectedRowKeys:se,handleOk:Ae,handleCancel:Fe}))})))},1044:function(e,t,r){"use strict";r.r(t)},1045:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1175));t.default=a.default},1046:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(615);var i=n(r(612));r(178);var u=n(r(72));r(277);var l=n(r(73)),o=n(r(404)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),d=r(403),f=r(9),s=r(720);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}t.default=function(e){var t=e.visible,r=e.cancelAdd,n=e.editData,a=void 0===n?{}:n,p=e.parentId,m=void 0===p?"":p,v=e.urlType,b=void 0===v?"system":v,g=e.data,y=void 0===g?[]:g,h=l.default.useForm(),P=(0,o.default)(h,1)[0],O=(0,d.useTranslation)().t,E=(0,c.useState)([]),w=(0,o.default)(E,2),_=(w[0],w[1]);(0,c.useEffect)((function(){t&&S()}),[t]),(0,c.useEffect)((function(){"{}"!==JSON.stringify(a)&&(P.setFieldsValue({code:a.code}),P.setFieldsValue({name:a.name}),P.setFieldsValue({parent:a.parentFunction?a.parentFunction.id:a.parentFunction})),m&&P.setFieldsValue({parent:m})}),[a,m]);var R,j,S=function(){var e=new FormData;e.append("type","system"===b?"1":"2"),f.Axios.post("/function/findFunctionListByParentId",e).then((function(e){e.code||_(e.data)}))},k=function(){P.resetFields(),r()};return c.default.createElement(s.BaseModal,{title:"{}"!==JSON.stringify(a)?O("privilege-edit-feature"):O("privilege-add-feature"),visible:t,onOk:function(){P.submit()},onCancel:k,forceRender:!0},c.default.createElement(l.default,{form:P,onFinish:function(e){if("{}"===JSON.stringify(a)){var t={name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===b?"1":"2"};f.Axios.post("/function/createFunction",t).then((function(e){e.code||k()}))}else{var r={id:a.id,name:e.name,code:e.code,parentFunction:{id:e.parent},type:"system"===b?"1":"2"};f.Axios.post("/function/updateFunction",r).then((function(e){e.code||k()}))}},preserve:!1,layout:"vertical"},c.default.createElement(l.default.Item,{label:O("privilege-feature-name"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(u.default,{placeholder:O("privilege-feature-name")})),c.default.createElement(l.default.Item,{label:O("privilege-feature-code"),name:"code",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},c.default.createElement(u.default,{placeholder:O("privilege-feature-code")})),c.default.createElement(l.default.Item,{label:O("privilege-point-node"),name:"parent"},c.default.createElement(i.default,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(R=[],j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var n={title:e.name,value:e.id,disabled:r};if(e.id===a.id&&(n.disabled=!0),t.push(n),e.children&&e.children.length>0)return j(e.children,n.children=[],n.disabled)}))},j(y,R),R),placeholder:O("privilege-point-node-placeholder"),disabled:m||a.children&&a.children.length>0}))))}},1047:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(678)),u=n(r(404)),l=n(r(74)),o=n(r(285)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),d=r(916),f=["record","data","index","moveRow","className","style"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="DraggableFeatureBodyRow";t.default=function(e){var t=e.record,r=(e.data,e.index),n=e.moveRow,a=e.className,l=e.style,s=(0,o.default)(e,f);if(!t)return null;var p=m(m({},t),{},{index:r}),b=(0,c.useRef)(null),g=(0,d.useDrop)({accept:v,collect:function(e){var t=e.getItem()||{},n=t.index;t.sort;return n===r?{}:{isOver:e.isOver(),dropClassName:n<r?" drop-over-downward":" drop-over-upward"}},drop:function(e){var r={dragId:e.id,drag:e,dropId:t.id,drop:m({},t)};n(r)}}),y=(0,u.default)(g,2),h=y[0],P=h.isOver,O=h.dropClassName,E=y[1],w=(0,d.useDrag)({type:v,item:p,collect:function(e){return{isDragging:e.isDragging()}}});return E((0,(0,u.default)(w,2)[1])(b)),c.default.createElement("tr",(0,i.default)({ref:b,className:"".concat(a).concat(P?O:""),style:m({cursor:"move"},l)},s))}},1048:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.sortNum=t.sort=t.handelPeerFunction=void 0;var a=n(r(74));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.handelPeerFunction=function(e,t,r,n,a){var i=e.map((function(e){return e.id===t?u(u({},e),{},{sort:a}):e.id===r?u(u({},e),{},{sort:n}):e}));return l(i)};var l=t.sort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.sort-t.sort}))};t.sortNum=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e-t}))}},1049:function(e,t,r){"use strict";r.r(t)},1050:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1176));t.default=a.default},1051:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(678));r(610);var i=n(r(609)),u=n(r(0)),l=r(720),o=n(r(1042)),c=n(r(1043));r(946);var d=i.default.TabPane;t.default=function(e){var t=e.roleType,r=e.isBase,n=e.roleDetailParams,f=e.setDetail,s=e.findRole;return u.default.createElement("div",{className:"tiklab_system_role_detail"},u.default.createElement(l.BreadCrumb,{firstItem:"权限",secondItem:null==n?void 0:n.name,onClick:function(){return f(null)}}),u.default.createElement("div",{className:"tiklab_system_role_box_content_details"},u.default.createElement(i.default,{defaultActiveKey:"people"},u.default.createElement(d,{tab:"成员",key:"people"},u.default.createElement(c.default,(0,a.default)({},e,{roleType:t,roleDetail:n,findRole:s}))),u.default.createElement(d,{tab:"权限",key:"promise"},u.default.createElement(o.default,{type:t,isBase:r,roleDetail:n})))))}},1052:function(e,t,r){"use strict";r.r(t)},1053:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1177));t.default=a.default},1054:function(e,t,r){"use strict";r.r(t)},1055:function(e,t,r){"use strict";r.r(t)},1056:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1180));t.default=a.default},1057:function(e,t,r){"use strict";r.r(t)},1076:function(e,t,r){"use strict";r(1055)},1144:function(e,t,r){},1145:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(187);var a=n(r(105)),i=n(r(0));t.default=function(e){var t=e.homePath,r=i.default.createElement("div",{style:{paddingTop:20}},"没有访问权限，",i.default.createElement("span",{style:{color:"var(--tiklab-blue)",cursor:"pointer"},onClick:function(){return e.history.push(t||"/")}},"点击这里 "),"返回");return i.default.createElement(a.default,{status:"info",title:"没有访问权限",subTitle:r})}},1151:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(42));r(593);var u=n(r(595));r(594);var l=n(r(596));r(400);var o=n(r(276));r(275);var c=n(r(177));r(157);var d=n(r(48)),f=n(r(293));r(405);var s=n(r(287)),p=n(r(185)),m=n(r(74)),v=n(r(404)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),g=r(39),y=r(403),h=n(r(1152)),P=r(720);r(1044);var O=r(9),E=n(r(947)),w=n(r(896)),_=r(680);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,m.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,g.inject)("privilegeDomainRoleStore")((0,g.observer)((function(e){var t=(0,y.useTranslation)().t,r=e.privilegeDomainRoleStore,n=e.domainId,a=e.refresh,m=void 0!==a&&a,g=e.bgroup,R=e.roleButton,j=r.privilegeDomainRole,k=r.deleteDomainRoleAction,x=r.setDomainRoleAction,D=r.findDmRolePageByNumber,I=r.domainRolePage,L=(0,b.useState)(!1),T=(0,v.default)(L,2),M=T[0],A=T[1],F=(0,b.useState)({pageSize:12,currentPage:1}),C=(0,v.default)(F,1)[0],N=(0,b.useState)({pageParam:C}),U=(0,v.default)(N,2),z=U[0],V=U[1],B=(0,b.useState)(null),G=(0,v.default)(B,2),W=G[0],J=G[1],K=(0,b.useState)(!1),Y=(0,v.default)(K,2),q=Y[0],H=Y[1],Q=(0,b.useState)(null),X=(0,v.default)(Q,2),Z=X[0],$=X[1];(0,b.useEffect)((function(){ee()}),[z,m]);var ee=function(){D(S(S({},z),{},{domainId:n}))},te=function(){var e=(0,p.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:e.sent.code||ee();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,p.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:0===e.sent.code&&ee();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=[{title:"角色名称",dataIndex:["role","name"],width:"35%",ellipsis:!0,render:function(e,t){var r=t.role.defaultRole;return b.default.createElement("div",{className:"tiklab_domain_role_name",onClick:function(){J(t)}},b.default.createElement(P.ListIcon,{text:e}),b.default.createElement("span",{className:"name-text"},e),1===r&&b.default.createElement(s.default,null,"默认"))}},{title:"成员数",dataIndex:"dmRoleUserNumber",width:"25%",ellipsis:!0},{title:"创建方式",dataIndex:["role","group"],width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":t("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var r=t.role,a=t.id;return b.default.createElement(c.default,{size:"middle"},0===(null==r?void 0:r.defaultRole)&&b.default.createElement(_.PrivilegeProjectButton,{domainId:n,code:"domain_role_update_default"},b.default.createElement(d.default,{title:"设置默认"},b.default.createElement(f.default,{onClick:function(){return te(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),b.default.createElement(P.ListAction,{del:"system"!==(null==r?void 0:r.group)?function(){return re(a)}:void 0,edit:2!==(null==r?void 0:r.businessType)?function(){return function(e){$(e),H(!0)}(t)}:void 0,code:{editCode:"domain_role_update",delCode:"domain_role_delete"},type:"domain",domainId:n}))}}],ae=(0,O.disableFunction)();return b.default.createElement(u.default,{className:"tiklab_domain_role"},b.default.createElement(w.default,{config:{title:"自定义角色",desc:"根据自身组织架构，灵活配置细粒度的访问控制策略"},bgroup:g,visible:M,setVisible:A}),b.default.createElement(l.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},W?b.default.createElement(h.default,{roleDetailParams:W,domainId:n,setDetail:J,getProjectDmRole:ee}):b.default.createElement("div",{className:"tiklab_domain_role-content"},b.default.createElement(P.BreadCrumb,{firstItem:"权限"},ae?b.default.createElement(P.Btn,{type:"primary",onClick:function(){return A(!0)},title:t("privilege-role.addRole")}):R?b.default.createElement(_.PrivilegeProjectButton,{domainId:n,code:"domain_role_add"},R):null),b.default.createElement(o.default,{columns:ne,dataSource:j,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:b.default.createElement(P.ListEmpty,null)}}),b.default.createElement(P.Page,{currentPage:z.pageParam.currentPage,changPage:function(e){V(S(S({},z),{},{pageParam:{pageSize:12,currentPage:e}}))},page:I})),b.default.createElement(E.default,{visible:q,setVisible:H,editData:Z,setEditData:$,roleType:"domain",findRole:ee}),e.children))})))},1152:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(678));r(610);var i=n(r(609)),u=n(r(0)),l=r(403),o=r(720),c=n(r(1042)),d=n(r(1043)),f=i.default.TabPane;t.default=function(e){var t=e.roleDetailParams,r=e.roleDetailParams.role,n=e.domainId,s=e.setDetail,p=e.getProjectDmRole,m=(0,l.useTranslation)().t;return u.default.createElement("div",{className:"tiklab_domain_role_detail"},u.default.createElement(o.BreadCrumb,{firstItem:"权限",secondItem:null==r?void 0:r.name,onClick:function(){return s(null)}}),u.default.createElement(i.default,{defaultActiveKey:"people"},u.default.createElement(f,{tab:m("privilege-role.people"),key:"people"},u.default.createElement(d.default,(0,a.default)({},e,{roleType:"domain",domainId:n,roleDetail:t,findRole:p}))),u.default.createElement(f,{tab:m("privilege-role.promise"),key:"promise"},u.default.createElement(c.default,{type:"domain",isBase:!1,domainId:n,roleDetail:t}))))}},1153:function(e,t,r){"use strict";r.r(t)},1154:function(e,t,r){"use strict";r.r(t)},1155:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(275);var a=n(r(177)),i=n(r(120)),u=n(r(0));r(1156);t.default=function(e){var t=e.firstItem,r=e.secondItem,n=e.children,l=e.onClick;return u.default.createElement("div",{className:"privilege-breadcrumb"},u.default.createElement(a.default,null,u.default.createElement("span",{className:l?"privilege-breadcrumb-first":"",onClick:l},l&&u.default.createElement(i.default,{style:{marginRight:8}}),u.default.createElement("span",{className:r?"privilege-breadcrumb-span":""},t)),r&&u.default.createElement("span",null," /   ",r)),u.default.createElement("div",null,n))}},1156:function(e,t,r){"use strict";r.r(t)},1157:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(265));r(406);var i=n(r(159)),u=n(r(0)),l=r(9);r(1158);t.default=function(e){var t=e.userInfo,r=void 0===t?void 0:t,n=r||(0,l.getUser)();return u.default.createElement("div",{className:"tiklab-profile"},n.avatar&&"null"!==n.avatar?u.default.createElement(i.default,{src:n.avatar}):n.nickname&&"null"!==n.nickname?u.default.createElement(i.default,null,n.nickname.substring(0,1)):n.name&&"null"!==n.name?u.default.createElement(i.default,null,n.name.substring(0,1)):u.default.createElement(i.default,{icon:u.default.createElement(a.default,null)}))}},1158:function(e,t,r){"use strict";r.r(t)},1159:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(305)),i=n(r(95)),u=n(r(120)),l=n(r(0));r(1160);t.default=function(e){var t=e.currentPage,r=e.changPage,n=e.page,o=n.totalPage,c=void 0===o?1:o,d=n.totalRecord,f=void 0===d?1:d;return c>1&&l.default.createElement("div",{className:"privilege-page"},l.default.createElement("div",{className:"privilege-page-record"},"  共",f,"条 "),l.default.createElement("div",{className:"".concat(1===t?"privilege-page-ban":"privilege-page-allow"),onClick:function(){return 1===t?null:r(t-1)}},l.default.createElement(u.default,null)),l.default.createElement("div",{className:"privilege-page-current"},t),l.default.createElement("div",{className:"privilege-page-line"}," / "),l.default.createElement("div",null,c),l.default.createElement("div",{className:"".concat(t===c?"privilege-page-ban":"privilege-page-allow"),onClick:function(){return t===c?null:r(t+1)}},l.default.createElement(i.default,null)),l.default.createElement("div",{className:"privilege-page-fresh",onClick:function(){return r(1)}},l.default.createElement(a.default,null)))}},1160:function(e,t,r){"use strict";r.r(t)},1161:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ListAction",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ListEmpty",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ListIcon",{enumerable:!0,get:function(){return u.default}});var a=n(r(1162)),i=n(r(1164)),u=n(r(1165))},1162:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(279);var a=n(r(130)),i=n(r(135));r(157);var u=n(r(48)),l=n(r(188));r(402);var o=n(r(278)),c=n(r(0));r(1163);var d=n(r(181)),f=n(r(180));t.default=function(e){var t=e.edit,r=e.del,n=e.code,s=e.type,p=void 0===s?"system":s,m=e.domainId,v="system"===p?d.default:f.default;return c.default.createElement("span",{className:"privilege-listAction"},t&&c.default.createElement(v,{code:null==n?void 0:n.editCode,domainId:m},c.default.createElement(u.default,{title:"修改"},c.default.createElement("span",{onClick:t,style:{cursor:"pointer",marginRight:15}},c.default.createElement(l.default,{style:{fontSize:16}})))),r&&c.default.createElement(a.default,{overlay:c.default.createElement("div",{className:"privilege-dropdown-more"},c.default.createElement("div",{className:"dropdown-more-item",onClick:function(){return o.default.confirm({title:"确定删除吗？",content:c.default.createElement("span",{className:"delete-warning"},"删除后无法恢复！"),okText:"确认",cancelText:"取消",onOk:r})}},"删除")),trigger:["click"],placement:"bottomRight"},c.default.createElement("span",null,c.default.createElement(v,{code:null==n?void 0:n.delCode,domainId:m},c.default.createElement(u.default,{title:"更多"},c.default.createElement("span",{style:{cursor:"pointer"}},c.default.createElement(i.default,{style:{fontSize:17}})))))))}},1163:function(e,t,r){"use strict";r.r(t)},1164:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(183);var a=n(r(75)),i=n(r(0));t.default=function(e){var t=e.title;return i.default.createElement(a.default,{description:t||"没有查询到数据"})}},1165:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(0));r(1166);t.default=function(e){var t=e.text,r=e.className;return a.default.createElement("span",{className:"privilege-list-icon ".concat(r)},function(){if(!t||"string"!=typeof t)return"A";var e=t.trim()[0]||"A";return/[a-z]/.test(e)?e.toUpperCase():e}())}},1166:function(e,t,r){"use strict";r.r(t)},1167:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(178);var a=n(r(72)),i=n(r(121)),u=n(r(691)),l=n(r(678)),o=n(r(0));r(1041);t.default=function(e){var t=(0,l.default)({},((0,u.default)(e),e));return o.default.createElement(a.default,(0,l.default)({},t,{allowClear:!0,bordered:!1,autoComplete:"off",prefix:o.default.createElement(i.default,{style:{fontSize:16}}),className:"privilege-search-input",onChange:function(e){"click"===e.type&&t.onPressEnter(e)}}))}},1168:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(274);var a=n(r(156)),i=n(r(678)),u=n(r(199)),l=n(r(285)),o=n(r(0));r(1041);var c=["children"];t.default=function(e){var t=e.children,r=(0,l.default)(e,c);return o.default.createElement("div",{className:"privilege-search-select"},o.default.createElement(a.default,(0,i.default)({},r,{bordered:!1,suffixIcon:o.default.createElement(u.default,null),className:"".concat(r.className)}),t))}},1169:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(0));r(1170);t.default=function(e){return a.default.createElement("div",{className:"tiklab-version-info"},a.default.createElement("div",null,"© 2020-2025 tiklab.net 版权所有"),a.default.createElement("div",{className:"tiklab-version-info-bottom"},a.default.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.txt",target:"_blank"},"GPL v3"),a.default.createElement("span",null,"·"),a.default.createElement("a",{href:"https://developer.tiklab.net/",target:"_blank"},"社区"),a.default.createElement("span",null,"·"),a.default.createElement("a",{href:"https://doc.tiklab.net",target:"_blank"},"文档"),a.default.createElement("span",null,"·"),a.default.createElement("a",{href:"https://tiklab.net/aboutus",target:"_blank"},"关于我们")))}},1170:function(e,t,r){"use strict";r.r(t)},1171:function(e,t,r){"use strict";r.r(t)},1172:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(42));r(400);var u=n(r(276));r(275);var l=n(r(177)),o=n(r(256)),c=n(r(74)),d=n(r(185)),f=n(r(404)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),p=r(720),m=r(39);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,m.inject)("systemRoleStore")((0,m.observer)((function(e){var t=e.visible,r=e.handleOk,n=e.handleCancel,a=e.allSelectIds,c=e.roleType,m=e.domainId,v=e.selectedRowKeys,b=e.setSelectedRowKeys,y=e.systemRoleStore,h=e.setDirs,P=y.findDmUserPage,O=y.findUserPage,E=y.findAllList,w=(0,s.useState)([]),_=(0,f.default)(w,2),R=_[0],j=_[1],S={pageSize:6,currentPage:1},k=(0,s.useState)({}),x=(0,f.default)(k,2),D=x[0],I=x[1],L=(0,s.useState)({pageParam:S}),T=(0,f.default)(L,2),M=T[0],A=T[1],F=(0,s.useState)([]),C=(0,f.default)(F,2),N=C[0],U=C[1];(0,s.useEffect)((function(){E().then((function(e){0===e.code&&(U(e.data),h(e.data))}))}),[]),(0,s.useEffect)((function(){"project"!==c&&z().then((function(e){var t;if(0===e.code&&(I({currentPage:e.data.currentPage,totalPage:e.data.totalPage,totalRecord:e.data.totalRecord}),null!==(t=e.data)&&void 0!==t&&t.dataList)){var r=e.data.dataList;j("system"===c?r:r.map((function(e){return e.user})))}}))}),[M]);var z=function(){var e=(0,d.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("domain"!==c){e.next=4;break}return e.next=3,P(g(g({},M),{},{domainId:m}));case 3:return e.abrupt("return",e.sent);case 4:if("system"!==c){e.next=8;break}return e.next=7,O(M);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){return a&&a.some((function(t){return t===e.id}))},B={selectedRowKeys:v,onSelectAll:function(e,t,r){var n=r.map((function(e){return e&&e.id})).filter(Boolean);if(e){var a=Array.from(new Set([].concat((0,o.default)(n),(0,o.default)(v))));b(a)}else{var i=v.filter((function(e){return!n.includes(e)}));b(i)}},onSelect:function(e){return G(e)},getCheckboxProps:function(e){return{disabled:V(e)}}},G=function(e){V(e)||(v.indexOf(e.id)>=0?v.splice(v.indexOf(e.id),1):v.push(e.id),b((0,o.default)(v)))},W=[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"30%",ellipsis:!0,render:function(e,t){return s.default.createElement(l.default,null,s.default.createElement(p.Profile,{userInfo:t}),e)}},{title:"手机号",dataIndex:"phone",key:"phone",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"邮箱",dataIndex:"email",key:"email",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:"dirId",key:"dirId",width:"15%",ellipsis:!0,render:function(e){var t=N.find((function(t){return t.id===e}));return t?t.name:"--"}}];return s.default.createElement(p.BaseModal,{title:"添加用户",visible:t,onCancel:n,onOk:r,width:800},s.default.createElement("div",null,s.default.createElement(p.SearchInput,{placeholder:"搜索姓名、手机号",style:{width:200},onPressEnter:function(e){var t=g(g({},M),{},{accent:e.target.value,pageParam:S});A(t)}}),s.default.createElement("div",{style:{paddingTop:15}},s.default.createElement(u.default,{columns:W,dataSource:R,rowSelection:B,onRow:function(e){return{onClick:function(){return G(e)}}},rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:s.default.createElement(p.ListEmpty,null)}}),s.default.createElement(p.Page,{currentPage:M.pageParam.currentPage,changPage:function(e){var t=g(g({},M),{},{pageParam:{pageSize:6,currentPage:e}});A(t)},page:D}))))})))},1173:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(607);var i=n(r(604)),u=n(r(404)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),o=r(720),c=r(39);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.default=(0,c.inject)("systemRoleStore")((0,c.observer)((function(e){var t=e.visible,r=e.allSelectIds,n=e.handleOk,a=e.handleCancel,c=e.selectedRowKeys,d=e.setSelectedRowKeys,f=e.systemRoleStore.findOrgaTree,s=(0,l.useState)({}),p=(0,u.default)(s,2),m=p[0],v=p[1],b=(0,l.useState)([]),g=(0,u.default)(b,2),y=g[0],h=g[1];(0,l.useEffect)((function(){w()}),[m]);var P,O,E,w=function(){f(m).then((function(e){0===e.code&&h((null==e?void 0:e.data)||[])}))};return l.default.createElement(o.BaseModal,{width:500,visible:t,title:"添加部门",onOk:n,onCancel:a},l.default.createElement(o.SearchInput,{placeholder:"搜索名称",style:{width:190},onPressEnter:function(e){v({orgaName:e.target.value})}}),l.default.createElement("div",{className:"tiklab_privilege_orga_add_item"},l.default.createElement(i.default,{checkable:!0,blockNode:!0,defaultExpandParent:!0,checkedKeys:c,defaultExpandedKeys:["111111"],treeData:(P=y,O=[],E=function(e,t){e.forEach((function(e,n){var a,i={key:e.orgaId,disabled:(a=e,r&&r.some((function(e){return e===a.orgaId}))),title:e.orgaName,children:[]};t.push(i),e.children&&e.children.length>0&&E(e.children,t[n].children)}))},E(P,O),O),onCheck:function(e,t){t.checkedNodes;d(e)}})))})))},1174:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(400);var i=n(r(276)),u=n(r(256)),l=n(r(404)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),c=r(720),d=r(39);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.default=(0,d.inject)("systemRoleStore")((0,d.observer)((function(e){var t=e.visible,r=e.handleOk,n=e.handleCancel,a=e.allSelectIds,d=e.selectedRowKeys,f=e.setSelectedRowKeys,s=e.systemRoleStore.findUserGroupList,p=(0,o.useState)({}),m=(0,l.default)(p,2),v=m[0],b=m[1],g=(0,o.useState)([]),y=(0,l.default)(g,2),h=y[0],P=y[1];(0,o.useEffect)((function(){O()}),[v]);var O=function(){s(v).then((function(e){0===e.code&&P(e.data)}))},E=function(e){return a&&a.some((function(t){return t===e.id}))},w={selectedRowKeys:d,onSelectAll:function(e,t,r){var n=r.map((function(e){return e&&e.id})).filter(Boolean);if(e){var a=Array.from(new Set([].concat((0,u.default)(n),(0,u.default)(d))));f(a)}else{var i=d.filter((function(e){return!n.includes(e)}));f(i)}},onSelect:function(e){return _(e)},getCheckboxProps:function(e){return{disabled:E(e)}}},_=function(e){E(e)||(d.indexOf(e.id)>=0?d.splice(d.indexOf(e.id),1):d.push(e.id),f((0,u.default)(d)))};return o.default.createElement(c.BaseModal,{title:"添加用户组",visible:t,onCancel:n,onOk:r,width:500},o.default.createElement("div",null,o.default.createElement(c.SearchInput,{placeholder:"搜索名称",style:{width:190},onPressEnter:function(e){b({name:e.target.value})}}),o.default.createElement("div",{style:{paddingTop:15}},o.default.createElement(i.default,{columns:[{title:"名称",dataIndex:"name",key:"name",width:"70%",ellipsis:!0,render:function(e){return e||"--"}},{title:"类型",dataIndex:"group",key:"group",width:"30%",ellipsis:!0,render:function(e){return"system"===e?"内置":"自定义"}}],dataSource:h,rowSelection:w,onRow:function(e){return{onClick:function(){return _(e)}}},rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:o.default.createElement(c.ListEmpty,null)}}))))})))},1175:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(593);var i=n(r(595));r(594);var u=n(r(596));r(400);var l=n(r(276)),o=n(r(285)),c=n(r(256)),d=n(r(74));r(275);var f=n(r(177));r(599);var s=n(r(598)),p=n(r(189)),m=n(r(188));r(157);var v=n(r(48)),b=n(r(190)),g=n(r(404)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),h=r(39),P=r(12),O=r(403),E=r(916),w=r(979),_=n(r(1046)),R=r(292),j=n(r(1047)),S=r(258),k=r(1048),x=r(720);r(1049);var D=["children","sort"],I=["children","sort"];function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,h.inject)(R.PRIVILEGE_PROJECT_FEATURE_STORE,R.PRIVILEGE_SYSTEM_STORE)((0,h.observer)((function(e){var t=(0,O.useTranslation)().t,r=e.privilegeProjectFeatureStore,n=e.privilegeSystemStore,a=n.deleteFunctionAction,h=n.getFunctionListListAction,R=n.updateFunctionSortAction,L=r.privilegeProjectTreeData,T=r.getDmPrivilegeTree,A=(0,y.useState)(""),F=(0,g.default)(A,2),C=F[0],N=F[1],U=(0,y.useState)(!1),z=(0,g.default)(U,2),V=z[0],B=z[1],G=(0,y.useState)({}),W=(0,g.default)(G,2),J=W[0],K=W[1],Y=(0,y.useState)({}),q=(0,g.default)(Y,2),H=q[0],Q=q[1],X={type:"2",pageParam:{pageSize:99999,currentPage:1}},Z=(0,y.useState)(X),$=(0,g.default)(Z,2),ee=$[0],te=$[1],re=[{title:t("privilege-feature-name"),dataIndex:"name",key:"name"},{title:t("privilege-feature-code"),dataIndex:"code",key:"code"},{title:"操作",dataIndex:"action",width:"10%",render:function(e,t){return y.default.createElement(f.default,{size:"middle"},!t.parentFunction&&y.default.createElement(v.default,{title:"添加"},y.default.createElement(b.default,{onClick:function(){return ue(t.id)}})),y.default.createElement(v.default,{title:"编辑"},y.default.createElement(m.default,{onClick:function(){return oe(t)}})),!t.children&&y.default.createElement(v.default,{title:"删除"},y.default.createElement(s.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return ce(t)},okText:"确定",cancelText:"取消"},y.default.createElement(p.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}}))))}}];(0,y.useEffect)((function(){ne()}),[ee]);var ne=function(){h(ee).then((function(e){if(!e.code){var t=ie(e.data);T(t)}}))},ae=function(){h(X).then((function(e){if(!e.code){var t=ie(e.data);T(t)}}))},ie=function(e){var t=(0,S.sort)(e.map((function(e){return!e.parentFunction&&e})).filter(Boolean)),r=e.map((function(e){return e.parentFunction&&e.parentFunction.id&&e})).filter(Boolean),n=[];return t.forEach((function(e){var t=e.id,a=(0,S.sort)(r.filter((function(e){return e.parentFunction.id===t})));a.length>0?n.push(M(M({},e),{},{children:a})):n.push(e)})),n},ue=(0,y.useCallback)((function(e){N(e),B(!0)}),[]),le=(0,y.useCallback)((function(){N(""),K({}),B(!1),ae()}),[]),oe=(0,y.useCallback)((function(e){K(e),B(!0)}),[]),ce=(0,y.useCallback)((function(e){a(e.id).then((function(e){e.code||ne()}))}),[]),de=(0,y.useCallback)((function(e){var t,r=e.dragId,n=e.dropId,a=e.drag,i=e.drop,u=a.sort,l=-1,d=[],f=[],s={},p={};if(i.children){var m=[],v=H[n],b=i.children[0];if(v){var g=se(b.id);s=M(M({},a),{},{parentFunction:g.parentFunction}),u<g.sort?(m=[s].concat((0,c.default)(i.children)),fe(m).then((function(e){ae()}))):(l=i.children.findIndex((function(e){return e.id===g.id})),i.children.splice(l,0,a),i.children.forEach((function(e){f.push(e.sort)})),d=(0,k.sortNum)(f),i.children=i.children.map((function(e,t){return M(M({},e),{},{sort:d[t]})})),fe(i.children).then((function(e){ae()})))}}if(i.parentFunction){var y=i.parentFunction.id,h=se(y);l=(t=h.children.filter((function(e){return e.id!==r}))).findIndex((function(e){return e.id===i.id})),t.splice(l,0,M(M({},a),{},{parentFunction:h.children[0].parentFunction})),t.forEach((function(e){f.push(e.sort)})),d=(0,k.sortNum)(f),h.children=t.map((function(e,t){return M(M({},e),{},{sort:d[t]})})),fe(h.children).then((function(e){ae()}))}else{a.children;var P=a.sort,O=(0,o.default)(a,D),E=(i.children,i.sort),w=(0,o.default)(i,I);if(a.parentFunction&&!i.parentFunction){a.parentFunction.id;p=M(M({},w),{},{parentFunction:i.parentFunction,sort:P}),s=M(M({},O),{},{parentFunction:i.parentFunction,sort:E}),fe([p,s]).then((function(e){ae()}))}else{var _=[M(M({},O),{},{sort:E}),M(M({},w),{},{sort:P})];fe(_).then((function(e){ae()}))}}}),[L,H]),fe=function(e){return R({list:e})},se=(0,y.useCallback)((function(e){var t={},r=function(n){for(var a=0;a<n.length;a++){var i=n[a];if(i.id===e){t=i;break}i.children&&i.children.length>0&&r(i.children)}return t};return r((0,P.toJS)(L)),t}),[L]);return y.default.createElement(i.default,{className:"privilege-dm"},y.default.createElement(u.default,{sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},y.default.createElement(x.BreadCrumb,{firstItem:"项目功能"},y.default.createElement(x.Btn,{type:"primary",onClick:function(){return B(!0)},title:t("privilege-add-feature")})),y.default.createElement("div",{style:{paddingBottom:15}},y.default.createElement(x.SearchInput,{placeholder:"搜索名称",onPressEnter:function(e){return function(e){var t=e.target.value;te(M(M({},ee),{},{name:t}))}(e)},style:{width:190}})),y.default.createElement("div",{id:"project-drag-sorting"},y.default.createElement(E.DndProvider,{backend:w.HTML5Backend},y.default.createElement(l.default,{dataSource:(0,P.toJS)(L),columns:re,rowKey:"id",tableLayout:"fixed",pagination:!1,components:{body:{row:j.default}},onRow:function(e,t){return{record:e,data:(0,P.toJS)(L),index:t,moveRow:de}},expandable:{onExpand:function(e,t){Q(M(M({},H),{},(0,d.default)({},t.id,e)))}},locale:{emptyText:y.default.createElement(x.ListEmpty,null)}})))),y.default.createElement(_.default,{data:L,editData:J,visible:V,cancelAdd:le,parentId:C,urlType:"project"}))})))},1176:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(593);var i=n(r(595));r(594);var u=n(r(596));r(400);var l=n(r(276));r(275);var o=n(r(177));r(157);var c=n(r(48)),d=n(r(293));r(405);var f=n(r(287)),s=n(r(74)),p=n(r(404)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),v=r(39),b=r(403),g=n(r(1051)),y=r(720),h=r(292);r(1052);var P=r(9),O=n(r(947)),E=n(r(896));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,v.inject)(h.PRIVILEGE_PROJECT_ROLE_STORE,h.SYSTEM_ROLE_STORE)((0,v.observer)((function(e){var t=e.privilegeProjectRoleStore,r=e.systemRoleStore,n=e.isBase,a=void 0!==n&&n,s=e.refresh,v=void 0!==s&&s,h=e.bgroup,w=e.roleButton,_=(0,b.useTranslation)().t,j=t.getProjectRoles,S=t.privilegeProjectRole,k=r.deleteRoleAction,x=r.findRolePageAndRoleUserNumber,D=r.setDefaultRoleAction,I=r.rolePage,L=(0,m.useState)(!1),T=(0,p.default)(L,2),M=T[0],A=T[1],F=(0,m.useState)(null),C=(0,p.default)(F,2),N=C[0],U=C[1],z=(0,m.useState)({pageSize:15,currentPage:1}),V=(0,p.default)(z,1)[0],B=(0,m.useState)({pageParam:V}),G=(0,p.default)(B,2),W=G[0],J=G[1],K=(0,m.useState)(!1),Y=(0,p.default)(K,2),q=Y[0],H=Y[1],Q=(0,m.useState)(null),X=(0,p.default)(Q,2),Z=X[0],$=X[1];(0,m.useEffect)((function(){ee()}),[W,v]);var ee=function(){x(R({type:"2",group:"system"},W)).then((function(e){0===e.code&&j(e.data.dataList)}))},te=[{title:"角色名称",dataIndex:"name",width:"35%",ellipsis:!0,render:function(e,t){var r=t.defaultRole;return m.default.createElement("div",{className:"tiklab_project_role-name",onClick:function(){U(t)}},m.default.createElement(y.ListIcon,{text:e}),m.default.createElement("span",{className:"name-text"},e),1===r&&m.default.createElement(f.default,null,"默认"))}},{title:"成员数",dataIndex:"roleUserNumber",width:"25%",ellipsis:!0},{title:"创建方式",dataIndex:"group",width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":_("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var r=t.defaultRole,n=t.group,i=t.businessType;return m.default.createElement(o.default,{size:"middle"},0===r&&m.default.createElement(c.default,{title:"设置默认"},m.default.createElement(d.default,{onClick:function(){D(t).then((function(e){e.code||ee()}))},style:{fontSize:"var(--tiklab-icon-size-16)"}})),m.default.createElement(y.ListAction,{del:a||"system"!==n?function(){return e=t.id,void k(e).then((function(e){e.code||ee()}));var e}:void 0,edit:2!==i?function(){return function(e){$(e),H(!0)}(t)}:void 0}))}}],re=(0,P.disableFunction)();return m.default.createElement(i.default,{className:"tiklab_project_role"},m.default.createElement(E.default,{config:{title:"自定义角色",desc:"根据自身组织架构，灵活配置细粒度的访问控制策略"},bgroup:h,visible:M,setVisible:A}),m.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},N?m.default.createElement(g.default,{roleDetailParams:N,setDetail:U,findRole:ee,isBase:a,roleType:"project"}):m.default.createElement("div",{className:"tiklab_project_role-content"},m.default.createElement(y.BreadCrumb,{firstItem:"项目角色"},re?m.default.createElement(y.Btn,{type:"primary",onClick:function(){return A(!0)},title:_("privilege-role.addRole")}):w||null),m.default.createElement(l.default,{columns:te,dataSource:S,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:m.default.createElement(y.ListEmpty,null)}}),m.default.createElement(y.Page,{currentPage:W.pageParam.currentPage,changPage:function(e){J(R(R({},W),{},{pageParam:{pageSize:15,currentPage:e}}))},page:I})),m.default.createElement(O.default,{visible:q,setVisible:H,editData:Z,setEditData:$,roleType:"project",findRole:ee}),e.children))})))},1177:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(593);var i=n(r(595));r(594);var u=n(r(596)),l=n(r(678));r(400);var o=n(r(276)),c=n(r(404)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),f=r(39),s=r(720),p=n(r(1178)),m=r(291);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}r(1054);t.default=(0,f.inject)("projectVirtualRoleStore")((0,f.observer)((function(e){var t=e.projectVirtualRoleStore,r=t.findVRolePage,n=t.deleteVRole,a=(0,d.useState)({pageParam:{pageSize:15,currentPage:1}}),f=(0,c.default)(a,2),v=f[0],b=f[1],g=(0,d.useState)({}),y=(0,c.default)(g,2),h=y[0],P=y[1],O=(0,d.useState)(!1),E=(0,c.default)(O,2),w=E[0],_=E[1],R=(0,d.useState)(null),j=(0,c.default)(R,2),S=j[0],k=j[1];(0,d.useEffect)((function(){x()}),[v]);var x=function(){r(v).then((function(e){0===e.code&&P(e.data)}))},D=function(e){b({pageParam:{pageSize:15,currentPage:e}})},I=[{title:"名称",dataIndex:"name",width:"40%",ellipsis:!0},{title:"标识",dataIndex:"id",width:"25%",ellipsis:!0},{title:"描述",dataIndex:"des",width:"25%",ellipsis:!0,render:function(e){return e||"--"}},{title:"操作",dataIndex:"action",render:function(e,t){return d.default.createElement(s.ListAction,{edit:function(){return function(e){k(e),_(!0)}(t)},del:function(){return function(e){n(e.id).then((function(e){if(0===e.code){var t=(0,m.deleteSuccessReturnCurrenPage)(h.totalRecord,15,v.pageParam.currentPage);D(t)}}))}(t)}})}}];return d.default.createElement(i.default,{className:"project-virtual-role"},d.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},d.default.createElement("div",{className:"project-virtual-role-content"},d.default.createElement(s.BreadCrumb,{firstItem:"项目虚拟角色"},d.default.createElement(s.Btn,{type:"primary",onClick:function(){return _(!0)},title:"添加项目虚拟角色"})),d.default.createElement(o.default,{columns:I,dataSource:(null==h?void 0:h.dataList)||[],rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:d.default.createElement(s.ListEmpty,null)}}),d.default.createElement(s.Page,{currentPage:v.pageParam.currentPage,changPage:D,page:h}),d.default.createElement(p.default,(0,l.default)({},e,{visible:w,setVisible:_,formValue:S,setFormValue:k,findVRole:x})))))})))},1178:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(178);var i=n(r(72));r(155);var u=n(r(44)),l=n(r(74));r(277);var o=n(r(73)),c=n(r(404)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),f=r(720);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.projectVirtualRoleStore,r=e.visible,n=e.setVisible,a=e.formValue,l=e.setFormValue,s=e.findVRole,p=t.createVRole,v=t.updateVRole,b=o.default.useForm(),g=(0,c.default)(b,1)[0];(0,d.useEffect)((function(){r&&g.setFieldsValue(a)}),[r]);var y=function(){n(!1),l(null),g.resetFields()};return d.default.createElement(f.BaseModal,{title:a?"修改虚拟角色":"添加虚拟角色",visible:r,onCancel:y,onOk:function(){g.validateFields().then((function(e){a?v(m(m({},e),{},{type:2})):p(m(m({},e),{},{type:2})).then((function(e){0===e.code?(s(),u.default.info("添加成功")):u.default.error(e.msg)})),y()}))}},d.default.createElement(o.default,{form:g,layout:"vertical"},d.default.createElement(o.default.Item,{name:"id",label:"id"},d.default.createElement(i.default,{placeholder:"为空时，自动生成",disabled:a})),d.default.createElement(o.default.Item,{name:"name",label:"名称",rules:[{required:!0,message:"虚拟角色名称"}]},d.default.createElement(i.default,null)),d.default.createElement(o.default.Item,{name:"des",label:"说明"},d.default.createElement(i.default,null))))}},1179:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(593);var i=n(r(595));r(594);var u=n(r(596));r(400);var l=n(r(276));r(275);var o=n(r(177));r(157);var c=n(r(48)),d=n(r(293));r(405);var f=n(r(287)),s=n(r(74)),p=n(r(404)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),v=r(39),b=r(403),g=n(r(1051)),y=n(r(181)),h=r(292),P=r(720);r(1055);var O=r(9),E=n(r(947)),w=n(r(896));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,v.inject)(h.SYSTEM_ROLE_STORE)((0,v.observer)((function(e){var t=e.systemRoleStore,r=e.bgroup,n=e.isBase,a=void 0!==n&&n,s=e.refresh,v=void 0!==s&&s,h=e.roleButton,_=(0,b.useTranslation)().t,R=t.findRolePageAndRoleUserNumber,S=t.rolePage,k=t.deleteRoleAction,x=t.privilegeSystemRole,D=t.setDefaultRoleAction,I=(0,m.useState)(null),L=(0,p.default)(I,2),T=L[0],M=L[1],A=(0,m.useState)(!1),F=(0,p.default)(A,2),C=F[0],N=F[1],U=(0,m.useState)({pageParam:{pageSize:13,currentPage:1}}),z=(0,p.default)(U,2),V=z[0],B=z[1],G=(0,m.useState)(!1),W=(0,p.default)(G,2),J=W[0],K=W[1],Y=(0,m.useState)(null),q=(0,p.default)(Y,2),H=q[0],Q=q[1];(0,m.useEffect)((function(){X()}),[V,v]);var X=function(){R(V)},Z=[{title:"角色名称",dataIndex:"name",width:"35%",ellipsis:!0,render:function(e,t){var r=t.defaultRole;return m.default.createElement("div",{className:"tiklab_system_role_name",onClick:function(){M(t)}},m.default.createElement(P.ListIcon,{text:e}),m.default.createElement("span",{className:"name-text"},e),1===r&&m.default.createElement(f.default,null,"默认"))}},{title:"成员数",dataIndex:"roleUserNumber",width:"25%",ellipsis:!0},{title:"创建方式",dataIndex:"group",width:"25%",ellipsis:!0,render:function(e){return"system"===e?"内置":_("privilege-role.custom")}},{title:"操作",dataIndex:"action",render:function(e,t){var r=t.defaultRole,n=t.group,i=t.businessType;return m.default.createElement(o.default,{size:"middle"},0===r&&m.default.createElement(y.default,{code:"permission_role_update_default"},m.default.createElement(c.default,{title:"设置默认"},m.default.createElement(d.default,{onClick:function(){D(t).then((function(e){e.code||X()}))},style:{fontSize:"var(--tiklab-icon-size-16)"}}))),m.default.createElement(P.ListAction,{del:a||"system"!==n?function(){return e=t.id,void k(e).then((function(e){e.code||X()}));var e}:void 0,edit:2!==i?function(){return function(e){Q(e),K(!0)}(t)}:void 0,code:{editCode:"permission_role_delete",delCode:"permission_role_update"}}))}}],$=(0,O.disableFunction)();return m.default.createElement(i.default,{className:"tiklab_system_role"},m.default.createElement(w.default,{config:{title:"自定义角色",desc:"根据自身组织架构，灵活配置细粒度的访问控制策略"},bgroup:r,visible:C,setVisible:N}),m.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"},className:"tiklab_system_role_col"},m.default.createElement("div",{className:"tiklab_system_role_box"},T?m.default.createElement(g.default,{roleDetailParams:T,setDetail:M,findRole:X,roleType:"system",isBase:a}):m.default.createElement("div",{className:"tiklab_system_role-content"},m.default.createElement(P.BreadCrumb,{firstItem:"权限"},$?m.default.createElement(P.Btn,{type:"primary",onClick:function(){return N(!0)},title:_("privilege-role.addRole")}):h?m.default.createElement(y.default,{code:"permission_role_add"},h):null),m.default.createElement("div",{className:"tiklab_system_role_box_content"},m.default.createElement(l.default,{columns:Z,dataSource:x,rowKey:function(e){return e.id},pagination:!1,locale:{emptyText:m.default.createElement(P.ListEmpty,null)}}),m.default.createElement(P.Page,{currentPage:V.pageParam.currentPage,changPage:function(e){B(j(j({},V),{},{pageParam:{pageSize:12,currentPage:e}}))},page:S}))),m.default.createElement(E.default,{visible:J,setVisible:K,editData:H,setEditData:Q,roleType:"system",findRole:X})),m.default.createElement(P.VersionInfo,null),e.children))})))},1180:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(593);var i=n(r(595));r(594);var u=n(r(596));r(400);var l=n(r(276)),o=n(r(285)),c=n(r(42)),d=n(r(256)),f=n(r(74)),s=n(r(185));r(275);var p=n(r(177));r(599);var m=n(r(598)),v=n(r(189)),b=n(r(188));r(157);var g=n(r(48)),y=n(r(190)),h=n(r(404)),P=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),O=r(39),E=r(403),w=r(12),_=r(916),R=r(979),j=r(292),S=n(r(1047)),k=n(r(1046)),x=r(720),D=r(1048);r(1057);var I=["children","sort"],L=["children","sort"];function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=(0,O.inject)(j.PRIVILEGE_SYSTEM_STORE)((0,O.observer)((function(e){var t=(0,E.useTranslation)().t,r=e.privilegeSystemStore,n=r.privilegeSystemTreeData,a=r.getFunctionListListAction,O=r.deleteFunctionAction,j=r.updateFunctionSortAction,T=(0,P.useState)(""),M=(0,h.default)(T,2),F=M[0],C=M[1],N=(0,P.useState)(!1),U=(0,h.default)(N,2),z=U[0],V=U[1],B=(0,P.useState)({}),G=(0,h.default)(B,2),W=G[0],J=G[1],K=(0,P.useState)({}),Y=(0,h.default)(K,2),q=Y[0],H=Y[1],Q=(0,P.useState)({pageParam:{pageSize:9999,currentPage:1}}),X=(0,h.default)(Q,2),Z=X[0],$=X[1],ee=[{title:t("privilege-feature-name"),dataIndex:"name",key:"name",className:"column_bg_w"},{title:t("privilege-feature-code"),dataIndex:"code",key:"code"},{title:"操作",dataIndex:"action",className:"column_bg_w",width:"10%",render:function(e,t){return P.default.createElement(p.default,{size:"middle"},!t.parentFunction&&P.default.createElement(g.default,{title:"添加"},P.default.createElement(y.default,{onClick:function(){return re(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),P.default.createElement(g.default,{title:"编辑"},P.default.createElement(b.default,{onClick:function(){return ae(t)},style:{fontSize:"var(--tiklab-icon-size-16)"}})),!t.children&&P.default.createElement(g.default,{title:"删除"},P.default.createElement(m.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(){return ie(t)},okText:"确定",cancelText:"取消"},P.default.createElement(v.default,{style:{fontSize:"var(--tiklab-icon-size-16)"}}))))}}];(0,P.useEffect)((function(){(0,s.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:case"end":return e.stop()}}),e)})))()}),[Z]);var te=function(){var e=(0,s.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Z);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=(0,P.useCallback)((function(e){C(e.id),V(!0)}),[]),ne=function(){var e=(0,s.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(""),J({}),V(!1),e.next=5,te();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){J(e),V(!0)},ie=function(){var e=(0,s.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.id);case 2:if(e.sent.code){e.next=6;break}return e.next=6,te();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=(0,P.useCallback)(function(){var e=(0,s.default)(c.default.mark((function e(t){var r,n,a,i,u,l,f,s,p,m,v,b,g,y,h,P,O,E,w,_,R,j;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dragId,n=t.dropId,a=t.drag,i=t.drop,u=a.sort,l=-1,f=[],s=[],p={},m={},!i.children){e.next=31;break}if([],b=q[n],g=i.children[0],!b){e.next=31;break}if(y=oe(g.id),p=A(A({},a),{},{parentFunction:y.parentFunction}),!(u<y.sort)){e.next=22;break}return v=[p].concat((0,d.default)(i.children)),e.next=18,le(v);case 18:return e.next=20,te();case 20:e.next=31;break;case 22:return l=i.children.findIndex((function(e){return e.id===y.id})),i.children.splice(l,0,a),i.children.forEach((function(e){s.push(e.sort)})),f=(0,D.sortNum)(s),i.children=i.children.map((function(e,t){return A(A({},e),{},{sort:f[t]})})),e.next=29,le(i.children);case 29:return e.next=31,te();case 31:i.parentFunction?(P=i.parentFunction.id,O=oe(P),h=O.children.filter((function(e){return e.id!==r})),l=h.findIndex((function(e){return e.id===i.id})),h.splice(l,0,A(A({},a),{},{parentFunction:O.children[0].parentFunction})),h.forEach((function(e){s.push(e.sort)})),f=(0,D.sortNum)(s),O.children=h.map((function(e,t){return A(A({},e),{},{sort:f[t]})})),le(O.children).then((function(e){te()}))):(a.children,E=a.sort,w=(0,o.default)(a,I),i.children,_=i.sort,R=(0,o.default)(i,L),a.parentFunction&&!i.parentFunction?(a.parentFunction.id,m=A(A({},R),{},{parentFunction:i.parentFunction,sort:E}),p=A(A({},w),{},{parentFunction:i.parentFunction,sort:_}),le([m,p]).then((function(e){te()}))):(j=[A(A({},w),{},{sort:_}),A(A({},R),{},{sort:E})],le(j).then((function(e){te()}))));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,q]),le=function(){var e=(0,s.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={list:t},e.next=3,j(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=(0,P.useCallback)((function(e){var t={},r=function(n){for(var a=0;a<n.length;a++){var i=n[a];if(i.id===e){t=i;break}i.children&&i.children.length>0&&r(i.children)}return t};return r((0,w.toJS)(n)),t}),[n]);return P.default.createElement(i.default,{className:"systemFeature"},P.default.createElement(u.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"18",offset:"3"},xxl:{span:"18",offset:"3"}},P.default.createElement(x.BreadCrumb,{firstItem:"功能管理"},P.default.createElement(x.Btn,{type:"primary",onClick:function(){return V(!0)},title:t("privilege-add-feature")})),P.default.createElement("div",{style:{paddingBottom:15}},P.default.createElement(x.SearchInput,{placeholder:t("privilege-search")+t("privilege-orga-name"),onPressEnter:function(e){return function(e){var t=e.target.value;$(A(A({},Z),{},{name:t}))}(e)},style:{width:190}})),P.default.createElement("div",{id:"drag-sorting"},P.default.createElement(_.DndProvider,{backend:R.HTML5Backend},P.default.createElement(l.default,{dataSource:(0,w.toJS)(n),columns:ee,rowKey:"id",tableLayout:"fixed",pagination:!1,components:{body:{row:S.default}},onRow:function(e,t){return{record:e,data:(0,w.toJS)(n),index:t,moveRow:ue}},expandable:{onExpand:function(e,t){H(A(A({},q),{},(0,f.default)({},t.id,e)))}},locale:{emptyText:P.default.createElement(x.ListEmpty,null)}})))),P.default.createElement(k.default,{data:n,editData:W,visible:z,cancelAdd:ne,parentId:F,urlType:"system"}))})))},1194:function(e,t,r){"use strict";r(1044)},1223:function(e,t,r){"use strict";r(1057)},1224:function(e,t,r){"use strict";r(1052)},1225:function(e,t,r){"use strict";r(1049)},1226:function(e,t,r){"use strict";r(1054)},180:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(416));t.default=a.default},181:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(414));t.default=a.default},258:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.handlerFeaterNode=void 0,Object.defineProperty(t,"privilege_cn",{enumerable:!0,get:function(){return i.default}}),t.sort=void 0,Object.defineProperty(t,"usePermission",{enumerable:!0,get:function(){return u.default}});var a=n(r(74)),i=n(r(412)),u=n(r(413));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=t.sort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.sort-t.sort}))};t.handlerFeaterNode=function(e){var t=function(e,r){for(var n=[],a=0;a<e.length;a++){var i=e[a];if(i.parentFunction===r||i.parentFunction&&i.parentFunction.id===r){var u=o(o({},i),{},{children:[]});u.children=t(e,i.id),0===u.children.length&&delete u.children,n.push(u)}}return c(n),n};return t(e,null)}},280:function(e,t,r){},281:function(e,t,r){},291:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.links=t.deleteSuccessReturnCurrenPage=void 0;var a=n(r(74));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.links=function(e,t){var r=[],n=function(e,a){e&&e.map((function(e){if(e.children){var i=e.children.map((function(r){return u(u({},r),{},{type:e[t]})}));n(i,r)}else a.push(e)}))};return n(e,r),r},t.deleteSuccessReturnCurrenPage=function(e,t,r){return e>=r*t?r:e<=(r-1)*t+1?1===r?1:r-1:r}},292:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PRIVILEGE_DOMAIN_ROLE_STORE",{enumerable:!0,get:function(){return i.PRIVILEGE_DOMAIN_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_FEATURE_STORE",{enumerable:!0,get:function(){return u.PRIVILEGE_PROJECT_FEATURE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_ROLE_STORE",{enumerable:!0,get:function(){return c.PRIVILEGE_PROJECT_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE",{enumerable:!0,get:function(){return o.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE}}),Object.defineProperty(t,"PRIVILEGE_SYSTEM_STORE",{enumerable:!0,get:function(){return d.PRIVILEGE_SYSTEM_STORE}}),Object.defineProperty(t,"SYSTEM_ROLE_STORE",{enumerable:!0,get:function(){return l.SYSTEM_ROLE_STORE}}),t.privilegeStores=void 0;var a=n(r(74)),i=r(418),u=r(419),l=r(420),o=r(421),c=r(422),d=r(423);t.privilegeStores=(0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)((0,a.default)({},d.PRIVILEGE_SYSTEM_STORE,new d.SystemFeatureStore),l.SYSTEM_ROLE_STORE,new l.SystemRoleStore),c.PRIVILEGE_PROJECT_ROLE_STORE,new c.ProjectRoleStore),u.PRIVILEGE_PROJECT_FEATURE_STORE,new u.ProjectFeatureStore),i.PRIVILEGE_DOMAIN_ROLE_STORE,new i.DomainRoleStore),o.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE,new o.ProjectVirtualRoleStore)},299:function(e){e.exports=JSON.parse('{"privilege-feature-name":"功能名称","privilege-feature-code":"功能编码","privilege-add-feature":"添加功能","privilege-orga-name":"组织名称","privilege-add-user":"添加成员","privilege-search":"搜索","privilege-desc":"描述","privilege-user-and-org":"用户名、部门","privilege-user":"用户名","privilege-select-user":"选择用户","privilege-common":{"edit":"编辑","delete":"删除","action":"操作","please-input":"请输入","please-select":"请输入","save":"保存","cancel":"取消"},"privilege-add-node":"添加子节点","privilege-edit-feature":"编辑功能","privilege-point-node":"挂载节点","privilege-point-node-placeholder":"请选择挂载节点","privilege-role":{"addRole":"添加角色","addSystemRole":"添加系统角色","editRole":"编辑角色","roleName":"角色名称","roleDesc":"角色描述","people":"成员","promise":"权限","name":"用户名","phone":"手机号","nickname":"姓名","email":"邮箱","type":"类别","orga":"部门","thirdparty":"第三方","internal":"内部","system":"系统","custom":"自定义","org":"组织"}}')},300:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(415));t.default=a.default},301:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(417));t.default=a.default},412:function(e,t,r){"use strict";r.r(t);var n=r(299);t.default=n},413:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(404)),i=r(0),u=r(9);t.default=function(e){var t=e.code,r=e.systemRoleStore,n=e.domainId,l=r.setSystemPermissionsCodes,o=r.setDomainPermissionsCodes,c=r.systemPermissions,d=r.domainPermissions,f=(0,i.useState)(null),s=(0,a.default)(f,2),p=s[0],m=s[1];return(0,i.useEffect)((function(){var e=new FormData,r=n?"permission/findDomainPermissions":"permission/findPermissions",a=(0,u.getUser)();if(a.userId){if(e.append("userId",a.userId),n){if(d.hasOwnProperty(n))return void m(d[n].includes(t));e.append("domainId",n)}else if(c.length>0)return void m(c.includes(t));u.Axios.post(r,e).then((function(e){e.code||(n?o(n,e.data):l(e.data),m(e.data.includes(t)))}))}}),[]),p}},414:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(285)),i=(n(r(0)),r(39)),u=["code","disabled","systemRoleStore"];t.default=(0,i.inject)("systemRoleStore")((0,i.observer)((function(e){var t=e.code,r=void 0===t?"":t,n=(e.disabled,e.systemRoleStore),i=(0,a.default)(e,u),l=n.systemPermissions;try{return r?l.includes(r)?i.children:null:i.children}catch(e){return l.includes(r)?i.children:null}})))},415:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(256)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),l=r(39),o=r(291);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}t.default=(0,l.inject)("systemRoleStore")((0,l.observer)((function(e){var t=e.expandedTree,r=e.setExpandedTree,n=e.applicationRouters,a=e.outerPath,l=e.pathKey,c=void 0===l?"id":l,d=e.noAccessPath,f=e.systemRoleStore,s=f.systemPermissions,p=f.privilegeLoading,m=e.location.pathname,v=(0,o.links)(n,c);return(0,u.useEffect)((function(){if(m===a)if(s&&s.length>0){var n=v.find((function(e){return s.includes(e.purviewCode)}));if(n)e.history.replace(n[c]);else{var u=v.find((function(e){return!e.purviewCode}));u&&e.history.replace(u[c])}}else{var l=v.find((function(e){return!e.purviewCode}));l&&e.history.replace(l[c])}else{var o=v.find((function(e){return e[c]===m}));if(o&&(t&&r([o.type].concat((0,i.default)(t))),o.purviewCode&&!p&&!s.includes(o.purviewCode)))return e.history.replace(d)}}),[m,s]),e.children})))},416:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(285)),i=(n(r(0)),r(39)),u=r(9),l=["code","domainId","systemRoleStore"];t.default=(0,i.inject)("systemRoleStore")((0,i.observer)((function(e){var t=e.code,r=void 0===t?"":t,n=e.domainId,i=e.systemRoleStore,o=(0,a.default)(e,l),c=i.domainPermissions,d=(0,u.getUser)().userId;try{return r?c["".concat(d,"_").concat(n)]&&c["".concat(d,"_").concat(n)].includes(r)?o.children:null:o.children}catch(e){return c["".concat(d,"_").concat(n)]&&c["".concat(d,"_").concat(n)].includes(r)?o.children:null}})))},417:function(e,t,r){"use strict";var n=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}(r(0)),i=r(39),u=r(9),l=r(291);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default=(0,i.inject)("systemRoleStore")((0,i.observer)((function(e){var t=e.projectRouters,r=e.outerPath,n=e.noAccessPath,i=e.domainId,o=e.pathKey,c=void 0===o?"id":o,d=e.systemRoleStore.domainPermissions,f=e.location.pathname,s=(0,u.getUser)().userId,p=(0,l.links)(t,c),m=(null==d?void 0:d["".concat(s,"_").concat(i)])||null;return(0,a.useEffect)((function(){if(m)if(f===r)if(m&&m.length>0){var t=p.find((function(e){return m.includes(e.purviewCode)}));if(t)e.history.replace(t[c]);else{var a=p.find((function(e){return!e.purviewCode}));a&&e.history.replace(a[c])}}else{var i=p.find((function(e){return!e.purviewCode}));i&&e.history.replace(i[c])}else{var u=p.find((function(e){return e[c]===f}));if(u&&u.purviewCode&&(null==m||!m.includes(u.purviewCode)))return e.history.replace(n)}}),[f,m]),e.children})))},418:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.PRIVILEGE_DOMAIN_ROLE_STORE=t.DomainRoleStore=void 0;var a,i,u,l,o,c,d,f,s,p,m,v,b,g=n(r(42)),y=n(r(185)),h=n(r(131)),P=n(r(104)),O=n(r(103)),E=(n(r(74)),n(r(132))),w=(n(r(133)),r(12)),_=r(9);t.DomainRoleStore=(a=(0,P.default)((function e(){(0,O.default)(this,e),(0,h.default)(this,"privilegeDomainRole",i,this),(0,h.default)(this,"domainRolePage",u,this),(0,h.default)(this,"deleteDomainRoleAction",l,this),(0,h.default)(this,"findDomainRoleListAction",o,this),(0,h.default)(this,"findDomainRolePageAction",c,this),(0,h.default)(this,"findDmRolePageByNumber",d,this),(0,h.default)(this,"setDomainRoleAction",f,this),(0,h.default)(this,"createDmRoleUserAction",s,this),(0,h.default)(this,"createBatchDmRoleUserAction",p,this),(0,h.default)(this,"updateDmRoleUserAction",m,this),(0,h.default)(this,"deleteDmRoleUserAction",v,this),(0,h.default)(this,"findDmRoleUserListAction",b,this)})),i=(0,E.default)(a.prototype,"privilegeDomainRole",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,E.default)(a.prototype,"domainRolePage",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{currentPage:1,totalPage:1,totalRecord:1}}}),l=(0,E.default)(a.prototype,"deleteDomainRoleAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){var r;return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,_.Axios.post("/dmRole/deleteDmRole",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=(0,E.default)(a.prototype,"findDomainRoleListAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){var r;return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/dmRole/findDmRoleList",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),c=(0,E.default)(a.prototype,"findDomainRolePageAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(g.default.mark((function t(r){var n;return g.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Axios.post("/dmRole/findDmRolePage",r);case 2:return 0===(n=t.sent).code&&(e.domainRolePage={currentPage:n.data.currentPage,totalPage:n.data.totalPage,totalRecord:n.data.totalRecord},e.privilegeDomainRole=n.data.dataList),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d=(0,E.default)(a.prototype,"findDmRolePageByNumber",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,y.default)(g.default.mark((function t(r){var n;return g.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.Axios.post("/dmRole/findDmRolePageByNumber",r);case 2:return 0===(n=t.sent).code&&(e.domainRolePage={currentPage:n.data.currentPage,totalPage:n.data.totalPage,totalRecord:n.data.totalRecord},e.privilegeDomainRole=n.data.dataList),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f=(0,E.default)(a.prototype,"setDomainRoleAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/dmRole/setdefaultRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,E.default)(a.prototype,"createDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/dmRoleUser/createDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,E.default)(a.prototype,"createBatchDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/dmRoleUser/createBatchDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),m=(0,E.default)(a.prototype,"updateDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/dmRoleUser/updateDmRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),v=(0,E.default)(a.prototype,"deleteDmRoleUserAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){var r;return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,_.Axios.post("/dmRoleUser/deleteDmRoleUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),b=(0,E.default)(a.prototype,"findDmRoleUserListAction",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,y.default)(g.default.mark((function e(t){return g.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Axios.post("/dmRoleUser/findDmRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.PRIVILEGE_DOMAIN_ROLE_STORE="privilegeDomainRoleStore"},419:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectFeatureStore=t.PRIVILEGE_PROJECT_FEATURE_STORE=void 0;var a,i,u,l,o,c,d,f=n(r(256)),s=n(r(131)),p=n(r(104)),m=n(r(103)),v=n(r(74)),b=n(r(132)),g=(n(r(133)),r(12));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.ProjectFeatureStore=(a=(0,p.default)((function e(){(0,m.default)(this,e),(0,s.default)(this,"privilegeProjectTreeData",i,this),(0,s.default)(this,"getDmPrivilegeTree",u,this),(0,s.default)(this,"addDmFeature",l,this),(0,s.default)(this,"addDmChildrenFeature",o,this),(0,s.default)(this,"deleteDmFeature",c,this),(0,s.default)(this,"editDmFeature",d,this)})),i=(0,b.default)(a.prototype,"privilegeProjectTreeData",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,b.default)(a.prototype,"getDmPrivilegeTree",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData=t}}}),l=(0,b.default)(a.prototype,"addDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectTreeData.push(t)}}}),o=(0,b.default)(a.prototype,"addDmChildrenFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeProjectTreeData=e.privilegeProjectTreeData.map((function(e){return e.id===r?h(h({},e),{},{children:[t].concat((0,f.default)(e.children))}):e}))}}}),c=(0,b.default)(a.prototype,"deleteDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id!==t.id&&r.push(h(h({},e),{},{children:[]})),e.children&&e.children.length>0&&n(e.children,r[a].children)}))};n(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),d=(0,b.default)(a.prototype,"editDmFeature",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id===t.id?r.push(h(h(h({},e),t),{},{children:[]})):r.push(h(h({},e),{},{children:[]})),e.children&&r[a].children&&n(e.children,r[a].children)}))};n(e.privilegeProjectTreeData,r),e.privilegeProjectTreeData=r}}}),a),t.PRIVILEGE_PROJECT_FEATURE_STORE="privilegeProjectFeatureStore"},420:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRoleStore=t.SYSTEM_ROLE_STORE=void 0;var a,i,u,l,o,c,d,f,s,p,m,v,b,g,y,h,P,O,E,w,_,R,j,S,k,x,D,I,L,T,M,A,F,C,N=n(r(42)),U=n(r(185)),z=n(r(131)),V=n(r(104)),B=n(r(103)),G=(n(r(74)),n(r(132))),W=(n(r(133)),r(12)),J=r(9);t.SystemRoleStore=(a=(0,V.default)((function e(){(0,B.default)(this,e),(0,z.default)(this,"privilegeLoading",i,this),(0,z.default)(this,"privilegeSystemRole",u,this),(0,z.default)(this,"systemPermissions",l,this),(0,z.default)(this,"rolePage",o,this),(0,z.default)(this,"domainPermissions",c,this),(0,z.default)(this,"clearAllPermissions",d,this),(0,z.default)(this,"findAllList",f,this),(0,z.default)(this,"findRoleUserList",s,this),(0,z.default)(this,"findRoleUserPage",p,this),(0,z.default)(this,"deleteRoleUser",m,this),(0,z.default)(this,"createBatchRoleUser",v,this),(0,z.default)(this,"findRoleUserGroupList",b,this),(0,z.default)(this,"findRoleUserGroupPage",g,this),(0,z.default)(this,"deleteRoleUserGroup",y,this),(0,z.default)(this,"createBatchRoleUserGroup",h,this),(0,z.default)(this,"findRoleOrgaList",P,this),(0,z.default)(this,"findRoleOrgaPage",O,this),(0,z.default)(this,"deleteRoleOrga",E,this),(0,z.default)(this,"createBatchRoleOrga",w,this),(0,z.default)(this,"findOrgaTree",_,this),(0,z.default)(this,"findUserGroupList",R,this),(0,z.default)(this,"findDmUserPage",j,this),(0,z.default)(this,"findUserPage",S,this),(0,z.default)(this,"getInitProjectPermissions",k,this),(0,z.default)(this,"getSystemPermissions",x,this),(0,z.default)(this,"findRolePageAction",D,this),(0,z.default)(this,"findRolePageAndRoleUserNumber",I,this),(0,z.default)(this,"setDefaultRoleAction",L,this),(0,z.default)(this,"deleteRoleAction",T,this),(0,z.default)(this,"deleteRoleUserAction",M,this),(0,z.default)(this,"findRoleUserListAction",A,this),(0,z.default)(this,"createBatchRoleUserAction",F,this),(0,z.default)(this,"findRoleUserCount",C,this)})),i=(0,G.default)(a.prototype,"privilegeLoading",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=(0,G.default)(a.prototype,"privilegeSystemRole",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,G.default)(a.prototype,"systemPermissions",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=(0,G.default)(a.prototype,"rolePage",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{currentPage:1,totalPage:1,totalRecord:1}}}),c=(0,G.default)(a.prototype,"domainPermissions",[W.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=(0,G.default)(a.prototype,"clearAllPermissions",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.systemPermissions=[],e.domainPermissions={}}}}),f=(0,G.default)(a.prototype,"findAllList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,U.default)(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/user/userdir/findAllList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}}),s=(0,G.default)(a.prototype,"findRoleUserList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("roleId",t),e.abrupt("return",J.Axios.post("/role/count/findRoleUserList",r));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,G.default)(a.prototype,"findRoleUserPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/roleUser/findRoleUserPage",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),m=(0,G.default)(a.prototype,"deleteRoleUser",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/roleUser/deleteRoleUser",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),v=(0,G.default)(a.prototype,"createBatchRoleUser",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/roleUser/createBatchRoleUser",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),b=(0,G.default)(a.prototype,"findRoleUserGroupList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/userGroup/findRoleUserGroupList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),g=(0,G.default)(a.prototype,"findRoleUserGroupPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/userGroup/findRoleUserGroupPage",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),y=(0,G.default)(a.prototype,"deleteRoleUserGroup",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/userGroup/deleteRoleUserGroup",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),h=(0,G.default)(a.prototype,"createBatchRoleUserGroup",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/userGroup/createBatchRoleUserGroup",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),P=(0,G.default)(a.prototype,"findRoleOrgaList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/orga/findRoleOrgaList",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),O=(0,G.default)(a.prototype,"findRoleOrgaPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/orga/findRoleOrgaPage",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),E=(0,G.default)(a.prototype,"deleteRoleOrga",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/orga/deleteRoleOrga",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),w=(0,G.default)(a.prototype,"createBatchRoleOrga",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.Axios.post("/role/orga/createBatchRoleOrga",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),_=(0,G.default)(a.prototype,"findOrgaTree",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/user/orga/findOrgaTree",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),R=(0,G.default)(a.prototype,"findUserGroupList",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/usergroup/findUserGroupList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),j=(0,G.default)(a.prototype,"findDmUserPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/dmUser/findDmUserPage",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),S=(0,G.default)(a.prototype,"findUserPage",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/user/user/findUserPage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),k=(0,G.default)(a.prototype,"getInitProjectPermissions",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,U.default)(N.default.mark((function t(r,n){var a,i,u,l=arguments;return N.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.length>2&&void 0!==l[2]&&l[2],!r||!n){t.next=8;break}return i={userId:r,domainId:n,globalPublic:a},u={},(0,J.getUser)()&&(0,J.getUser)().tenant&&(u={tenant:(0,J.getUser)().tenant}),t.next=7,J.Axios.post("/permission/findDomainPermissions",i,u).then((function(t){return t.code||(e.domainPermissions["".concat(r,"_").concat(n)]=t.data),t}));case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),x=(0,G.default)(a.prototype,"getSystemPermissions",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,U.default)(N.default.mark((function t(r){var n,a;return N.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.privilegeLoading=!0,(n=new FormData).append("userId",r),a={},(0,J.getUser)()&&(0,J.getUser)().tenant&&(a={tenant:(0,J.getUser)().tenant}),t.next=7,J.Axios.post("/permission/findPermissions",n,a).then((function(t){return t.code||(e.systemPermissions=t.data),e.privilegeLoading=!1,t}));case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),D=(0,G.default)(a.prototype,"findRolePageAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,U.default)(N.default.mark((function t(r,n){var a;return N.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.Axios.post("/role/findRolePage",r,n);case 2:return 0===(a=t.sent).code&&(e.rolePage={currentPage:a.data.currentPage,totalPage:a.data.totalPage,totalRecord:a.data.totalRecord},e.privilegeSystemRole=a.data.dataList),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),I=(0,G.default)(a.prototype,"findRolePageAndRoleUserNumber",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,U.default)(N.default.mark((function t(r,n){var a;return N.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.Axios.post("/role/findRolePageAndRoleUserNumber",r,n);case 2:return 0===(a=t.sent).code&&(e.rolePage={currentPage:a.data.currentPage,totalPage:a.data.totalPage,totalRecord:a.data.totalRecord},e.privilegeSystemRole=a.data.dataList),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),L=(0,G.default)(a.prototype,"setDefaultRoleAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/role/setdefaultRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),T=(0,G.default)(a.prototype,"deleteRoleAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,J.Axios.post("/role/deleteRole",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),M=(0,G.default)(a.prototype,"deleteRoleUserAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,J.Axios.post("/roleUser/deleteRoleUser",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),A=(0,G.default)(a.prototype,"findRoleUserListAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/roleUser/findRoleUserList",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),F=(0,G.default)(a.prototype,"createBatchRoleUserAction",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.Axios.post("/roleUser/createBatchRoleUser",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),C=(0,G.default)(a.prototype,"findRoleUserCount",[W.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,U.default)(N.default.mark((function e(t){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("roleId",t),e.next=4,J.Axios.post("/role/count/findRoleUserCount",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.SYSTEM_ROLE_STORE="systemRoleStore"},421:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectVirtualRoleStore=t.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE=void 0;var a,i,u,l,o,c=n(r(42)),d=n(r(185)),f=n(r(131)),s=n(r(104)),p=n(r(103)),m=(n(r(74)),n(r(132))),v=(n(r(133)),r(12)),b=r(9);t.ProjectVirtualRoleStore=(a=(0,s.default)((function e(){(0,p.default)(this,e),(0,f.default)(this,"createVRole",i,this),(0,f.default)(this,"updateVRole",u,this),(0,f.default)(this,"deleteVRole",l,this),(0,f.default)(this,"findVRolePage",o,this)})),i=(0,m.default)(a.prototype,"createVRole",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,d.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Axios.post("/vRole/createVRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),u=(0,m.default)(a.prototype,"updateVRole",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,d.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Axios.post("/vRole/updateVRole",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),l=(0,m.default)(a.prototype,"deleteVRole",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,d.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,b.Axios.post("/vRole/deleteVRole",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=(0,m.default)(a.prototype,"findVRolePage",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,d.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Axios.post("/vRole/findVRolePage",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.PRIVILEGE_PROJECT_VIRTUAL_ROLE_STORE="projectVirtualRoleStore"},422:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectRoleStore=t.PRIVILEGE_PROJECT_ROLE_STORE=void 0;var a,i,u,l=n(r(131)),o=n(r(104)),c=n(r(103)),d=(n(r(74)),n(r(132))),f=(n(r(133)),r(12));t.ProjectRoleStore=(a=(0,o.default)((function e(){(0,c.default)(this,e),(0,l.default)(this,"privilegeProjectRole",i,this),(0,l.default)(this,"getProjectRoles",u,this)})),i=(0,d.default)(a.prototype,"privilegeProjectRole",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,d.default)(a.prototype,"getProjectRoles",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeProjectRole=t}}}),a),t.PRIVILEGE_PROJECT_ROLE_STORE="privilegeProjectRoleStore"},423:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.SystemFeatureStore=t.PRIVILEGE_SYSTEM_STORE=void 0;var a,i,u,l,o,c,d,f,s,p=n(r(42)),m=n(r(185)),v=n(r(256)),b=n(r(131)),g=n(r(104)),y=n(r(103)),h=n(r(74)),P=n(r(132)),O=(n(r(133)),r(12)),E=r(9),w=r(258);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.SystemFeatureStore=(a=(0,g.default)((function e(){(0,y.default)(this,e),(0,b.default)(this,"privilegeSystemTreeData",i,this),(0,b.default)(this,"addFeature",u,this),(0,b.default)(this,"addChildrenFeature",l,this),(0,b.default)(this,"deleteFeature",o,this),(0,b.default)(this,"editFeature",c,this),(0,b.default)(this,"getFunctionListListAction",d,this),(0,b.default)(this,"updateFunctionSortAction",f,this),(0,b.default)(this,"deleteFunctionAction",s,this)})),i=(0,P.default)(a.prototype,"privilegeSystemTreeData",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,P.default)(a.prototype,"addFeature",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.privilegeSystemTreeData.push(t)}}}),l=(0,P.default)(a.prototype,"addChildrenFeature",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e.privilegeSystemTreeData=e.privilegeSystemTreeData.map((function(e){return e.id===r?R(R({},e),{},{children:[t].concat((0,v.default)(e.children))}):e}))}}}),o=(0,P.default)(a.prototype,"deleteFeature",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id!==t.id&&r.push(R(R({},e),{},{children:[]})),e.children&&e.children.length>0&&n(e.children,r[a].children)}))};n(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),c=(0,P.default)(a.prototype,"editFeature",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=[],n=function(e,r){e.forEach((function(e,a){e.id===t.id?r.push(R(R(R({},e),t),{},{children:[]})):r.push(R(R({},e),{},{children:[]})),e.children&&r[a].children&&n(e.children,r[a].children)}))};n(e.privilegeSystemTreeData,r),e.privilegeSystemTreeData=r}}}),d=(0,P.default)(a.prototype,"getFunctionListListAction",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,m.default)(p.default.mark((function t(r){var n,a;return p.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.Axios.post("/function/findFunctionList",r);case 2:return(n=t.sent).code||(a=(0,w.handlerFeaterNode)(n.data),e.privilegeSystemTreeData=a),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f=(0,P.default)(a.prototype,"updateFunctionSortAction",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Axios.post("/function/updateFunctionSort",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=(0,P.default)(a.prototype,"deleteFunctionAction",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,m.default)(p.default.mark((function e(t){var r;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("id",t),e.next=4,E.Axios.post("/function/deleteFunction",r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a),t.PRIVILEGE_SYSTEM_STORE="privilegeSystemStore"},424:function(e,t,r){},425:function(e,t,r){},680:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DomainRole",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"NoAccess",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"PrivilegeButton",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"PrivilegeProjectButton",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ProjectFeature",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ProjectNav",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ProjectRole",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ProjectVirtualRole",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SystemFeature",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"SystemNav",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"SystemRole",{enumerable:!0,get:function(){return d.default}});var a=n(r(1038)),i=n(r(181)),u=n(r(180)),l=n(r(1045)),o=n(r(1050)),c=n(r(1053)),d=n(r(951)),f=n(r(1056)),s=n(r(300)),p=n(r(301)),m=n(r(993))},720:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseModal",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BreadCrumb",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Btn",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"EnhanceModal",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ListAction",{enumerable:!0,get:function(){return c.ListAction}}),Object.defineProperty(t,"ListEmpty",{enumerable:!0,get:function(){return c.ListEmpty}}),Object.defineProperty(t,"ListIcon",{enumerable:!0,get:function(){return c.ListIcon}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Profile",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"SearchInput",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"SearchSelect",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"VersionInfo",{enumerable:!0,get:function(){return s.default}});var a=n(r(1039)),i=n(r(1155)),u=n(r(1157)),l=n(r(1159)),o=n(r(1040)),c=r(1161),d=n(r(1167)),f=n(r(1168)),s=n(r(1169)),p=n(r(896))},896:function(e,t,r){"use strict";var n=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(0));r(1171);var i=r(9);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}t.default=function(e){var t=e.config,r=e.visible,n=e.setVisible,u=e.bgroup,l=(0,a.useRef)(null);(0,a.useEffect)((function(){return r&&(window.addEventListener("mousedown",o,!1),window.addEventListener("keydown",c)),function(){window.removeEventListener("mousedown",o,!1),window.removeEventListener("keydown",c)}}),[r]);var o=function(e){l&&(l.current&&l.current.contains(e.target)||n(!1))},c=function(e){"Escape"===e.key&&n(!1)};return a.default.createElement("div",{className:"privilege-enhance-modal ".concat(r?"":"privilege-enhance-modal-hidden")},a.default.createElement("div",{className:"enhance-entrance-modal"},a.default.createElement("div",{className:"enhance-entrance-modal-content"},a.default.createElement("div",{className:"enhance-popup-container",ref:l},a.default.createElement("div",{className:"enhance-title"},null==t?void 0:t.title),a.default.createElement("div",{className:"enhance-fea"},"企业版专属功能"),a.default.createElement("div",{className:"enhance-desc"},null==t?void 0:t.desc),a.default.createElement("div",{className:"enhance-button"},a.default.createElement("div",{className:"enhance-button-contact",onClick:function(){return window.open("https://tiklab.net/contactus")}},"联系客服"),a.default.createElement("div",{className:"enhance-button-update",onClick:function(){return(0,i.applySubscription)(u)}},"升级版本"))))))}},946:function(e,t,r){"use strict";r.r(t)},947:function(e,t,r){"use strict";var n=r(54),a=r(158);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(178);var i=n(r(72));r(155);var u=n(r(44)),l=n(r(74));r(277);var o=n(r(73)),c=n(r(404)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(r(0)),f=n(r(1039)),s=r(403),p=r(9);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.visible,r=e.setVisible,n=e.editData,a=e.setEditData,l=e.roleType,m=e.findRole,v=o.default.useForm(),g=(0,c.default)(v,1)[0],y=(0,s.useTranslation)().t;(0,d.useEffect)((function(){t&&g.setFieldsValue("domain"===l?null==n?void 0:n.role:n)}),[t]);var h=function(){g.resetFields(),r(!1),a(null)};return d.default.createElement(f.default,{visible:t,title:"编辑角色",onCancel:h,onOk:function(){g.validateFields().then((function(e){"domain"===l?p.Axios.post("/dmRole/updateDmRole",b(b({},n),{},{role:b(b({},n.role),e)})).then((function(e){0===e.code&&(0===e.code?(u.default.success("修改成功"),h(),m()):u.default.error(e.msg))})):p.Axios.post("/role/updateRole",b({id:n.id},e)).then((function(e){0===e.code?(u.default.success("修改成功"),h(),m()):u.default.error(e.msg)}))}))}},d.default.createElement(o.default,{form:g,layout:"vertical"},d.default.createElement(o.default.Item,{label:y("privilege-role.roleName"),name:"name",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},d.default.createElement(i.default,{placeholder:y("privilege-role.roleName")})),d.default.createElement(o.default.Item,{label:y("privilege-desc"),name:"desc"},d.default.createElement(i.default,{placeholder:y("privilege-desc")}))))}},951:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1179));t.default=a.default},993:function(e,t,r){"use strict";var n=r(54);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1145));t.default=a.default}}]);