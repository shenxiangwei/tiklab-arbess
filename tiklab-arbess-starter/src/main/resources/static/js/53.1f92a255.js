(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1295:function(e,r,t){"use strict";t.r(r);t(515);var n=t(517),a=(t(516),t(518)),l=(t(514),t(513)),u=(t(255),t(151)),m=(t(256),t(170)),o=t(0),i=t.n(o),c=t(705),s=t(586),f=t(260),b=t(267),N=t(595),d=t(155),p=t(616),_=t(629),y=t(589),g=t(884),v=t(572);t(633);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/configure/host/component/Host.js";function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){w(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function w(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==h(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function P(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,u,m=[],o=!0,i=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(m.push(n.value),m.length!==r);o=!0);}catch(e){i=!0,a=e}finally{try{if(!o&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(i)throw a}}return m}}(e,r)||function(e,r){if(e){if("string"==typeof e)return S(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}r.default=function(e){var r=c.a.findAuthHostPage,t=c.a.deleteAuthHost,h=P(Object(o.useState)(!1),2),O=h[0],w=h[1],S=P(Object(o.useState)(null),2),k=S[0],I=S[1],A=P(Object(o.useState)({}),2),x=A[0],T=A[1],C={pageSize:13,currentPage:1},V=P(Object(o.useState)({pageParam:C}),2),F=V[0],U=V[1];Object(o.useEffect)((function(){D()}),[F]);var D=function(){r(F).then((function(e){0===e.code&&T(e.data)}))},H=function(e){U(j(j({},F),{},{pageParam:{pageSize:13,currentPage:e}}))},q=[{title:"名称",dataIndex:"name",key:"name",width:"18%",ellipsis:!0,render:function(e){return i.a.createElement("span",{__source:{fileName:E,lineNumber:126,columnNumber:21}},i.a.createElement(b.a,{text:e,__source:{fileName:E,lineNumber:127,columnNumber:25}}),i.a.createElement("span",{__source:{fileName:E,lineNumber:128,columnNumber:25}},e))}},{title:"IP地址",dataIndex:"ip",key:"ip",width:"15%",ellipsis:!0},{title:"端口",dataIndex:"port",key:"port",width:"8%",ellipsis:!0},{title:"认证类型",dataIndex:"authType",key:"authType",width:"18%",ellipsis:!0,render:function(e){return 1===e?"username&password":"私钥"}},{title:"创建人",dataIndex:["user","nickname"],key:"user",width:"13%",ellipsis:!0,render:function(e,r){return i.a.createElement(m.default,{__source:{fileName:E,lineNumber:162,columnNumber:25}},i.a.createElement(d.a,{userInfo:r.user,__source:{fileName:E,lineNumber:163,columnNumber:29}}),e)}},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"20%",ellipsis:!0},{title:"操作",dataIndex:"action",key:"action",width:"8%",ellipsis:!0,render:function(e,r){return i.a.createElement(N.a,{edit:function(){return function(e){w(!0),I(e)}(r)},del:function(){return function(e){t(e.hostId).then((function(e){if(0===e.code){var r=Object(v.d)(x.totalRecord,13,F.pageParam.currentPage);H(r)}}))}(r)},isMore:!0,__source:{fileName:E,lineNumber:183,columnNumber:21}})}}];return i.a.createElement(n.default,{className:"auth",__source:{fileName:E,lineNumber:194,columnNumber:9}},i.a.createElement(a.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"22",offset:"1"},xxl:{span:"18",offset:"3"},__source:{fileName:E,lineNumber:195,columnNumber:13}},i.a.createElement("div",{className:"arbess-home-limited",__source:{fileName:E,lineNumber:203,columnNumber:17}},i.a.createElement(s.a,{crumbs:[{title:"主机"}],__source:{fileName:E,lineNumber:204,columnNumber:21}},i.a.createElement(g.a,{visible:O,setVisible:w,formValue:k,setFormValue:I,findAuth:D,__source:{fileName:E,lineNumber:209,columnNumber:25}})),i.a.createElement("div",{className:"auth-select",__source:{fileName:E,lineNumber:217,columnNumber:21}},i.a.createElement(p.a,{placeholder:"搜索名称、IP地址",style:{width:190},onPressEnter:function(e){U(j(j({},F),{},{pageParam:C,name:e.target.value}))},__source:{fileName:E,lineNumber:218,columnNumber:25}}),i.a.createElement(_.a,{placeholder:"主机类型",style:{width:150},onChange:function(e){U(j(j({},F),{},{pageParam:C,type:e}))},__source:{fileName:E,lineNumber:223,columnNumber:25}},i.a.createElement(u.default.Option,{value:null,__source:{fileName:E,lineNumber:228,columnNumber:29}},"全部"),i.a.createElement(u.default.Option,{value:"common",__source:{fileName:E,lineNumber:229,columnNumber:29}},"普通主机"),i.a.createElement(u.default.Option,{value:"aliyun",__source:{fileName:E,lineNumber:230,columnNumber:29}},"阿里云主机"),i.a.createElement(u.default.Option,{value:"tencent",__source:{fileName:E,lineNumber:231,columnNumber:29}},"腾讯云主机"))),i.a.createElement("div",{className:"auth-content",__source:{fileName:E,lineNumber:234,columnNumber:21}},i.a.createElement(l.default,{columns:q,dataSource:(null==x?void 0:x.dataList)||[],rowKey:function(e){return e.hostId},pagination:!1,locale:{emptyText:i.a.createElement(f.a,{__source:{fileName:E,lineNumber:240,columnNumber:49}})},__source:{fileName:E,lineNumber:235,columnNumber:25}}),i.a.createElement(y.a,{currentPage:F.pageParam.currentPage,changPage:H,page:x,__source:{fileName:E,lineNumber:242,columnNumber:25}})))))}},586:function(e,r,t){"use strict";t(256);var n=t(170),a=t(0),l=t.n(a),u=t(117),m="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/breadcrumb/BreadCrumb.js";r.a=function(e){var r=e.crumbs,t=void 0===r?[]:r,a=e.children;return l.a.createElement("div",{className:"arbess-breadcrumb",__source:{fileName:m,lineNumber:16,columnNumber:9}},l.a.createElement(n.default,{__source:{fileName:m,lineNumber:17,columnNumber:13}},t.map((function(e,r){var n=e.title,a=void 0===n?null:n,o=e.click,i=t.length-1===r;return l.a.createElement(l.a.Fragment,{key:r,__source:{fileName:m,lineNumber:23,columnNumber:29}},l.a.createElement("span",{key:r,className:o?"arbess-breadcrumb-first":"",onClick:o,__source:{fileName:m,lineNumber:24,columnNumber:33}},o&&0===r&&l.a.createElement(u.default,{style:{marginRight:8},__source:{fileName:m,lineNumber:25,columnNumber:60}}),l.a.createElement("span",{className:i?"":"arbess-breadcrumb-span",__source:{fileName:m,lineNumber:26,columnNumber:37}},a)),!i&&l.a.createElement("span",{__source:{fileName:m,lineNumber:30,columnNumber:46}}," /  "))}))),l.a.createElement("div",{__source:{fileName:m,lineNumber:36,columnNumber:13}},a))}},592:function(e,r,t){"use strict";r.a=t.p+"images/pie_more.svg"},595:function(e,r,t){"use strict";t(262);var n=t(126),a=(t(263),t(172)),l=(t(152),t(48)),u=t(0),m=t.n(u),o=t(176),i=t(592),c="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/list/ListAction.js";r.a=function(e){var r=e.edit,t=e.del,u=e.isMore,s=void 0!==u&&u;return m.a.createElement("span",{className:"arbess-listAction",__source:{fileName:c,lineNumber:19,columnNumber:9}},"function"==typeof r&&m.a.createElement(l.default,{titsle:"修改",__source:{fileName:c,lineNumber:22,columnNumber:17}},m.a.createElement("span",{onClick:r,className:"arbess-listAction-edit",__source:{fileName:c,lineNumber:23,columnNumber:21}},m.a.createElement(o.default,{__source:{fileName:c,lineNumber:24,columnNumber:25}}))),s&&m.a.createElement(n.default,{overlay:m.a.createElement("div",{className:"arbess-dropdown-more",__source:{fileName:c,lineNumber:32,columnNumber:25}},e.children,"function"==typeof t&&m.a.createElement("div",{className:"dropdown-more-item",onClick:function(){a.default.confirm({title:"确定删除吗？",content:m.a.createElement("span",{style:{color:"#f81111"},__source:{fileName:c,lineNumber:39,columnNumber:50}},"删除后无法恢复！"),okText:"确认",cancelText:"取消",onOk:function(){t()},onCancel:function(){}})},__source:{fileName:c,lineNumber:36,columnNumber:33}},"删除")),trigger:["click"],placement:"bottomRight",__source:{fileName:c,lineNumber:30,columnNumber:17}},m.a.createElement(l.default,{title:"更多",__source:{fileName:c,lineNumber:55,columnNumber:21}},m.a.createElement("span",{className:"arbess-listAction-more",__source:{fileName:c,lineNumber:56,columnNumber:25}},m.a.createElement("img",{src:i.a,width:18,alt:"更多",__source:{fileName:c,lineNumber:57,columnNumber:29}})))))}},629:function(e,r,t){"use strict";t(255);var n=t(151),a=t(0),l=t.n(a),u=t(180),m=(t(600),"/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/search/SearchSelect.js"),o=["children"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(null,arguments)}r.a=function(e){var r=e.children,t=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,o);return l.a.createElement("div",{className:"arbess-search-select",__source:{fileName:m,lineNumber:18,columnNumber:9}},l.a.createElement(n.default,i({},t,{bordered:!1,suffixIcon:l.a.createElement(u.default,{__source:{fileName:m,lineNumber:22,columnNumber:29}}),className:"".concat(t.className),__source:{fileName:m,lineNumber:19,columnNumber:13}}),r))}},633:function(e,r,t){},676:function(e,r,t){"use strict";t(235);var n=t(92),a=(t(257),t(71)),l=(t(255),t(151)),u=t(0),m=t.n(u),o="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/common/AuthType.js";r.a=function(e){return m.a.createElement(m.a.Fragment,null,m.a.createElement(a.default.Item,{label:"认证类型",name:"authType",__source:{fileName:o,lineNumber:15,columnNumber:13}},m.a.createElement(l.default,{placeholder:"认证类型",__source:{fileName:o,lineNumber:16,columnNumber:17}},m.a.createElement(l.default.Option,{value:1,__source:{fileName:o,lineNumber:17,columnNumber:21}},"username&password"),m.a.createElement(l.default.Option,{value:2,__source:{fileName:o,lineNumber:18,columnNumber:21}},"私钥"))),m.a.createElement(a.default.Item,{shouldUpdate:function(e,r){return e.authType!==r.authType},__source:{fileName:o,lineNumber:21,columnNumber:13}},(function(e){return 1===(0,e.getFieldValue)("authType")?m.a.createElement(m.a.Fragment,null,m.a.createElement(a.default.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}],__source:{fileName:o,lineNumber:27,columnNumber:29}},m.a.createElement(n.default,{placeholder:"用户名",__source:{fileName:o,lineNumber:31,columnNumber:30}})),m.a.createElement(a.default.Item,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}],__source:{fileName:o,lineNumber:33,columnNumber:29}},m.a.createElement(n.default.Password,{placeholder:"密码",__source:{fileName:o,lineNumber:37,columnNumber:30}}))):m.a.createElement(a.default.Item,{label:"私钥",name:"privateKey",rules:[{required:!0,message:"请输入私钥"}],__source:{fileName:o,lineNumber:41,columnNumber:25}},m.a.createElement(n.default.TextArea,{autoSize:{minRows:2,maxRows:8},placeholder:"私钥",__source:{fileName:o,lineNumber:45,columnNumber:26}}))})))}},884:function(e,r,t){"use strict";var n=t(0),a=t.n(n),l=t(153),u=(t(152),t(48)),m=(t(235),t(92)),o=(t(255),t(151)),i=(t(257),t(71)),c=t(187),s=t(705),f=t(676),b=t(572),N=t(265);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/configure/host/component/HostModal.js";function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==d(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function g(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,u,m=[],o=!0,i=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(m.push(n.value),m.length!==r);o=!0);}catch(e){i=!0,a=e}finally{try{if(!o&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(i)throw a}}return m}}(e,r)||function(e,r){if(e){if("string"==typeof e)return v(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var h=function(e){var r=e.visible,t=e.setVisible,l=e.formValue,d=e.findAuth,v=s.a.createAuthHost,h=s.a.updateAuthHost,E=g(i.default.useForm(),1)[0],O=g(Object(n.useState)("common"),2),j=(O[0],O[1]);Object(n.useEffect)((function(){r&&E.setFieldsValue(l)}),[r]);var w=function(){E.resetFields(),t(!1)};return a.a.createElement(N.a,{visible:r,onCancel:w,onOk:function(){E.validateFields().then((function(e){if(l){var r=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({hostId:l.hostId},e);h(r).then((function(e){0===e.code&&d()}))}else v(e).then((function(e){0===e.code&&d()}));w()}))},title:l?"修改":"添加",__source:{fileName:p,lineNumber:75,columnNumber:9}},a.a.createElement("div",{className:"resources-modal",__source:{fileName:p,lineNumber:81,columnNumber:13}},a.a.createElement(i.default,{form:E,layout:"vertical",autoComplete:"off",initialValues:{type:"common",authWay:1,authType:1},__source:{fileName:p,lineNumber:82,columnNumber:17}},a.a.createElement(i.default.Item,{name:"type",label:"授权类型",__source:{fileName:p,lineNumber:88,columnNumber:21}},a.a.createElement(o.default,{onChange:function(e){j(e)},disabled:!0,placeholder:"授权类型",__source:{fileName:p,lineNumber:89,columnNumber:25}},a.a.createElement(o.default.Option,{value:"common",__source:{fileName:p,lineNumber:95,columnNumber:29}},"普通"),a.a.createElement(o.default.Option,{value:"aliyun",__source:{fileName:p,lineNumber:96,columnNumber:29}},"aliyun"),a.a.createElement(o.default.Option,{value:"tencent",__source:{fileName:p,lineNumber:97,columnNumber:29}},"腾讯云主机"))),a.a.createElement(i.default.Item,{name:"name",label:"名称",rules:[{required:!0,message:"名称不能空"},Object(b.a)("名称")],__source:{fileName:p,lineNumber:100,columnNumber:21}},a.a.createElement(m.default,{placeholder:"名称",__source:{fileName:p,lineNumber:105,columnNumber:25}})),a.a.createElement(i.default.Item,{label:a.a.createElement(a.a.Fragment,null,"Ip地址",a.a.createElement(u.default,{title:"Ip地址",__source:{fileName:p,lineNumber:108,columnNumber:38}},a.a.createElement(c.a,{style:{paddingLeft:5,cursor:"pointer"},__source:{fileName:p,lineNumber:109,columnNumber:29}}))),name:"ip",rules:[{required:!0,message:"Ip地址不能为空"},{pattern:/^((25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)\.){3}(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)$/,message:"请输入正确的Ip地址"}],__source:{fileName:p,lineNumber:107,columnNumber:21}},a.a.createElement(m.default,{placeholder:"Ip地址",__source:{fileName:p,lineNumber:120,columnNumber:25}})),a.a.createElement(i.default.Item,{label:"端口",name:"port",rules:[{required:!0,message:"端口不能为空"},{pattern:/^[0-9]*$/,message:"端口只包含整数"}],__source:{fileName:p,lineNumber:122,columnNumber:21}},a.a.createElement(m.default,{placeholder:"端口",__source:{fileName:p,lineNumber:132,columnNumber:25}})),a.a.createElement(f.a,{__source:{fileName:p,lineNumber:134,columnNumber:21}}))))},E="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/configure/host/component/HostAddBtn.js";r.a=function(e){var r=e.isConfig,t=e.visible,n=e.setVisible,u=e.formValue,m=e.setFormValue,o=e.findAuth;return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{onClick:function(){n(!0),u&&m(null)},type:r?"row":"primary",title:r?"添加":"添加主机",__source:{fileName:E,lineNumber:29,columnNumber:13}}),a.a.createElement(h,{visible:t,setVisible:n,formValue:u||null,findAuth:o,__source:{fileName:E,lineNumber:35,columnNumber:13}}))}}}]);