(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1122:function(e,t,r){"use strict";r(179);var n=r(102),i=(r(178),r(72)),o=r(0),u=r.n(o),a=r(282),l=r(76),c=r(646),f="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/pipeline/pipeline/components/PipelineDelete.js";function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,u,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.delVisible,r=e.setDelVisible,s=e.pipeline,b=e.changPage,p=e.page,d=l.a.deletePipeline,v=m(Object(o.useState)(""),2),y=v[0],N=v[1],h=m(Object(o.useState)(null),2),g=h[0],w=h[1],_=m(Object(o.useState)(!1),2),O=_[0],E=_[1],j=function(){O||(E(!1),r(!1),N(""),w(null))};return u.a.createElement(a.a,{visible:t,onCancel:j,onOk:function(){O||(""!==y.trim()&&y===s.name?(E(!0),d(s.id).then((function(){if(j(),"function"==typeof b){var t=Object(c.d)(p.totalRecord,15,p.currentPage);b(t)}else e.history.push("/pipeline")}))):w("流水线名称错误"))},title:"删除流水线",okText:"确认删除",okType:"dangerous",__source:{fileName:f,lineNumber:64,columnNumber:9}},u.a.createElement(n.default,{spinning:O,tip:"删除中...",__source:{fileName:f,lineNumber:72,columnNumber:13}},u.a.createElement("div",{className:"pipelineReDel-modal",__source:{fileName:f,lineNumber:73,columnNumber:17}},u.a.createElement("div",{className:"pipelineReDel-modal-warn",__source:{fileName:f,lineNumber:74,columnNumber:21}},"危险：流水线删除无法恢复！请慎重操作！"),u.a.createElement("div",{className:"pipelineReDel-modal-warn",__source:{fileName:f,lineNumber:75,columnNumber:21}},u.a.createElement("div",{__source:{fileName:f,lineNumber:76,columnNumber:25}},"该操作将永久删除流水线",u.a.createElement("span",{className:"warn-pipeline",__source:{fileName:f,lineNumber:76,columnNumber:41}}," ",null==s?void 0:s.name," "),"的相关数据，包括（配置、历史、制品）等。"),u.a.createElement("div",{className:"warn-continue",__source:{fileName:f,lineNumber:77,columnNumber:25}},"为防止意外，确认继续操作请输入以下内容："),u.a.createElement("div",{className:"warn-pipeline-title",__source:{fileName:f,lineNumber:78,columnNumber:25}},null==s?void 0:s.name)),u.a.createElement("div",{className:"pipelineReDel-modal-input",__source:{fileName:f,lineNumber:80,columnNumber:21}},u.a.createElement(i.default,{className:"".concat(g?"inputs-error":""),placeholder:"请输入提示内容以确认继续操作",onChange:function(e){return N(e.target.value)},value:y,__source:{fileName:f,lineNumber:81,columnNumber:25}})),u.a.createElement("div",{className:"pipelineReDel-modal-error",__source:{fileName:f,lineNumber:88,columnNumber:21}},g))))}},401:function(e,t,r){"use strict";function n(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function i(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function o(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return i(r.overflowY,t)||i(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function u(e,t,r,n,i,o,u,a){return o<e&&u>t||o>e&&u<t?0:o<=e&&a<=r||u>=t&&a>=r?o-e-n:u>t&&a<r||o<e&&a>r?u-t+i:0}var a=function(e,t){var r=window,i=t.scrollMode,a=t.block,l=t.inline,c=t.boundary,f=t.skipOverflowHiddenElements,m="function"==typeof c?c:function(e){return e!==c};if(!n(e))throw new TypeError("Invalid target");for(var s,b,p=document.scrollingElement||document.documentElement,d=[],v=e;n(v)&&m(v);){if((v=null==(b=(s=v).parentElement)?s.getRootNode().host||null:b)===p){d.push(v);break}null!=v&&v===document.body&&o(v)&&!o(document.documentElement)||null!=v&&o(v,f)&&d.push(v)}for(var y=r.visualViewport?r.visualViewport.width:innerWidth,N=r.visualViewport?r.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),_=w.height,O=w.width,E=w.top,j=w.right,S=w.bottom,P=w.left,k="start"===a||"nearest"===a?E:"end"===a?S:E+_/2,A="center"===l?P+O/2:"end"===l?j:P,I=[],T=0;T<d.length;T++){var x=d[T],C=x.getBoundingClientRect(),D=C.height,z=C.width,G=C.top,L=C.right,F=C.bottom,H=C.left;if("if-needed"===i&&E>=0&&P>=0&&S<=N&&j<=y&&E>=G&&S<=F&&P>=H&&j<=L)return I;var U=getComputedStyle(x),R=parseInt(U.borderLeftWidth,10),M=parseInt(U.borderTopWidth,10),V=parseInt(U.borderRightWidth,10),W=parseInt(U.borderBottomWidth,10),Y=0,B=0,$="offsetWidth"in x?x.offsetWidth-x.clientWidth-R-V:0,K="offsetHeight"in x?x.offsetHeight-x.clientHeight-M-W:0,X="offsetWidth"in x?0===x.offsetWidth?0:z/x.offsetWidth:0,J="offsetHeight"in x?0===x.offsetHeight?0:D/x.offsetHeight:0;if(p===x)Y="start"===a?k:"end"===a?k-N:"nearest"===a?u(g,g+N,N,M,W,g+k,g+k+_,_):k-N/2,B="start"===l?A:"center"===l?A-y/2:"end"===l?A-y:u(h,h+y,y,R,V,h+A,h+A+O,O),Y=Math.max(0,Y+g),B=Math.max(0,B+h);else{Y="start"===a?k-G-M:"end"===a?k-F+W+K:"nearest"===a?u(G,F,D,M,W+K,k,k+_,_):k-(G+D/2)+K/2,B="start"===l?A-H-R:"center"===l?A-(H+z/2)+$/2:"end"===l?A-L+V+$:u(H,L,z,R,V+$,A,A+O,O);var q=x.scrollLeft,Z=x.scrollTop;k+=Z-(Y=Math.max(0,Math.min(Z+Y/J,x.scrollHeight-D/J+K))),A+=q-(B=Math.max(0,Math.min(q+B/X,x.scrollWidth-z/X+$)))}I.push({el:x,top:Y,left:B})}return I};function l(e){return e===Object(e)&&0!==Object.keys(e).length}t.a=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(r?a(e,t):[]);if(r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,i=e.top,o=e.left;n.scroll&&r?n.scroll({top:i,left:o,behavior:t}):(n.scrollTop=i,n.scrollLeft=o)}))}(a(e,n),n.behavior)}}},646:function(e,t,r){"use strict";r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return m})),r.d(t,"b",(function(){return s})),r.d(t,"g",(function(){return b})),r.d(t,"e",(function(){return p}));r(155);var n=r(44),i=r(117),o=r.n(i),u=(o()().format("YYYY-MM-DD HH:mm:ss"),o()().format("HH:mm"),function(e){for(var t=window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var n=t[r].split("=");if(n[0]===e)return n[1]}return!1}),a=function(e){return{pattern:/^(?=.*\S).+$/,message:"请输入有效内容"}},l=function(e,t,r){return e>=r*t?r:e<=(r-1)*t+1?1===r?1:r-1:r};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=0;return function(){for(var n=this,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];r&&clearTimeout(r),r=setTimeout((function(){return e.apply(n,o)}),t)}}function f(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=!1,i=function(){return setTimeout((function(){n=!1,t=null}),r)};return function(){if(t||n)n=!0;else{for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];e.apply(this,o)}t&&clearTimeout(t),t=i()}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?f(e,t):c(e,t)}var s=function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",e),t.select(),document.execCommand("Copy"),n.default.success("复制成功"),t.remove()};function b(e){if(!e||e.length<=3)return e;var t=e.slice(0,2),r=e.slice(-1);return"".concat(t,"******").concat(r)}function p(e){if(e<1e3)return e.toString();if(e<1e4){var t=Math.floor(e/1e3);return"".concat(t,"k+")}var r=Math.floor(e/1e4);return"".concat(r,"w+")}},663:function(e,t,r){"use strict";r(275);var n=r(177),i=r(0),o=r.n(i),u=r(120),a="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/breadcrumb/BreadCrumb.js";t.a=function(e){var t=e.crumbs,r=void 0===t?[]:t,i=e.children;return o.a.createElement("div",{className:"arbess-breadcrumb",__source:{fileName:a,lineNumber:16,columnNumber:9}},o.a.createElement(n.default,{__source:{fileName:a,lineNumber:17,columnNumber:13}},r.map((function(e,t){var n=e.title,i=void 0===n?null:n,l=e.click,c=r.length-1===t;return o.a.createElement(o.a.Fragment,{key:t,__source:{fileName:a,lineNumber:23,columnNumber:29}},o.a.createElement("span",{key:t,className:l?"arbess-breadcrumb-first":"",onClick:l,__source:{fileName:a,lineNumber:24,columnNumber:33}},l&&0===t&&o.a.createElement(u.default,{style:{marginRight:8},__source:{fileName:a,lineNumber:25,columnNumber:60}}),o.a.createElement("span",{className:c?"":"arbess-breadcrumb-span",__source:{fileName:a,lineNumber:26,columnNumber:37}},i)),!c&&o.a.createElement("span",{__source:{fileName:a,lineNumber:30,columnNumber:46}}," /  "))}))),o.a.createElement("div",{__source:{fileName:a,lineNumber:36,columnNumber:13}},i))}},675:function(e,t,r){var n={"./es":655,"./es-do":656,"./es-do.js":656,"./es-mx":657,"./es-mx.js":657,"./es-us":658,"./es-us.js":658,"./es.js":655,"./zh-cn":659,"./zh-cn.js":659};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=675},841:function(e,t,r){"use strict";r(155);var n,i,o,u,a,l,c=r(44),f=r(12),m=r(9);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof a?n:a,c=Object.create(l.prototype);return p(c,"_invoke",function(r,n,i){var o,a,l,c=0,f=i||[],m=!1,s={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,r){return o=t,a=0,l=e,s.n=r,u}};function b(r,n){for(a=r,l=n,t=0;!m&&c&&!i&&t<f.length;t++){var i,o=f[t],b=s.p,p=o[2];r>3?(i=p===n)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=b&&((i=r<2&&b<o[1])?(a=0,s.v=n,s.n=o[1]):b<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,s.n=p,a=0))}if(i||r>1)return u;throw m=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(m&&1===f&&b(f,p),a=f,l=p;(t=a<2?e:l)||!m;){o||(a?a<3?(a>1&&(s.n=-1),b(a,l)):s.n=l:s.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(m=s.n<0)?l:r.call(n,s))!==u)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:m}}}(r,i,o),!0),c}var u={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(p(t={},n,(function(){return this})),t),m=c.prototype=a.prototype=Object.create(f);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,p(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=c,p(m,"constructor",c),p(c,"constructor",l),l.displayName="GeneratorFunction",p(c,i,"GeneratorFunction"),p(m),p(m,i,"Generator"),p(m,n,(function(){return this})),p(m,"toString",(function(){return"[object Generator]"})),(b=function(){return{w:o,m:s}})()}function p(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(p=function(e,t,r,n){function o(t,r){p(e,t,(function(e){return this._invoke(t,r,e)}))}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))})(e,t,r,n)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r,n,i,o,u){try{var a=e[o](u),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,i)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){y(o,n,i,u,a,"next",e)}function a(e){y(o,n,i,u,a,"throw",e)}u(void 0)}))}}function h(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function w(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function E(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var j=(i=E((n=w((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"createEnv",i,this),h(this,"deleteEnv",o,this),h(this,"updateEnv",u,this),h(this,"findEnvList",a,this),h(this,"findEnvPage",l,this)}))).prototype,"createEnv",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){var r,n;return b().w((function(e){for(;;)switch(e.n){case 0:return r=v({user:{id:Object(m.getUser)().userId}},t),e.n=1,m.Axios.post("/env/createEnv",r);case 1:return 0===(n=e.v).code?c.default.success("添加成功"):c.default.error("添加失败"),e.a(2,n)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=E(n.prototype,"deleteEnv",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){var r,n;return b().w((function(e){for(;;)switch(e.n){case 0:return(r=new FormData).append("envId",t),e.n=1,m.Axios.post("/env/deleteEnv",r);case 1:return 0===(n=e.v).code?c.default.success("删除成功"):c.default.error("删除失败"),e.a(2,n)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),u=E(n.prototype,"updateEnv",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){var r;return b().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.Axios.post("/env/updateEnv",t);case 1:return 0===(r=e.v).code?c.default.success("修改成功"):c.default.error("修改失败"),e.a(2,r)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a=E(n.prototype,"findEnvList",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N(b().m((function e(){return b().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.Axios.post("/env/findEnvList",{});case 1:return e.a(2,e.v)}}),e)})))}}),l=E(n.prototype,"findEnvPage",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){return b().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.Axios.post("/env/findEnvPage",t);case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),n);t.a=new j},842:function(e,t,r){"use strict";r(155);var n,i,o,u,a,l,c=r(44),f=r(12),m=r(9);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof a?n:a,c=Object.create(l.prototype);return p(c,"_invoke",function(r,n,i){var o,a,l,c=0,f=i||[],m=!1,s={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,r){return o=t,a=0,l=e,s.n=r,u}};function b(r,n){for(a=r,l=n,t=0;!m&&c&&!i&&t<f.length;t++){var i,o=f[t],b=s.p,p=o[2];r>3?(i=p===n)&&(l=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=b&&((i=r<2&&b<o[1])?(a=0,s.v=n,s.n=o[1]):b<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,s.n=p,a=0))}if(i||r>1)return u;throw m=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(m&&1===f&&b(f,p),a=f,l=p;(t=a<2?e:l)||!m;){o||(a?a<3?(a>1&&(s.n=-1),b(a,l)):s.n=l:s.v=l);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(m=s.n<0)?l:r.call(n,s))!==u)break}catch(t){o=e,a=1,l=t}finally{c=1}}return{value:t,done:m}}}(r,i,o),!0),c}var u={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(p(t={},n,(function(){return this})),t),m=c.prototype=a.prototype=Object.create(f);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,p(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=c,p(m,"constructor",c),p(c,"constructor",l),l.displayName="GeneratorFunction",p(c,i,"GeneratorFunction"),p(m),p(m,i,"Generator"),p(m,n,(function(){return this})),p(m,"toString",(function(){return"[object Generator]"})),(b=function(){return{w:o,m:s}})()}function p(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(p=function(e,t,r,n){function o(t,r){p(e,t,(function(e){return this._invoke(t,r,e)}))}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))})(e,t,r,n)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r,n,i,o,u){try{var a=e[o](u),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,i)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){y(o,n,i,u,a,"next",e)}function a(e){y(o,n,i,u,a,"throw",e)}u(void 0)}))}}function h(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function w(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function E(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}var j=(i=E((n=w((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"createGroup",i,this),h(this,"deleteGroup",o,this),h(this,"updateGroup",u,this),h(this,"findGroupList",a,this),h(this,"findGroupPage",l,this)}))).prototype,"createGroup",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){var r,n;return b().w((function(e){for(;;)switch(e.n){case 0:return r=v({user:{id:Object(m.getUser)().userId}},t),e.n=1,m.Axios.post("/group/createGroup",r);case 1:return 0===(n=e.v).code?c.default.success("添加成功"):c.default.error("添加失败"),e.a(2,n)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),o=E(n.prototype,"deleteGroup",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){var r,n;return b().w((function(e){for(;;)switch(e.n){case 0:return(r=new FormData).append("groupId",t),e.n=1,m.Axios.post("/group/deleteGroup",r);case 1:return 0===(n=e.v).code?c.default.success("删除成功"):c.default.error("删除失败"),e.a(2,n)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),u=E(n.prototype,"updateGroup",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){var r;return b().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.Axios.post("/group/updateGroup",t);case 1:return 0===(r=e.v).code?c.default.success("修改成功"):c.default.error("修改失败"),e.a(2,r)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),a=E(n.prototype,"findGroupList",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N(b().m((function e(){return b().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.Axios.post("/group/findGroupList",{});case 1:return e.a(2,e.v)}}),e)})))}}),l=E(n.prototype,"findGroupPage",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=N(b().m((function e(t){return b().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.Axios.post("/group/findGroupPage",t);case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),n);t.a=new j},982:function(e,t,r){"use strict";r(400);var n=r(276),i=(r(279),r(130)),o=(r(280),r(180)),u=r.n(o),a=(r(178),r(72)),l=(r(157),r(48)),c=(r(274),r(156)),f=(r(275),r(177)),m=(r(277),r(73)),s=r(0),b=r.n(s),p=r(356),d=r(357),v=r(189),y=r(39),N=r(9),h=r(182),g=r(115),w=r(116),_=r(283),O=r(184);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/pipeline/pipeline/components/PipelineUserAdd.js";function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,u,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=e.setVisible,r=e.yUserList,i=e.setYUserList,o=e.pipelineStore.findUserPage,u=I(Object(s.useState)([]),2),a=u[0],l=u[1],c=I(Object(s.useState)([]),2),f=c[0],m=c[1],p=I(Object(s.useState)([]),2),d=p[0],v=p[1],y=I(Object(s.useState)({pageSize:5,currentPage:1}),1)[0],N=I(Object(s.useState)({pageParam:y}),2),h=N[0],E=N[1],S=I(Object(s.useState)({}),2),k=S[0],T=S[1];Object(s.useEffect)((function(){x()}),[h]);var x=function(){o(h).then((function(e){var t;0===e.code&&(m((null===(t=e.data)||void 0===t?void 0:t.dataList)||[]),T({currentPage:e.data.currentPage,totalPage:e.data.totalPage,totalRecord:e.data.totalRecord}))}))},C=function(e){return r&&r.some((function(t){return t.id===e.id}))},D=function(e){if(!C(e)){var t=e.id,r=A(d),n=A(a),i=r.indexOf(t);if(i>=0){r.splice(i,1);var o=n.findIndex((function(e){return e.id===t}));o>=0&&n.splice(o,1)}else r.push(t),n.push(P(P({},e),{},{roleType:0}));v(r),l(n)}},z={onSelectAll:function(e,t,r){var n,i,o=r.map((function(e){return e&&e.id})).filter(Boolean),u=r.map((function(e){return P(P({},e),{},{roleType:0})})).filter(Boolean);e?(n=Array.from(new Set([].concat(A(d),A(o)))),i=Array.from(new Set([].concat(A(a),A(u))))):(n=d.filter((function(e){return!o.includes(e)})),i=a.filter((function(e){return!o.includes(e.id)}))),v(n),l(i)},onSelect:function(e){D(e)},getCheckboxProps:function(e){return{disabled:C(e)}},selectedRowKeys:d};return b.a.createElement("div",{className:"pipeline-user-add",__source:{fileName:j,lineNumber:168,columnNumber:9}},b.a.createElement(O.a,{placeholder:"搜索姓名",onPressEnter:function(e){E({pageParam:y,nickname:e.target.value})},__source:{fileName:j,lineNumber:169,columnNumber:13}}),b.a.createElement("div",{className:"pipeline-user-add-table",__source:{fileName:j,lineNumber:173,columnNumber:13}},b.a.createElement(n.default,{rowKey:function(e){return e.id},rowSelection:z,onRow:function(e){return{onClick:function(){return D(e)}}},columns:[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"100%",ellipsis:!0}],dataSource:f,pagination:!1,locale:{emptyText:b.a.createElement(w.a,{__source:{fileName:j,lineNumber:189,columnNumber:41}})},__source:{fileName:j,lineNumber:174,columnNumber:17}}),b.a.createElement(_.a,{currentPage:h.pageParam.currentPage,changPage:function(e){E(P(P({},h),{},{pageParam:{pageSize:5,currentPage:e}}))},page:k,__source:{fileName:j,lineNumber:192,columnNumber:17}})),b.a.createElement("div",{className:"pipeline-user-add-btn",__source:{fileName:j,lineNumber:198,columnNumber:13}},b.a.createElement(g.a,{onClick:function(){return t(!1)},title:"取消",isMar:!0,__source:{fileName:j,lineNumber:199,columnNumber:17}}),b.a.createElement(g.a,{onClick:function(){var e=Array.from(new Set([].concat(A(r),A(a))));i(e),t(!1)},title:"确定",type:"primary",__source:{fileName:j,lineNumber:200,columnNumber:17}})))},D=r(841),z=r(842),G=r(76);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var F="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/pipeline/pipeline/components/PipelineAddInfo.js";function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,u,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return Y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var B=Object(s.forwardRef)((function(e,t){var r=e.set,o=e.setCurrent,y=e.baseInfo,_=e.setBaseInfo,O=e.onClick,E=e.pipeline,j=e.setPipeline,S=e.changFresh,P=G.a.findUserPipeline,k=G.a.updatePipeline,A=G.a.pipelineList,I=D.a.findEnvList,T=z.a.findGroupList,x=V(m.default.useForm(),1)[0],L=Object(N.getUser)(),H=V(Object(s.useState)(!1),2),R=H[0],W=H[1],Y=V(Object(s.useState)((null==y?void 0:y.type)||1),2),B=(Y[0],Y[1],V(Object(s.useState)(1),2)),$=B[0],K=B[1],X=V(Object(s.useState)((null==y?void 0:y.userList)||[]),2),J=X[0],q=X[1],Z=V(Object(s.useState)([]),2),Q=Z[0],ee=Z[1],te=V(Object(s.useState)([]),2),re=te[0],ne=te[1];Object(s.useEffect)((function(){ie(),P().then(),r||K((null==y?void 0:y.power)||1)}),[]),Object(s.useEffect)((function(){E&&(x.setFieldsValue(E),K(null==E?void 0:E.power))}),[E]);var ie=function(){I().then((function(e){0===e.code&&ee(e.data||[])})),T().then((function(e){0===e.code&&ne(e.data||[])}))},oe=function(){x.validateFields().then((function(e){if(r){var t=U(U({},e),{},{id:E.id,name:""===e.name?E.name:e.name,power:$});k(t).then((function(e){0===e.code&&("function"==typeof S?(O(),S()):j(U(U({},E),t)),P().then())}))}else o(1),_(U(U({},e),{},{type:2,power:$,userList:J}))}))},ue=function(){x.resetFields()};Object(s.useImperativeHandle)(t,(function(){return{onOk:oe,onRest:ue}}));var ae=[{id:1,title:"全局",icon:b.a.createElement(p.a,{__source:{fileName:F,lineNumber:160,columnNumber:18}}),desc:"公共项目，全部成员可见。不支持TFVC等某些功能。"},{id:2,title:"私有",icon:b.a.createElement(d.a,{__source:{fileName:F,lineNumber:166,columnNumber:18}}),desc:"只有您授予访问权限的人才能查看此项目。"}],le=b.a.createElement(m.default.Item,{className:"pipeline-power",label:"流水线权限",__source:{fileName:F,lineNumber:173,columnNumber:9}},b.a.createElement("div",{className:"pipeline-power-content",__source:{fileName:F,lineNumber:174,columnNumber:13}},ae.map((function(e){return b.a.createElement("div",{key:e.id,className:"pipeline-power-item ".concat(r?"pipeline-power-set":"pipeline-power-noSet"," ").concat($===e.id?"pipeline-power-select":""),onClick:function(){return K(e.id)},__source:{fileName:F,lineNumber:177,columnNumber:32}},b.a.createElement("div",{className:"power-item",__source:{fileName:F,lineNumber:182,columnNumber:29}},b.a.createElement("div",{__source:{fileName:F,lineNumber:183,columnNumber:33}},b.a.createElement("div",{className:"power-title power-icon",__source:{fileName:F,lineNumber:184,columnNumber:37}},e.icon),b.a.createElement("div",{className:"power-title power-name",__source:{fileName:F,lineNumber:185,columnNumber:37}},e.title))),b.a.createElement("div",{className:"power-desc",__source:{fileName:F,lineNumber:188,columnNumber:29}},e.desc))})))),ce=[{title:"姓名",dataIndex:"nickname",key:"nickname",width:"35%",ellipsis:!0,render:function(e){return e||"--"}},{title:"名称",dataIndex:"name",key:"name",width:"30%",ellipsis:!0,render:function(e,t){return b.a.createElement(f.default,{__source:{fileName:F,lineNumber:213,columnNumber:21}},b.a.createElement(h.a,{userInfo:t,__source:{fileName:F,lineNumber:214,columnNumber:25}}),e||"--")}},{title:"权限",dataIndex:"roleType",key:"roleType",width:"28",ellipsis:!0,render:function(e,t){return b.a.createElement(c.default,{bordered:!1,style:{width:120},defaultValue:t.roleType,disabled:t.id===L.userId,onChange:function(e){return function(e,t){J&&J.map((function(r){r.id===e.id&&(r.roleType=t)})),q(M(J))}(t,e)},__source:{fileName:F,lineNumber:227,columnNumber:17}},t.id===L.userId&&b.a.createElement(c.default.Option,{value:2,__source:{fileName:F,lineNumber:236,columnNumber:25}},"超级管理员"),b.a.createElement(c.default.Option,{value:1,__source:{fileName:F,lineNumber:238,columnNumber:21}},"管理员角色"),b.a.createElement(c.default.Option,{value:0,__source:{fileName:F,lineNumber:239,columnNumber:21}},"默认角色"))}},{title:"操作",dataIndex:"action",key:"action",width:"7%",ellipsis:!0,render:function(e,t){return t.id!==L.userId?b.a.createElement(l.default,{title:"移出用户",__source:{fileName:F,lineNumber:252,columnNumber:25}},b.a.createElement(v.default,{onClick:function(){return function(e){q(J.filter((function(t){return t.id!==e.id})))}(t)},__source:{fileName:F,lineNumber:253,columnNumber:29}})):b.a.createElement("span",{className:"user-table-ban",__source:{fileName:F,lineNumber:258,columnNumber:21}},b.a.createElement(v.default,{__source:{fileName:F,lineNumber:259,columnNumber:26}}))}}],fe=[{required:!r,message:"名称不能为空"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_-]{0,50}$/,message:"流水线名称最长50位且不能包含非法字符，如&，%，&，#，……等"},function(e){e.getFieldValue;return{validator:function(e,t){return(r?A&&A.map((function(e){return e.name})).filter((function(e){return e!==E.name})):A&&A.map((function(e){return e.name}))).includes(t)?Promise.reject("名称已经存在"):Promise.resolve()}}}],me=V(Object(s.useState)(0),2),se=me[0],be=me[1];return Object(s.useEffect)((function(){var e;r&&be((null==E||null===(e=E.name)||void 0===e?void 0:e.length)||0)}),[E]),r?b.a.createElement(b.a.Fragment,null,b.a.createElement(m.default,{form:x,autoComplete:"off",layout:"vertical",initialValues:E,__source:{fileName:F,lineNumber:304,columnNumber:17}},b.a.createElement(m.default.Item,{label:"流水线名称",name:"name",rules:fe,__source:{fileName:F,lineNumber:310,columnNumber:21}},b.a.createElement(a.default,{allowClear:!0,placeholder:"流水线名称",maxLength:50,suffix:b.a.createElement("span",{style:{color:"#999"},__source:{fileName:F,lineNumber:315,columnNumber:37}},se,"/50"),onChange:function(e){return be(e.target.value.length)},__source:{fileName:F,lineNumber:311,columnNumber:25}})),b.a.createElement(m.default.Item,{label:"流水线应用",name:["group","id"],__source:{fileName:F,lineNumber:319,columnNumber:21}},b.a.createElement(c.default,{placeholder:"流水线应用",getPopupContainer:function(e){return e.parentElement},__source:{fileName:F,lineNumber:320,columnNumber:25}},re&&re.map((function(e){return b.a.createElement(c.default.Option,{value:e.id,key:e.id,__source:{fileName:F,lineNumber:323,columnNumber:37}},e.groupName)})))),b.a.createElement(m.default.Item,{label:"流水线环境",name:["env","id"],__source:{fileName:F,lineNumber:328,columnNumber:21}},b.a.createElement(c.default,{placeholder:"流水线环境",getPopupContainer:function(e){return e.parentElement},__source:{fileName:F,lineNumber:329,columnNumber:25}},Q&&Q.map((function(e){return b.a.createElement(c.default.Option,{value:e.id,key:e.id,__source:{fileName:F,lineNumber:332,columnNumber:37}},e.envName)})))),le),"function"==typeof S?null:b.a.createElement(b.a.Fragment,null,b.a.createElement(g.a,{onClick:O,title:"取消",isMar:!0,__source:{fileName:F,lineNumber:342,columnNumber:29}}),b.a.createElement(u.a,{code:"pip_setting_update",domainId:E&&E.id,__source:{fileName:F,lineNumber:343,columnNumber:29}},b.a.createElement(g.a,{type:"primary",title:"确定",onClick:oe,__source:{fileName:F,lineNumber:344,columnNumber:33}})))):b.a.createElement(m.default,{form:x,autoComplete:"off",layout:"vertical",initialValues:y,__source:{fileName:F,lineNumber:353,columnNumber:9}},b.a.createElement(m.default.Item,{label:"流水线名称",name:"name",rules:fe,__source:{fileName:F,lineNumber:359,columnNumber:13}},b.a.createElement(a.default,{allowClear:!0,placeholder:"流水线名称",maxLength:50,suffix:b.a.createElement("span",{style:{color:"#999"},__source:{fileName:F,lineNumber:368,columnNumber:29}},se,"/50"),onChange:function(e){return be(e.target.value.length)},__source:{fileName:F,lineNumber:364,columnNumber:17}})),b.a.createElement(m.default.Item,{label:"流水线应用",name:["group","id"],__source:{fileName:F,lineNumber:372,columnNumber:13}},b.a.createElement(c.default,{placeholder:"流水线应用",__source:{fileName:F,lineNumber:373,columnNumber:17}},re&&re.map((function(e){return b.a.createElement(c.default.Option,{value:e.id,key:e.id,__source:{fileName:F,lineNumber:376,columnNumber:29}},e.groupName)})))),b.a.createElement(m.default.Item,{label:"流水线环境",name:["env","id"],__source:{fileName:F,lineNumber:381,columnNumber:13}},b.a.createElement(c.default,{placeholder:"流水线环境",__source:{fileName:F,lineNumber:382,columnNumber:17}},Q&&Q.map((function(e){return b.a.createElement(c.default.Option,{value:e.id,key:e.id,__source:{fileName:F,lineNumber:385,columnNumber:29}},e.envName)})))),le,2===$&&b.a.createElement("div",{className:"pipeline-user",__source:{fileName:F,lineNumber:393,columnNumber:17}},b.a.createElement("div",{className:"pipeline-user-title ant-form-item-label",__source:{fileName:F,lineNumber:394,columnNumber:21}},b.a.createElement("label",{__source:{fileName:F,lineNumber:395,columnNumber:25}},"通知对象"),b.a.createElement(i.default,{getPopupContainer:function(e){return e.parentElement},overlay:b.a.createElement(C,{setVisible:W,yUserList:J,setYUserList:q,pipelineStore:G.a,__source:{fileName:F,lineNumber:399,columnNumber:33}}),visible:R,onVisibleChange:function(e){return W(e)},trigger:["click"],placement:"bottomRight",overlayStyle:{width:240},__source:{fileName:F,lineNumber:396,columnNumber:25}},b.a.createElement(g.a,{type:"link-nopadding",title:"添加成员",__source:{fileName:F,lineNumber:412,columnNumber:29}}))),b.a.createElement("div",{className:"pipeline-user-table",__source:{fileName:F,lineNumber:418,columnNumber:21}},b.a.createElement(n.default,{rowKey:function(e){return e.id},columns:ce,dataSource:J,pagination:!1,showHeader:!1,locale:{emptyText:b.a.createElement(w.a,{__source:{fileName:F,lineNumber:425,columnNumber:49}})},__source:{fileName:F,lineNumber:419,columnNumber:25}}))))}));t.a=Object(y.observer)(B)}}]);