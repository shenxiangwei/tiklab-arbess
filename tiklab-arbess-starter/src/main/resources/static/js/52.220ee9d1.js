(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1431:function(e,r,t){"use strict";t.r(r);t(521);var n=t(523),a=(t(522),t(524)),l=(t(173),t(97)),u=(t(520),t(519)),m=(t(260),t(150)),o=(t(261),t(171)),i=t(0),c=t.n(i),s=t(713),f=t(594),b=t(174),N=t(271),d=t(603),p=t(154),_=t(270),y=t(658),g=t(596),v=t(908),h=t(579);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/configure/host/component/Host.js";function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){P(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function P(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==E(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,u,m=[],o=!0,i=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(m.push(n.value),m.length!==r);o=!0);}catch(e){i=!0,a=e}finally{try{if(!o&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(i)throw a}}return m}}(e,r)||function(e,r){if(e){if("string"==typeof e)return k(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}r.default=function(e){var r=s.a.findAuthHostPage,t=s.a.deleteAuthHost,E=S(Object(i.useState)(!1),2),j=E[0],P=E[1],k=S(Object(i.useState)(null),2),I=k[0],A=k[1],x=S(Object(i.useState)({}),2),T=x[0],C=x[1],V=S(Object(i.useState)(!1),2),F=V[0],U=V[1],D={pageSize:13,currentPage:1},H=S(Object(i.useState)({pageParam:D}),2),q=H[0],M=H[1];Object(i.useEffect)((function(){R()}),[q]);var R=function(){U(!0),r(q).then((function(e){0===e.code&&C(e.data)})).finally((function(){U(!1)}))},$=function(e){M(w(w({},q),{},{pageParam:{pageSize:13,currentPage:e}}))},z=[{title:"名称",dataIndex:"name",key:"name",width:"18%",ellipsis:!0,render:function(e){return c.a.createElement("span",{__source:{fileName:O,lineNumber:130,columnNumber:21}},c.a.createElement(N.a,{text:e,__source:{fileName:O,lineNumber:131,columnNumber:25}}),c.a.createElement("span",{__source:{fileName:O,lineNumber:132,columnNumber:25}},e))}},{title:"IP地址",dataIndex:"ip",key:"ip",width:"15%",ellipsis:!0},{title:"端口",dataIndex:"port",key:"port",width:"8%",ellipsis:!0},{title:"认证类型",dataIndex:"authType",key:"authType",width:"18%",ellipsis:!0,render:function(e){return 1===e?"username&password":"私钥"}},{title:"创建人",dataIndex:["user","nickname"],key:"user",width:"13%",ellipsis:!0,render:function(e,r){return c.a.createElement(o.default,{__source:{fileName:O,lineNumber:166,columnNumber:25}},c.a.createElement(p.a,{userInfo:r.user,__source:{fileName:O,lineNumber:167,columnNumber:29}}),e)}},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"20%",ellipsis:!0},{title:"操作",dataIndex:"action",key:"action",width:"8%",ellipsis:!0,render:function(e,r){return c.a.createElement(d.a,{edit:function(){return function(e){P(!0),A(e)}(r)},del:function(){return function(e){t(e.hostId).then((function(e){if(0===e.code){var r=Object(h.d)(T.totalRecord,13,q.pageParam.currentPage);$(r)}}))}(r)},isMore:!0,__source:{fileName:O,lineNumber:187,columnNumber:21}})}}];return c.a.createElement(n.default,{className:"host",__source:{fileName:O,lineNumber:198,columnNumber:9}},c.a.createElement(a.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"22",offset:"1"},xxl:{span:"18",offset:"3"},__source:{fileName:O,lineNumber:199,columnNumber:13}},c.a.createElement("div",{className:"arbess-home-limited",__source:{fileName:O,lineNumber:207,columnNumber:17}},c.a.createElement(f.a,{crumbs:[{title:"主机"}],__source:{fileName:O,lineNumber:208,columnNumber:21}},c.a.createElement(v.a,{visible:j,setVisible:P,formValue:I,setFormValue:A,findAuth:R,__source:{fileName:O,lineNumber:213,columnNumber:25}})),c.a.createElement("div",{className:"host-search",__source:{fileName:O,lineNumber:221,columnNumber:21}},c.a.createElement(_.a,{placeholder:"搜索名称、IP地址",style:{width:190},onPressEnter:function(e){M(w(w({},q),{},{pageParam:D,name:e.target.value}))},__source:{fileName:O,lineNumber:222,columnNumber:25}}),c.a.createElement(y.a,{placeholder:"主机类型",style:{width:150},onChange:function(e){M(w(w({},q),{},{pageParam:D,type:e}))},__source:{fileName:O,lineNumber:227,columnNumber:25}},c.a.createElement(m.default.Option,{value:null,__source:{fileName:O,lineNumber:232,columnNumber:29}},"全部"),c.a.createElement(m.default.Option,{value:"common",__source:{fileName:O,lineNumber:233,columnNumber:29}},"普通主机"),c.a.createElement(m.default.Option,{value:"aliyun",__source:{fileName:O,lineNumber:234,columnNumber:29}},"阿里云主机"),c.a.createElement(m.default.Option,{value:"tencent",__source:{fileName:O,lineNumber:235,columnNumber:29}},"腾讯云主机"))),c.a.createElement("div",{className:"host-content",__source:{fileName:O,lineNumber:238,columnNumber:21}},c.a.createElement(l.a,{spinning:F,__source:{fileName:O,lineNumber:239,columnNumber:25}},c.a.createElement(u.default,{columns:z,dataSource:(null==T?void 0:T.dataList)||[],rowKey:function(e){return e.hostId},pagination:!1,locale:{emptyText:c.a.createElement(b.a,{__source:{fileName:O,lineNumber:245,columnNumber:53}})},__source:{fileName:O,lineNumber:240,columnNumber:29}}),c.a.createElement(g.a,{currentPage:q.pageParam.currentPage,changPage:$,page:T,__source:{fileName:O,lineNumber:247,columnNumber:29}}))))))}},594:function(e,r,t){"use strict";t(261);var n=t(171),a=t(0),l=t.n(a),u=t(115),m="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/breadcrumb/BreadCrumb.js";r.a=function(e){var r=e.crumbs,t=void 0===r?[]:r,a=e.children;return l.a.createElement("div",{className:"arbess-breadcrumb",__source:{fileName:m,lineNumber:16,columnNumber:9}},l.a.createElement(n.default,{__source:{fileName:m,lineNumber:17,columnNumber:13}},t.map((function(e,r){var n=e.title,a=void 0===n?null:n,o=e.click,i=t.length-1===r;return l.a.createElement(l.a.Fragment,{key:r,__source:{fileName:m,lineNumber:23,columnNumber:29}},l.a.createElement("span",{key:r,className:o?"arbess-breadcrumb-first":"",onClick:o,__source:{fileName:m,lineNumber:24,columnNumber:33}},o&&0===r&&l.a.createElement(u.default,{style:{marginRight:8},__source:{fileName:m,lineNumber:25,columnNumber:60}}),l.a.createElement("span",{className:i?"":"arbess-breadcrumb-span",__source:{fileName:m,lineNumber:26,columnNumber:37}},a)),!i&&l.a.createElement("span",{__source:{fileName:m,lineNumber:30,columnNumber:46}}," /  "))}))),l.a.createElement("div",{__source:{fileName:m,lineNumber:36,columnNumber:13}},a))}},600:function(e,r,t){"use strict";r.a=t.p+"images/pie_more.svg"},603:function(e,r,t){"use strict";t(264);var n=t(124),a=(t(265),t(175)),l=(t(151),t(47)),u=t(0),m=t.n(u),o=t(182),i=t(600),c="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/list/ListAction.js";r.a=function(e){var r=e.edit,t=e.del,u=e.isMore,s=void 0!==u&&u;return m.a.createElement("span",{className:"arbess-listAction",__source:{fileName:c,lineNumber:19,columnNumber:9}},"function"==typeof r&&m.a.createElement(l.default,{titsle:"修改",__source:{fileName:c,lineNumber:22,columnNumber:17}},m.a.createElement("span",{onClick:r,className:"arbess-listAction-edit",__source:{fileName:c,lineNumber:23,columnNumber:21}},m.a.createElement(o.default,{__source:{fileName:c,lineNumber:24,columnNumber:25}}))),s&&m.a.createElement(n.default,{overlay:m.a.createElement("div",{className:"arbess-dropdown-more",__source:{fileName:c,lineNumber:32,columnNumber:25}},e.children,"function"==typeof t&&m.a.createElement("div",{className:"dropdown-more-item",onClick:function(){a.default.confirm({title:"确定删除吗？",content:m.a.createElement("span",{style:{color:"#f81111"},__source:{fileName:c,lineNumber:39,columnNumber:50}},"删除后无法恢复！"),okText:"确认",cancelText:"取消",onOk:function(){t()},onCancel:function(){}})},__source:{fileName:c,lineNumber:36,columnNumber:33}},"删除")),trigger:["click"],placement:"bottomRight",__source:{fileName:c,lineNumber:30,columnNumber:17}},m.a.createElement(l.default,{title:"更多",__source:{fileName:c,lineNumber:55,columnNumber:21}},m.a.createElement("span",{className:"arbess-listAction-more",__source:{fileName:c,lineNumber:56,columnNumber:25}},m.a.createElement("img",{src:i.a,width:18,alt:"更多",__source:{fileName:c,lineNumber:57,columnNumber:29}})))))}},658:function(e,r,t){"use strict";t(260);var n=t(150),a=t(0),l=t.n(a),u=t(187),m=(t(392),"/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/search/SearchSelect.js"),o=["children"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(null,arguments)}r.a=function(e){var r=e.children,t=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,o);return l.a.createElement("div",{className:"arbess-search-select",__source:{fileName:m,lineNumber:18,columnNumber:9}},l.a.createElement(n.default,i({},t,{bordered:!1,suffixIcon:l.a.createElement(u.default,{__source:{fileName:m,lineNumber:22,columnNumber:29}}),className:"".concat(t.className),__source:{fileName:m,lineNumber:19,columnNumber:13}}),r))}},682:function(e,r,t){"use strict";t(172);var n=t(71),a=(t(262),t(72)),l=(t(260),t(150)),u=t(0),m=t.n(u),o="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/common/AuthType.js";r.a=function(e){return m.a.createElement(m.a.Fragment,null,m.a.createElement(a.default.Item,{label:"认证类型",name:"authType",__source:{fileName:o,lineNumber:15,columnNumber:13}},m.a.createElement(l.default,{placeholder:"认证类型",__source:{fileName:o,lineNumber:16,columnNumber:17}},m.a.createElement(l.default.Option,{value:1,__source:{fileName:o,lineNumber:17,columnNumber:21}},"username&password"),m.a.createElement(l.default.Option,{value:2,__source:{fileName:o,lineNumber:18,columnNumber:21}},"私钥"))),m.a.createElement(a.default.Item,{shouldUpdate:function(e,r){return e.authType!==r.authType},__source:{fileName:o,lineNumber:21,columnNumber:13}},(function(e){return 1===(0,e.getFieldValue)("authType")?m.a.createElement(m.a.Fragment,null,m.a.createElement(a.default.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}],__source:{fileName:o,lineNumber:27,columnNumber:29}},m.a.createElement(n.default,{placeholder:"用户名",__source:{fileName:o,lineNumber:31,columnNumber:30}})),m.a.createElement(a.default.Item,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}],__source:{fileName:o,lineNumber:33,columnNumber:29}},m.a.createElement(n.default.Password,{placeholder:"密码",__source:{fileName:o,lineNumber:37,columnNumber:30}}))):m.a.createElement(a.default.Item,{label:"私钥",name:"privateKey",rules:[{required:!0,message:"请输入私钥"}],__source:{fileName:o,lineNumber:41,columnNumber:25}},m.a.createElement(n.default.TextArea,{autoSize:{minRows:2,maxRows:8},placeholder:"私钥",__source:{fileName:o,lineNumber:45,columnNumber:26}}))})))}},908:function(e,r,t){"use strict";var n=t(0),a=t.n(n),l=t(152),u=(t(151),t(47)),m=(t(172),t(71)),o=(t(260),t(150)),i=(t(262),t(72)),c=t(195),s=t(713),f=t(682),b=t(579),N=t(268);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/configure/host/component/HostModal.js";function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==d(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function g(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,u,m=[],o=!0,i=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(m.push(n.value),m.length!==r);o=!0);}catch(e){i=!0,a=e}finally{try{if(!o&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(i)throw a}}return m}}(e,r)||function(e,r){if(e){if("string"==typeof e)return v(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var h=function(e){var r=e.visible,t=e.setVisible,l=e.formValue,d=e.findAuth,v=s.a.createAuthHost,h=s.a.updateAuthHost,E=g(i.default.useForm(),1)[0],O=g(Object(n.useState)("common"),2),j=(O[0],O[1]);Object(n.useEffect)((function(){r&&E.setFieldsValue(l)}),[r]);var w=function(){E.resetFields(),t(!1)};return a.a.createElement(N.a,{visible:r,onCancel:w,onOk:function(){E.validateFields().then((function(e){if(l){var r=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({hostId:l.hostId},e);h(r).then((function(e){0===e.code&&d()}))}else v(e).then((function(e){0===e.code&&d()}));w()}))},title:l?"修改":"添加",__source:{fileName:p,lineNumber:75,columnNumber:9}},a.a.createElement("div",{className:"resources-modal",__source:{fileName:p,lineNumber:81,columnNumber:13}},a.a.createElement(i.default,{form:E,layout:"vertical",autoComplete:"off",initialValues:{type:"common",authWay:1,authType:1},__source:{fileName:p,lineNumber:82,columnNumber:17}},a.a.createElement(i.default.Item,{name:"type",label:"授权类型",__source:{fileName:p,lineNumber:88,columnNumber:21}},a.a.createElement(o.default,{onChange:function(e){j(e)},disabled:!0,placeholder:"授权类型",__source:{fileName:p,lineNumber:89,columnNumber:25}},a.a.createElement(o.default.Option,{value:"common",__source:{fileName:p,lineNumber:95,columnNumber:29}},"普通"),a.a.createElement(o.default.Option,{value:"aliyun",__source:{fileName:p,lineNumber:96,columnNumber:29}},"aliyun"),a.a.createElement(o.default.Option,{value:"tencent",__source:{fileName:p,lineNumber:97,columnNumber:29}},"腾讯云主机"))),a.a.createElement(i.default.Item,{name:"name",label:"名称",rules:[{required:!0,message:"名称不能空"},Object(b.a)("名称")],__source:{fileName:p,lineNumber:100,columnNumber:21}},a.a.createElement(m.default,{placeholder:"名称",__source:{fileName:p,lineNumber:105,columnNumber:25}})),a.a.createElement(i.default.Item,{label:a.a.createElement(a.a.Fragment,null,"Ip地址",a.a.createElement(u.default,{title:"Ip地址",__source:{fileName:p,lineNumber:108,columnNumber:38}},a.a.createElement(c.a,{style:{paddingLeft:5,cursor:"pointer"},__source:{fileName:p,lineNumber:109,columnNumber:29}}))),name:"ip",rules:[{required:!0,message:"Ip地址不能为空"},{pattern:/^((25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)\.){3}(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)$/,message:"请输入正确的Ip地址"}],__source:{fileName:p,lineNumber:107,columnNumber:21}},a.a.createElement(m.default,{placeholder:"Ip地址",__source:{fileName:p,lineNumber:120,columnNumber:25}})),a.a.createElement(i.default.Item,{label:"端口",name:"port",rules:[{required:!0,message:"端口不能为空"},{pattern:/^[0-9]*$/,message:"端口只包含整数"}],__source:{fileName:p,lineNumber:122,columnNumber:21}},a.a.createElement(m.default,{placeholder:"端口",__source:{fileName:p,lineNumber:132,columnNumber:25}})),a.a.createElement(f.a,{__source:{fileName:p,lineNumber:134,columnNumber:21}}))))},E="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/configure/host/component/HostAddBtn.js";r.a=function(e){var r=e.isConfig,t=e.visible,n=e.setVisible,u=e.formValue,m=e.setFormValue,o=e.findAuth;return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{onClick:function(){n(!0),u&&m(null)},type:r?"row":"primary",title:r?"添加":"添加主机",__source:{fileName:E,lineNumber:29,columnNumber:13}}),a.a.createElement(h,{visible:t,setVisible:n,formValue:u||null,findAuth:o,__source:{fileName:E,lineNumber:35,columnNumber:13}}))}}}]);