(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1423:function(e,r,t){"use strict";t.r(r);t(521);var n,i,u,a,o,l,c,m=t(523),s=(t(522),t(524)),f=(t(173),t(97)),b=(t(261),t(171)),N=(t(394),t(180)),p=(t(170),t(56)),v=t(0),d=t.n(v),_=t(9),y=t(594),h=t(12);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function u(t,n,i,u){var l=n&&n.prototype instanceof o?n:o,c=Object.create(l.prototype);return w(c,"_invoke",function(t,n,i){var u,o,l,c=0,m=i||[],s=!1,f={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(r,t){return u=r,o=0,l=e,f.n=t,a}};function b(t,n){for(o=t,l=n,r=0;!s&&c&&!i&&r<m.length;r++){var i,u=m[r],b=f.p,N=u[2];t>3?(i=N===n)&&(l=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=b&&((i=t<2&&b<u[1])?(o=0,f.v=n,f.n=u[1]):b<N&&(i=t<3||u[0]>n||n>N)&&(u[4]=t,u[5]=n,f.n=N,o=0))}if(i||t>1)return a;throw s=!0,n}return function(i,m,N){if(c>1)throw TypeError("Generator is already running");for(s&&1===m&&b(m,N),o=m,l=N;(r=o<2?e:l)||!s;){u||(o?o<3?(o>1&&(f.n=-1),b(o,l)):f.n=l:f.v=l);try{if(c=2,u){if(o||(i="next"),r=u[i]){if(!(r=r.call(u,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,o<2&&(o=0)}else 1===o&&(r=u.return)&&r.call(u),o<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),o=1);u=e}else if((r=(s=f.n<0)?l:t.call(n,f))!==a)break}catch(r){u=e,o=1,l=r}finally{c=1}}return{value:r,done:s}}}(t,i,u),!0),c}var a={};function o(){}function l(){}function c(){}r=Object.getPrototypeOf;var m=[][n]?r(r([][n]())):(w(r={},n,(function(){return this})),r),s=c.prototype=o.prototype=Object.create(m);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,w(e,i,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=c,w(s,"constructor",c),w(c,"constructor",l),l.displayName="GeneratorFunction",w(c,i,"GeneratorFunction"),w(s),w(s,i,"Generator"),w(s,n,(function(){return this})),w(s,"toString",(function(){return"[object Generator]"})),(g=function(){return{w:u,m:f}})()}function w(e,r,t,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(w=function(e,r,t,n){if(r)i?i(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t;else{var u=function(r,t){w(e,r,(function(e){return this._invoke(r,t,e)}))};u("next",0),u("throw",1),u("return",2)}})(e,r,t,n)}function j(e,r,t,n,i,u,a){try{var o=e[u](a),l=o.value}catch(e){return void t(e)}o.done?r(l):Promise.resolve(l).then(n,i)}function S(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var u=e.apply(r,t);function a(e){j(u,n,i,a,o,"next",e)}function o(e){j(u,n,i,a,o,"throw",e)}a(void 0)}))}}function O(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function k(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function C(e,r,t){return r&&k(e.prototype,r),t&&k(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){var r=function(e,r){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==E(r)?r:r+""}function A(e,r,t,n,i){var u={};return Object.keys(n).forEach((function(e){u[e]=n[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=t.slice().reverse().reduce((function(t,n){return n(e,r,t)||t}),u),i&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(i):void 0,u.initializer=void 0),void 0===u.initializer?(Object.defineProperty(e,r,u),null):u}var P=new(i=A((n=C((function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"findResourcesList",i,this),O(this,"findResourcesDetails",u,this),O(this,"findDiskList",a,this),O(this,"cleanDisk",o,this),O(this,"findAllCathe",l,this),O(this,"updateCathe",c,this)}))).prototype,"findResourcesList",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S(g().m((function e(){var r;return g().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,_.Axios.post("/resources/findResourcesList");case 1:return r=e.v,e.a(2,r)}}),e)})))}}),u=A(n.prototype,"findResourcesDetails",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=S(g().m((function e(r){var t;return g().w((function(e){for(;;)switch(e.n){case 0:return(t=new FormData).append("type",r),e.n=1,_.Axios.post("/resources/findResourcesDetails",t);case 1:return e.a(2,e.v)}}),e)})));return function(r){return e.apply(this,arguments)}}()}}),a=A(n.prototype,"findDiskList",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S(g().m((function e(){return g().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,_.Axios.post("/disk/findDiskList");case 1:return e.a(2,e.v)}}),e)})))}}),o=A(n.prototype,"cleanDisk",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=S(g().m((function e(r){var t,n;return g().w((function(e){for(;;)switch(e.n){case 0:return(t=new FormData).append("fileList",r.fileList),e.n=1,_.Axios.post("/disk/cleanDisk",t);case 1:return 0===(n=e.v).code?p.default.success("清理成功"):p.default.error("清理失败"),e.a(2,n)}}),e)})));return function(r){return e.apply(this,arguments)}}()}}),l=A(n.prototype,"findAllCathe",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S(g().m((function e(){return g().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,_.Axios.post("/cache/findAllCathe");case 1:return e.a(2,e.v)}}),e)})))}}),c=A(n.prototype,"updateCathe",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=S(g().m((function e(r){return g().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,_.Axios.post("/cache/updateCathe",r);case 1:return e.a(2,e.v)}}),e)})));return function(r){return e.apply(this,arguments)}}()}}),n),x=t(186);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var G="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/setting/resources/component/Resources.js";function R(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==D(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function T(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,u,a,o=[],l=!0,c=!1;try{if(u=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=u.call(t)).done)&&(o.push(n.value),o.length!==r);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return L(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}r.default=function(e){var r=P.findResourcesList,t=P.findAllCathe,n=P.updateCathe,i=(P.findResourcesDetails,T(Object(v.useState)(!0),2)),u=i[0],a=i[1],o=T(Object(v.useState)({}),2),l=o[0],c=o[1],h=T(Object(v.useState)({}),2),E=h[0],g=h[1],w=T(Object(v.useState)({}),2),j=(w[0],w[1],T(Object(v.useState)(!1),2)),S=j[0],O=j[1],k=Object(_.disableFunction)();Object(v.useEffect)((function(){C(),z()}),[]);var C=function(){r().then((function(e){0===e.code&&c(e.data)})).finally((function(){return a(!1)}))},z=function(){t().then((function(e){0===e.code&&g(e.data&&e.data[0])}))},A=function(e,r){if(k)return O(!0);n(R({id:E.id},r,e.target.value)).then((function(e){0===e.code&&(p.default.success("保存成功"),z())}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return l?e<0?"不限":e+r:"--"};return d.a.createElement(m.default,{className:"resources",__source:{fileName:G,lineNumber:114,columnNumber:9}},d.a.createElement(s.default,{sm:{span:24},xs:{span:24},md:{span:24},lg:{span:"16",offset:"4"},xl:{span:"12",offset:"6"},__source:{fileName:G,lineNumber:115,columnNumber:13}},d.a.createElement("div",{className:"arbess-home-limited",__source:{fileName:G,lineNumber:122,columnNumber:17}},d.a.createElement(y.a,{crumbs:[{title:"资源监控"}],__source:{fileName:G,lineNumber:123,columnNumber:21}}),d.a.createElement(f.a,{spinning:u,__source:{fileName:G,lineNumber:128,columnNumber:21}},d.a.createElement("div",{className:"resources-info",__source:{fileName:G,lineNumber:129,columnNumber:25}},d.a.createElement("div",{className:"resources-info-item",__source:{fileName:G,lineNumber:130,columnNumber:29}},d.a.createElement("div",{className:"resources-item-title",__source:{fileName:G,lineNumber:131,columnNumber:33}},"版本类型"),d.a.createElement("div",{className:"resources-item-total",__source:{fileName:G,lineNumber:132,columnNumber:33}},1===(null==l?void 0:l.version)?"社区版":"企业版"),1===(null==l?void 0:l.version)&&d.a.createElement("div",{className:"resources-item-allow",onClick:function(){Object(_.applySubscription)("arbess")},__source:{fileName:G,lineNumber:135,columnNumber:37}},"升级企业版")),d.a.createElement("div",{className:"resources-info-item",__source:{fileName:G,lineNumber:138,columnNumber:29}},d.a.createElement("div",{className:"resources-item-title",__source:{fileName:G,lineNumber:139,columnNumber:33}},"并发数"),d.a.createElement("div",{className:"resources-item-total",__source:{fileName:G,lineNumber:140,columnNumber:33}},d.a.createElement("span",{__source:{fileName:G,lineNumber:141,columnNumber:37}},D(null==l?void 0:l.useCcyNumber,"")),d.a.createElement("span",{className:"resources-item-separat",__source:{fileName:G,lineNumber:142,columnNumber:37}},"/"),d.a.createElement("span",{__source:{fileName:G,lineNumber:143,columnNumber:37}},D(null==l?void 0:l.ccyNumber,"")))),d.a.createElement("div",{className:"resources-info-item",__source:{fileName:G,lineNumber:146,columnNumber:29}},d.a.createElement("div",{className:"resources-item-title",__source:{fileName:G,lineNumber:147,columnNumber:33}},"构建时长"),d.a.createElement("div",{className:"resources-item-total",__source:{fileName:G,lineNumber:148,columnNumber:33}},d.a.createElement("span",{__source:{fileName:G,lineNumber:149,columnNumber:37}},D(null==l?void 0:l.useSceNumber,"分钟")),d.a.createElement("span",{className:"resources-item-separat",__source:{fileName:G,lineNumber:150,columnNumber:37}},"/"),d.a.createElement("span",{__source:{fileName:G,lineNumber:151,columnNumber:37}},D(null==l?void 0:l.sceNumber,"分钟")))),d.a.createElement("div",{className:"resources-info-item",__source:{fileName:G,lineNumber:154,columnNumber:29}},d.a.createElement("div",{className:"resources-item-title",__source:{fileName:G,lineNumber:155,columnNumber:33}},"磁盘空间"),d.a.createElement("div",{className:"resources-item-total",__source:{fileName:G,lineNumber:156,columnNumber:33}},d.a.createElement("div",{__source:{fileName:G,lineNumber:157,columnNumber:37}},d.a.createElement("span",{__source:{fileName:G,lineNumber:158,columnNumber:41}},D(null==l?void 0:l.useCacheNumber,"G")),d.a.createElement("span",{className:"resources-item-separat",__source:{fileName:G,lineNumber:159,columnNumber:41}},"/"),d.a.createElement("span",{__source:{fileName:G,lineNumber:160,columnNumber:41}},D(null==l?void 0:l.cacheNumber,"G"))))),d.a.createElement("div",{className:"resources-info-item",__source:{fileName:G,lineNumber:164,columnNumber:29}},d.a.createElement(x.a,{type:"resources",visible:S,setVisible:O,__source:{fileName:G,lineNumber:165,columnNumber:33}}),d.a.createElement("div",{className:"resources-item-title",__source:{fileName:G,lineNumber:170,columnNumber:33}},"日志保存时长"),d.a.createElement(N.a.Group,{value:null==E?void 0:E.logCache,onChange:function(e){return A(e,"logCache")},__source:{fileName:G,lineNumber:171,columnNumber:33}},d.a.createElement(N.a,{value:7,__source:{fileName:G,lineNumber:172,columnNumber:37}},"7天"),d.a.createElement(N.a,{value:15,__source:{fileName:G,lineNumber:173,columnNumber:37}},d.a.createElement(b.default,{size:"small",__source:{fileName:G,lineNumber:174,columnNumber:41}},"15天")),d.a.createElement(N.a,{value:30,__source:{fileName:G,lineNumber:179,columnNumber:37}},d.a.createElement(b.default,{size:"small",__source:{fileName:G,lineNumber:180,columnNumber:41}},"30天")))),d.a.createElement("div",{className:"resources-info-item",__source:{fileName:G,lineNumber:187,columnNumber:29}},d.a.createElement("div",{className:"resources-item-title",__source:{fileName:G,lineNumber:188,columnNumber:33}},"制品保存时长"),d.a.createElement(N.a.Group,{value:null==E?void 0:E.artifactCache,onChange:function(e){return A(e,"artifactCache")},__source:{fileName:G,lineNumber:189,columnNumber:33}},d.a.createElement(N.a,{value:7,__source:{fileName:G,lineNumber:190,columnNumber:37}},"7天"),d.a.createElement(N.a,{value:15,__source:{fileName:G,lineNumber:191,columnNumber:37}},d.a.createElement(b.default,{size:"small",__source:{fileName:G,lineNumber:192,columnNumber:41}},"15天")),d.a.createElement(N.a,{value:30,__source:{fileName:G,lineNumber:197,columnNumber:37}},d.a.createElement(b.default,{size:"small",__source:{fileName:G,lineNumber:198,columnNumber:41}},"30天")))))))))}},594:function(e,r,t){"use strict";t(261);var n=t(171),i=t(0),u=t.n(i),a=t(115),o="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/common/component/breadcrumb/BreadCrumb.js";r.a=function(e){var r=e.crumbs,t=void 0===r?[]:r,i=e.children;return u.a.createElement("div",{className:"arbess-breadcrumb",__source:{fileName:o,lineNumber:16,columnNumber:9}},u.a.createElement(n.default,{__source:{fileName:o,lineNumber:17,columnNumber:13}},t.map((function(e,r){var n=e.title,i=void 0===n?null:n,l=e.click,c=t.length-1===r;return u.a.createElement(u.a.Fragment,{key:r,__source:{fileName:o,lineNumber:23,columnNumber:29}},u.a.createElement("span",{key:r,className:l?"arbess-breadcrumb-first":"",onClick:l,__source:{fileName:o,lineNumber:24,columnNumber:33}},l&&0===r&&u.a.createElement(a.default,{style:{marginRight:8},__source:{fileName:o,lineNumber:25,columnNumber:60}}),u.a.createElement("span",{className:c?"":"arbess-breadcrumb-span",__source:{fileName:o,lineNumber:26,columnNumber:37}},i)),!c&&u.a.createElement("span",{__source:{fileName:o,lineNumber:30,columnNumber:46}}," /  "))}))),u.a.createElement("div",{__source:{fileName:o,lineNumber:36,columnNumber:13}},i))}}}]);