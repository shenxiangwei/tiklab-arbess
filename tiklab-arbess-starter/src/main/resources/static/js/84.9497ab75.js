(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1414:function(e,n,l){"use strict";l.r(n);l(509);var r=l(511),t=(l(510),l(512)),a=(l(253),l(167)),i=(l(249),l(90)),m=(l(384),l(273)),u=l.n(m),c=l(0),o=l.n(c),s=l(268),N=l(174),b=l(127),f=l(95),p=l(43),_=l(1090),d=l(578),v=l(258),E=l(149),y="/Users/gaomengyuan/tiklab/tiklab-arbess-ui/src/pipeline/setting/basicInfo/BasicInfo.js";function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var r in l)({}).hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e}).apply(null,arguments)}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r,t,a,i,m=[],u=!0,c=!1;try{if(a=(l=l.call(e)).next,0===n){if(Object(l)!==l)return;u=!1}else for(;!(u=(r=a.call(l)).done)&&(m.push(r.value),m.length!==n);u=!0);}catch(e){c=!0,t=e}finally{try{if(!u&&null!=l.return&&(i=l.return(),Object(i)!==i))return}finally{if(c)throw t}}return m}}(e,n)||function(e,n){if(e){if("string"==typeof e)return D(e,n);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?D(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,r=Array(n);l<n;l++)r[l]=e[l];return r}n.default=Object(p.inject)("pipelineStore")(Object(p.observer)((function(e){var n=e.pipelineStore,l=n.deletePipeline,m=n.pipeline,p=g(Object(c.useState)([]),2),D=p[0],R=p[1],h=g(Object(c.useState)(!1),2),w=h[0],j=h[1],O=g(Object(c.useState)(!1),2),S=O[0],C=O[1],I=g(Object(c.useState)(""),2),x=I[0],A=I[1],T=g(Object(c.useState)(null),2),B=T[0],J=T[1],M=function(){w||(j(!1),C(!1),A(""),J(null))},P=[{key:1,title:"流水线信息",desc:"更新流水线信息",icon:o.a.createElement(s.default,{__source:{fileName:y,lineNumber:76,columnNumber:19}}),enCode:"pipeline_update",content:o.a.createElement("div",{className:"bottom-rename",__source:{fileName:y,lineNumber:79,columnNumber:17}},o.a.createElement(_.a,k({},e,{set:!0,setIsLoading:j,onClick:function(){return z(1)},__source:{fileName:y,lineNumber:80,columnNumber:21}})))},{key:2,title:"流水线删除",desc:"删除流水线",icon:o.a.createElement(N.default,{__source:{fileName:y,lineNumber:93,columnNumber:19}}),enCode:"pipeline_delete",content:o.a.createElement("div",{className:"bottom-delete",__source:{fileName:y,lineNumber:96,columnNumber:17}},o.a.createElement("div",{style:{color:"#ff0000",paddingBottom:5,fontSize:13},__source:{fileName:y,lineNumber:97,columnNumber:21}},"此操作无法恢复！请慎重操作！"),o.a.createElement(E.a,{onClick:function(){return z(2)},title:"取消",isMar:!0,__source:{fileName:y,lineNumber:100,columnNumber:21}}),o.a.createElement(u.a,{code:"pipeline_delete",domainId:m&&m.id,__source:{fileName:y,lineNumber:105,columnNumber:21}},o.a.createElement(E.a,{onClick:function(){return C(!0)},type:"dangerous",title:"删除",__source:{fileName:y,lineNumber:106,columnNumber:25}})))}],U=function(e){return D.some((function(n){return n===e}))},z=function(e){U(e)?R(D.filter((function(n){return n!==e}))):R(D.concat(e))};return o.a.createElement(r.default,{className:"pipelineReDel",__source:{fileName:y,lineNumber:164,columnNumber:9}},o.a.createElement(t.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"16",offset:"4"},xxl:{span:"14",offset:"5"},__source:{fileName:y,lineNumber:165,columnNumber:13}},o.a.createElement("div",{className:"arbess-home-limited",__source:{fileName:y,lineNumber:173,columnNumber:17}},o.a.createElement("div",{className:"pipelineReDel-up",__source:{fileName:y,lineNumber:174,columnNumber:21}},o.a.createElement(d.a,{crumbs:[{title:"流水线信息"}],__source:{fileName:y,lineNumber:175,columnNumber:25}})),o.a.createElement("div",{className:"pipelineReDel-content",__source:{fileName:y,lineNumber:181,columnNumber:21}},o.a.createElement("div",{className:"pipelineReDel-ul",__source:{fileName:y,lineNumber:182,columnNumber:25}},P.map((function(e){return function(e){return o.a.createElement("div",{key:e.key,className:"pipelineReDel-li",__source:{fileName:y,lineNumber:141,columnNumber:16}},o.a.createElement("div",{className:"pipelineReDel-li-top ".concat(U(e.key)?"pipelineReDel-li-select":""),onClick:function(){return z(e.key)},__source:{fileName:y,lineNumber:142,columnNumber:13}},o.a.createElement("div",{className:"pipelineReDel-li-icon",__source:{fileName:y,lineNumber:145,columnNumber:17}},e.icon),o.a.createElement("div",{className:"pipelineReDel-li-center",__source:{fileName:y,lineNumber:146,columnNumber:17}},o.a.createElement("div",{className:"pipelineReDel-li-title",__source:{fileName:y,lineNumber:147,columnNumber:21}},e.title),!U(e.key)&&o.a.createElement("div",{className:"pipelineReDel-li-desc",__source:{fileName:y,lineNumber:150,columnNumber:25}},e.desc)),o.a.createElement("div",{className:"pipelineReDel-li-down",__source:{fileName:y,lineNumber:153,columnNumber:17}},U(e.key)?o.a.createElement(b.default,{__source:{fileName:y,lineNumber:154,columnNumber:49}}):o.a.createElement(f.default,{__source:{fileName:y,lineNumber:154,columnNumber:66}}))),o.a.createElement("div",{className:"".concat(U(e.key)?"pipelineReDel-li-bottom":"pipelineReDel-li-none"),__source:{fileName:y,lineNumber:157,columnNumber:13}},U(e.key)&&e.content))}(e)}))))),o.a.createElement(v.a,{visible:S,onCancel:M,onOk:function(){w||(""!==x.trim()&&x===m.name?(j(!0),l(m.id).then((function(){M(),e.history.push("/pipeline")}))):J("流水线名称错误"))},title:"删除流水线",okText:"确认删除",okType:"dangerous",__source:{fileName:y,lineNumber:189,columnNumber:17}},o.a.createElement(a.default,{spinning:w,tip:"删除中...",__source:{fileName:y,lineNumber:197,columnNumber:21}},o.a.createElement("div",{className:"pipelineReDel-modal",__source:{fileName:y,lineNumber:198,columnNumber:25}},o.a.createElement("div",{className:"pipelineReDel-modal-warn",__source:{fileName:y,lineNumber:199,columnNumber:29}},"危险：流水线删除无法恢复！请慎重操作！"),o.a.createElement("div",{className:"pipelineReDel-modal-warn",__source:{fileName:y,lineNumber:200,columnNumber:29}},o.a.createElement("div",{__source:{fileName:y,lineNumber:201,columnNumber:33}},"该操作将永久删除流水线",o.a.createElement("span",{className:"warn-pipeline",__source:{fileName:y,lineNumber:201,columnNumber:49}}," ",null==m?void 0:m.name," "),"的相关数据，包括（配置、历史、制品）等。"),o.a.createElement("div",{className:"warn-continue",__source:{fileName:y,lineNumber:202,columnNumber:33}},"为防止意外，确认继续操作请输入以下内容："),o.a.createElement("div",{className:"warn-pipeline-title",__source:{fileName:y,lineNumber:203,columnNumber:33}},null==m?void 0:m.name)),o.a.createElement("div",{className:"pipelineReDel-modal-input",__source:{fileName:y,lineNumber:205,columnNumber:29}},o.a.createElement(i.default,{className:"".concat(B?"inputs-error":""),placeholder:"请输入提示内容以确认继续操作",onChange:function(e){return A(e.target.value)},__source:{fileName:y,lineNumber:206,columnNumber:33}})),o.a.createElement("div",{className:"pipelineReDel-modal-error",__source:{fileName:y,lineNumber:212,columnNumber:29}},B))))))})))}}]);